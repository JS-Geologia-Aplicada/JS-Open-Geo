import{g as Ts}from"./vendor-pdf-6f7AKTaE.js";function Cs(t){const e=Math.sqrt(Math.pow(t,2)+Math.pow(t,2))/2;return-(t-Math.sqrt(Math.pow(t,2)-Math.pow(e,2)))/e}function S(t,e,s){return{x:t??0,y:e??0,z:s??0}}function E(t,e){return{x:t??0,y:e??0}}class H{static next(){return(++H.seed).toString(16).toUpperCase()}static peek(){return(H.seed+1).toString(16).toUpperCase()}static clear(){H.seed=0}}H.seed=0;class ks{constructor(){this.handle=H.next()}dxfy(e){e.type("ENDBLK"),e.handle(this.handle),e.push(330,this.ownerObjectHandle),e.subclassMarker("AcDbEntity"),e.layerName("0"),e.subclassMarker("AcDbBlockEnd")}}const xe=(t,e)=>({tl:t,br:e});class D{static centerRadiusBBox(e,s){return xe(S(e.x-s,e.y+s),S(e.x+s,e.y-s))}static pointBBox(e){return xe(S(e.x-100,e.y+100),S(e.x+100,e.y-100))}static lineBBox(e,s){const n=e.x>s.x?e.x:s.x,o=e.x<s.x?e.x:s.x,a=e.y>s.y?e.y:s.y,l=e.y<s.y?e.y:s.y,i=e.z>s.z?e.z:s.z,u=e.z<s.z?e.z:s.z;return xe(S(o,a,u),S(n,l,i))}static verticesBBox(e){let s=-1/0,n=-1/0,o=1/0,a=1/0;for(let l=0;l<e.length;l++){const{x:i,y:u}=e[l];s<i&&(s=i),n<u&&(n=u),o>i&&(o=i),a>u&&(a=u)}return xe(S(o,n),S(s,a))}static boundingBox(e){if(e.length===0)return D.pointBBox(S());const s=[];for(let n=0;n<e.length;n++){const o=e[n];s.push(o.tl,o.br)}return D.verticesBBox(s)}static boundingBoxCenter(e){return S(e.tl.x+(e.br.x-e.tl.x)/2,e.br.y+(e.tl.y-e.br.y)/2,0)}static boundingBoxHeight(e){return e.tl.y-e.br.y}}var Pe,Dt,Et;(function(t){t[t.None=0]="None",t[t.Frozen=1]="Frozen",t[t.FrozenInNewViewports=2]="FrozenInNewViewports",t[t.Locked=4]="Locked",t[t.XRefDependent=16]="XRefDependent",t[t.XRefResolved=32]="XRefResolved"})(Pe||(Pe={})),function(t){t[t.None=0]="None",t[t.DescribeShape=1]="DescribeShape",t[t.VerticalText=4]="VerticalText",t[t.XRefDependent=16]="XRefDependent",t[t.XRefResolved=32]="XRefResolved"}(Dt||(Dt={})),function(t){t[t.None=0]="None",t[t.PaperSpace=1]="PaperSpace",t[t.XRefDependent=16]="XRefDependent",t[t.XRefResolved=32]="XRefResolved"}(Et||(Et={}));class ee{constructor(e){this.type=e,this.handle=H.next()}dxfy(e){e.type(this.type),e.handle(this.handle),e.push(330,this.ownerObjectHandle),e.subclassMarker("AcDbSymbolTableRecord")}}class ae extends ee{constructor(e,s,n,o){super("LAYER"),this.name=e,this.colorNumber=s,this.lineType=n,this.flags=o??Pe.None}dxfy(e){super.dxfy(e),e.subclassMarker("AcDbLayerTableRecord"),e.name(this.name),e.push(70,this.flags),e.colorNumber(this.colorNumber),e.push(420,this.trueColor),e.lineType(this.lineType),e.push(370,0),e.push(390,0),e.push(347,this.materialObject)}}ae.layerZeroName="0";const Rs=[[["00","00","00"],0,["0","0","0"]],[["FF","00","00"],1,["255","0","0"]],[["FF","FF","00"],2,["255","255","0"]],[["00","FF","00"],3,["0","255","0"]],[["00","FF","FF"],4,["0","255","255"]],[["00","00","FF"],5,["0","0","255"]],[["FF","00","FF"],6,["255","0","255"]],[["FF","FF","FF"],7,["255","255","255"]],[["41","41","41"],8,["65","65","65"]],[["80","80","80"],9,["128","128","128"]],[["FF","00","00"],10,["255","0","0"]],[["FF","AA","AA"],11,["255","170","170"]],[["BD","00","00"],12,["189","0","0"]],[["BD","7E","7E"],13,["189","126","126"]],[["81","00","00"],14,["129","0","0"]],[["81","56","56"],15,["129","86","86"]],[["68","00","00"],16,["104","0","0"]],[["68","45","45"],17,["104","69","69"]],[["4F","00","00"],18,["79","0","0"]],[["4F","35","35"],19,["79","53","53"]],[["FF","3F","00"],20,["255","63","0"]],[["FF","BF","AA"],21,["255","191","170"]],[["BD","2E","00"],22,["189","46","0"]],[["BD","8D","7E"],23,["189","141","126"]],[["81","1F","00"],24,["129","31","0"]],[["81","60","56"],25,["129","96","86"]],[["68","19","00"],26,["104","25","0"]],[["68","4E","45"],27,["104","78","69"]],[["4F","13","00"],28,["79","19","0"]],[["4F","3B","35"],29,["79","59","53"]],[["FF","7F","00"],30,["255","127","0"]],[["FF","D4","AA"],31,["255","212","170"]],[["BD","5E","00"],32,["189","94","0"]],[["BD","9D","7E"],33,["189","157","126"]],[["81","40","00"],34,["129","64","0"]],[["81","6B","56"],35,["129","107","86"]],[["68","34","00"],36,["104","52","0"]],[["68","56","45"],37,["104","86","69"]],[["4F","27","00"],38,["79","39","0"]],[["4F","42","35"],39,["79","66","53"]],[["FF","BF","00"],40,["255","191","0"]],[["FF","EA","AA"],41,["255","234","170"]],[["BD","8D","00"],42,["189","141","0"]],[["BD","AD","7E"],43,["189","173","126"]],[["81","60","00"],44,["129","96","0"]],[["81","76","56"],45,["129","118","86"]],[["68","4E","00"],46,["104","78","0"]],[["68","5F","45"],47,["104","95","69"]],[["4F","3B","00"],48,["79","59","0"]],[["4F","49","35"],49,["79","73","53"]],[["FF","FF","00"],50,["255","255","0"]],[["FF","FF","AA"],51,["255","255","170"]],[["BD","BD","00"],52,["189","189","0"]],[["BD","BD","7E"],53,["189","189","126"]],[["81","81","00"],54,["129","129","0"]],[["81","81","56"],55,["129","129","86"]],[["68","68","00"],56,["104","104","0"]],[["68","68","45"],57,["104","104","69"]],[["4F","4F","00"],58,["79","79","0"]],[["4F","4F","35"],59,["79","79","53"]],[["BF","FF","00"],60,["191","255","0"]],[["EA","FF","AA"],61,["234","255","170"]],[["8D","BD","00"],62,["141","189","0"]],[["AD","BD","7E"],63,["173","189","126"]],[["60","81","00"],64,["96","129","0"]],[["76","81","56"],65,["118","129","86"]],[["4E","68","00"],66,["78","104","0"]],[["5F","68","45"],67,["95","104","69"]],[["3B","4F","00"],68,["59","79","0"]],[["49","4F","35"],69,["73","79","53"]],[["7F","FF","00"],70,["127","255","0"]],[["D4","FF","AA"],71,["212","255","170"]],[["5E","BD","00"],72,["94","189","0"]],[["9D","BD","7E"],73,["157","189","126"]],[["40","81","00"],74,["64","129","0"]],[["6B","81","56"],75,["107","129","86"]],[["34","68","00"],76,["52","104","0"]],[["56","68","45"],77,["86","104","69"]],[["27","4F","00"],78,["39","79","0"]],[["42","4F","35"],79,["66","79","53"]],[["3F","FF","00"],80,["63","255","0"]],[["BF","FF","AA"],81,["191","255","170"]],[["2E","BD","00"],82,["46","189","0"]],[["8D","BD","7E"],83,["141","189","126"]],[["1F","81","00"],84,["31","129","0"]],[["60","81","56"],85,["96","129","86"]],[["19","68","00"],86,["25","104","0"]],[["4E","68","45"],87,["78","104","69"]],[["13","4F","00"],88,["19","79","0"]],[["3B","4F","35"],89,["59","79","53"]],[["00","FF","00"],90,["0","255","0"]],[["AA","FF","AA"],91,["170","255","170"]],[["00","BD","00"],92,["0","189","0"]],[["7E","BD","7E"],93,["126","189","126"]],[["00","81","00"],94,["0","129","0"]],[["56","81","56"],95,["86","129","86"]],[["00","68","00"],96,["0","104","0"]],[["45","68","45"],97,["69","104","69"]],[["00","4F","00"],98,["0","79","0"]],[["35","4F","35"],99,["53","79","53"]],[["00","FF","3F"],100,["0","255","63"]],[["AA","FF","BF"],101,["170","255","191"]],[["00","BD","2E"],102,["0","189","46"]],[["7E","BD","8D"],103,["126","189","141"]],[["00","81","1F"],104,["0","129","31"]],[["56","81","60"],105,["86","129","96"]],[["00","68","19"],106,["0","104","25"]],[["45","68","4E"],107,["69","104","78"]],[["00","4F","13"],108,["0","79","19"]],[["35","4F","3B"],109,["53","79","59"]],[["00","FF","7F"],110,["0","255","127"]],[["AA","FF","D4"],111,["170","255","212"]],[["00","BD","5E"],112,["0","189","94"]],[["7E","BD","9D"],113,["126","189","157"]],[["00","81","40"],114,["0","129","64"]],[["56","81","6B"],115,["86","129","107"]],[["00","68","34"],116,["0","104","52"]],[["45","68","56"],117,["69","104","86"]],[["00","4F","27"],118,["0","79","39"]],[["35","4F","42"],119,["53","79","66"]],[["00","FF","BF"],120,["0","255","191"]],[["AA","FF","EA"],121,["170","255","234"]],[["00","BD","8D"],122,["0","189","141"]],[["7E","BD","AD"],123,["126","189","173"]],[["00","81","60"],124,["0","129","96"]],[["56","81","76"],125,["86","129","118"]],[["00","68","4E"],126,["0","104","78"]],[["45","68","5F"],127,["69","104","95"]],[["00","4F","3B"],128,["0","79","59"]],[["35","4F","49"],129,["53","79","73"]],[["00","FF","FF"],130,["0","255","255"]],[["AA","FF","FF"],131,["170","255","255"]],[["00","BD","BD"],132,["0","189","189"]],[["7E","BD","BD"],133,["126","189","189"]],[["00","81","81"],134,["0","129","129"]],[["56","81","81"],135,["86","129","129"]],[["00","68","68"],136,["0","104","104"]],[["45","68","68"],137,["69","104","104"]],[["00","4F","4F"],138,["0","79","79"]],[["35","4F","4F"],139,["53","79","79"]],[["00","BF","FF"],140,["0","191","255"]],[["AA","EA","FF"],141,["170","234","255"]],[["00","8D","BD"],142,["0","141","189"]],[["7E","AD","BD"],143,["126","173","189"]],[["00","60","81"],144,["0","96","129"]],[["56","76","81"],145,["86","118","129"]],[["00","4E","68"],146,["0","78","104"]],[["45","5F","68"],147,["69","95","104"]],[["00","3B","4F"],148,["0","59","79"]],[["35","49","4F"],149,["53","73","79"]],[["00","7F","FF"],150,["0","127","255"]],[["AA","D4","FF"],151,["170","212","255"]],[["00","5E","BD"],152,["0","94","189"]],[["7E","9D","BD"],153,["126","157","189"]],[["00","40","81"],154,["0","64","129"]],[["56","6B","81"],155,["86","107","129"]],[["00","34","68"],156,["0","52","104"]],[["45","56","68"],157,["69","86","104"]],[["00","27","4F"],158,["0","39","79"]],[["35","42","4F"],159,["53","66","79"]],[["00","3F","FF"],160,["0","63","255"]],[["AA","BF","FF"],161,["170","191","255"]],[["00","2E","BD"],162,["0","46","189"]],[["7E","8D","BD"],163,["126","141","189"]],[["00","1F","81"],164,["0","31","129"]],[["56","60","81"],165,["86","96","129"]],[["00","19","68"],166,["0","25","104"]],[["45","4E","68"],167,["69","78","104"]],[["00","13","4F"],168,["0","19","79"]],[["35","3B","4F"],169,["53","59","79"]],[["00","00","FF"],170,["0","0","255"]],[["AA","AA","FF"],171,["170","170","255"]],[["00","00","BD"],172,["0","0","189"]],[["7E","7E","BD"],173,["126","126","189"]],[["00","00","81"],174,["0","0","129"]],[["56","56","81"],175,["86","86","129"]],[["00","00","68"],176,["0","0","104"]],[["45","45","68"],177,["69","69","104"]],[["00","00","4F"],178,["0","0","79"]],[["35","35","4F"],179,["53","53","79"]],[["3F","00","FF"],180,["63","0","255"]],[["BF","AA","FF"],181,["191","170","255"]],[["2E","00","BD"],182,["46","0","189"]],[["8D","7E","BD"],183,["141","126","189"]],[["1F","00","81"],184,["31","0","129"]],[["60","56","81"],185,["96","86","129"]],[["19","00","68"],186,["25","0","104"]],[["4E","45","68"],187,["78","69","104"]],[["13","00","4F"],188,["19","0","79"]],[["3B","35","4F"],189,["59","53","79"]],[["7F","00","FF"],190,["127","0","255"]],[["D4","AA","FF"],191,["212","170","255"]],[["5E","00","BD"],192,["94","0","189"]],[["9D","7E","BD"],193,["157","126","189"]],[["40","00","81"],194,["64","0","129"]],[["6B","56","81"],195,["107","86","129"]],[["34","00","68"],196,["52","0","104"]],[["56","45","68"],197,["86","69","104"]],[["27","00","4F"],198,["39","0","79"]],[["42","35","4F"],199,["66","53","79"]],[["BF","00","FF"],200,["191","0","255"]],[["EA","AA","FF"],201,["234","170","255"]],[["8D","00","BD"],202,["141","0","189"]],[["AD","7E","BD"],203,["173","126","189"]],[["60","00","81"],204,["96","0","129"]],[["76","56","81"],205,["118","86","129"]],[["4E","00","68"],206,["78","0","104"]],[["5F","45","68"],207,["95","69","104"]],[["3B","00","4F"],208,["59","0","79"]],[["49","35","4F"],209,["73","53","79"]],[["FF","00","FF"],210,["255","0","255"]],[["FF","AA","FF"],211,["255","170","255"]],[["BD","00","BD"],212,["189","0","189"]],[["BD","7E","BD"],213,["189","126","189"]],[["81","00","81"],214,["129","0","129"]],[["81","56","81"],215,["129","86","129"]],[["68","00","68"],216,["104","0","104"]],[["68","45","68"],217,["104","69","104"]],[["4F","00","4F"],218,["79","0","79"]],[["4F","35","4F"],219,["79","53","79"]],[["FF","00","BF"],220,["255","0","191"]],[["FF","AA","EA"],221,["255","170","234"]],[["BD","00","8D"],222,["189","0","141"]],[["BD","7E","AD"],223,["189","126","173"]],[["81","00","60"],224,["129","0","96"]],[["81","56","76"],225,["129","86","118"]],[["68","00","4E"],226,["104","0","78"]],[["68","45","5F"],227,["104","69","95"]],[["4F","00","3B"],228,["79","0","59"]],[["4F","35","49"],229,["79","53","73"]],[["FF","00","7F"],230,["255","0","127"]],[["FF","AA","D4"],231,["255","170","212"]],[["BD","00","5E"],232,["189","0","94"]],[["BD","7E","9D"],233,["189","126","157"]],[["81","00","40"],234,["129","0","64"]],[["81","56","6B"],235,["129","86","107"]],[["68","00","34"],236,["104","0","52"]],[["68","45","56"],237,["104","69","86"]],[["4F","00","27"],238,["79","0","39"]],[["4F","35","42"],239,["79","53","66"]],[["FF","00","3F"],240,["255","0","63"]],[["FF","AA","BF"],241,["255","170","191"]],[["BD","00","2E"],242,["189","0","46"]],[["BD","7E","8D"],243,["189","126","141"]],[["81","00","1F"],244,["129","0","31"]],[["81","56","60"],245,["129","86","96"]],[["68","00","19"],246,["104","0","25"]],[["68","45","4E"],247,["104","69","78"]],[["4F","00","13"],248,["79","0","19"]],[["4F","35","3B"],249,["79","53","59"]],[["33","33","33"],250,["51","51","51"]],[["50","50","50"],251,["80","80","80"]],[["69","69","69"],252,["105","105","105"]],[["82","82","82"],253,["130","130","130"]],[["BE","BE","BE"],254,["190","190","190"]],[["FF","FF","FF"],255,["255","255","255"]]];function jt(t){let e="";const s=Rs.find(n=>{const[,o]=n;return o===t});if(s){const[n]=s,[o,a,l]=n;e=`${o}${a}${l}`}return e}class Xs{constructor(e){this.name=e,this.tags=[]}add(e,s){this.tags.push({code:e,value:s})}dxfy(e){e.push(102,`{${this.name}`);for(const s of this.tags)e.push(s.code,s.value);e.push(102,"}")}}class Ns{constructor(){this.lines=[]}push(e,s){s!=null&&this.lines.push(e,s)}stringify(){return this.lines.join(`
`)}start(e){this.push(0,"SECTION"),this.push(2,e)}end(){this.push(0,"ENDSEC")}variableName(e){this.push(9,e)}type(e){this.push(0,e)}primaryText(e){this.push(1,e)}name(e,s=2){this.push(s,e)}handle(e){this.push(5,e)}lineType(e){this.push(6,e)}textStyle(e){this.push(7,e)}layerName(e){this.push(8,e)}point2d(e,s=0){this.push(10+s,e?.x),this.push(20+s,e?.y)}point3d(e,s=0){this.point2d(e,s),this.push(30+s,e?.z)}elevation(e){this.push(38,e)}thickness(e){this.push(39,e)}visibilty(e){e!=null&&this.push(60,e?0:1)}colorNumber(e){this.push(62,e)}subclassMarker(e){this.push(100,e)}}var wt,Oe,Me,b;function I(t,e,s,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?n:s==="a"?n.call(t):n?n.value:e.get(t)}function ce(t,e,s,n,o){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,s),s}function w(t,e){return{code:t,value:e}}function Gt(t,e=255){const s=[],n=[];for(let o=0;o<t.length;o++){const a=t[o];n.length===e||o===t.length-1?(s.push(n.join("")),n.length=0):n.push(a)}return s}(function(t){t[t.Red=1]="Red",t[t.Green=3]="Green",t[t.Cyan=4]="Cyan",t[t.Blue=5]="Blue",t[t.Magenta=6]="Magenta",t[t.White=7]="White",t[t.Black=0]="Black",t[t.Yellow=2]="Yellow"})(wt||(wt={})),function(t){t[t.Unitless=0]="Unitless",t[t.Inches=1]="Inches",t[t.Feet=2]="Feet",t[t.Miles=3]="Miles",t[t.Millimeters=4]="Millimeters",t[t.Centimeters=5]="Centimeters",t[t.Meters=6]="Meters",t[t.Kilometers=7]="Kilometers",t[t.Microinches=8]="Microinches",t[t.Mils=9]="Mils",t[t.Yards=10]="Yards",t[t.Angstroms=11]="Angstroms",t[t.Nanometers=12]="Nanometers",t[t.Microns=13]="Microns",t[t.Decimeters=14]="Decimeters",t[t.Decameters=15]="Decameters",t[t.Hectometers=16]="Hectometers",t[t.Gigameters=17]="Gigameters",t[t.AstronomicalUnits=18]="AstronomicalUnits",t[t.LightYears=19]="LightYears",t[t.Parsecs=20]="Parsecs",t[t.USSurveyFeet=21]="USSurveyFeet",t[t.USSurveyInch=22]="USSurveyInch",t[t.USSurveyYard=23]="USSurveyYard",t[t.USSurveyMile=24]="USSurveyMile"}(Oe||(Oe={})),function(t){t.Continuous="Continuous"}(Me||(Me={})),typeof SuppressedError=="function"&&SuppressedError;class Ys{constructor(e){b.set(this,void 0),this.name=e,ce(this,b,[])}clear(){I(this,b,"f").length=0}string(e){Gt(e).forEach(s=>I(this,b,"f").push(w(1e3,s)))}beginList(){I(this,b,"f").push(w(1002,"{"))}endList(){I(this,b,"f").push(w(1002,"}"))}layerName(e){I(this,b,"f").push(w(1003,e))}binaryData(e){Gt(e).forEach(s=>I(this,b,"f").push(w(1004,s)))}databaseHandle(e){I(this,b,"f").push(w(1005,e))}point(e){I(this,b,"f").push(w(1010,e.x)),I(this,b,"f").push(w(1020,e.y)),I(this,b,"f").push(w(1030,e.z))}position(e){I(this,b,"f").push(w(1011,e.x)),I(this,b,"f").push(w(1021,e.y)),I(this,b,"f").push(w(1031,e.z))}displacement(e){I(this,b,"f").push(w(1012,e.x)),I(this,b,"f").push(w(1022,e.y)),I(this,b,"f").push(w(1032,e.z))}direction(e){I(this,b,"f").push(w(1013,e.x)),I(this,b,"f").push(w(1023,e.y)),I(this,b,"f").push(w(1033,e.z))}real(e){I(this,b,"f").push(w(1040,e))}distance(e){I(this,b,"f").push(w(1041,e))}scale(e){I(this,b,"f").push(w(1042,e))}integer(e){I(this,b,"f").push(w(1070,e))}long(e){I(this,b,"f").push(w(1071,e))}dxfy(e){e.push(1001,this.name),e.push(1002,"{"),I(this,b,"f").forEach(s=>e.push(s.code,s.value)),e.push(1002,"}")}}b=new WeakMap;class d{set angle(e){this.patternsData.forEach(s=>s.lineAngle=e)}constructor(e){this.name=e,this.patternsData=[],this.scale=1}dxfy(e){e.push(78,this.patternsData.length);for(const s of this.patternsData){e.push(53,s.lineAngle),e.push(43,s.x),e.push(44,s.y),e.push(45,s.offsetX*this.scale),e.push(46,s.offsetY*this.scale),e.push(79,s.dashLengthItems.length);for(const n of s.dashLengthItems)e.push(49,n*this.scale)}}add(e){this.patternsData.push(e)}}const h=new Map,Je=new d("ANGLE");Je.add({lineAngle:0,x:0,y:0,offsetX:.275,offsetY:.2,dashLengthItems:[-.075]}),Je.add({lineAngle:90,x:0,y:0,offsetX:.275,offsetY:.2,dashLengthItems:[-.075]}),h.set("ANGLE",Je);const zt=new d("ANSI31");zt.add({lineAngle:45,x:0,y:0,offsetX:0,offsetY:1.25,dashLengthItems:[]}),h.set("ANSI31",zt);const Jt=new d("ANSI32");Jt.add({lineAngle:45,x:0,y:0,offsetX:0,offsetY:3.175,dashLengthItems:[]}),h.set("ANSI32",Jt);const Ke=new d("ANSI33");Ke.add({lineAngle:45,x:0,y:0,offsetX:0,offsetY:9.525,dashLengthItems:[]}),Ke.add({lineAngle:45,x:4.49013,y:0,offsetX:0,offsetY:9.525,dashLengthItems:[]}),h.set("ANSI33",Ke);const Ze=new d("ANSI34");Ze.add({lineAngle:45,x:0,y:0,offsetX:0,offsetY:6.35,dashLengthItems:[]}),Ze.add({lineAngle:45,x:4.49013,y:0,offsetX:0,offsetY:6.35,dashLengthItems:[3.175,-1.5875]}),h.set("ANSI34",Ze);const le=new d("ANSI35");le.add({lineAngle:45,x:0,y:0,offsetX:0,offsetY:19.05,dashLengthItems:[]}),le.add({lineAngle:45,x:4.49013,y:0,offsetX:0,offsetY:19.05,dashLengthItems:[]}),le.add({lineAngle:45,x:8.98026,y:0,offsetX:0,offsetY:19.05,dashLengthItems:[]}),le.add({lineAngle:45,x:13.4704,y:0,offsetX:0,offsetY:19.05,dashLengthItems:[]}),h.set("ANSI35",le);const qe=new d("ANSI36");qe.add({lineAngle:45,x:0,y:0,offsetX:0,offsetY:6.35,dashLengthItems:[]}),qe.add({lineAngle:45,x:4.49013,y:0,offsetX:0,offsetY:6.35,dashLengthItems:[7.9375,-1.5875,0,-1.5875]}),h.set("ANSI36",qe);const Kt=new d("ANSI37");Kt.add({lineAngle:45,x:0,y:0,offsetX:5.55625,offsetY:3.175,dashLengthItems:[7.9375,-1.5875,0,-1.5875]}),h.set("ANSI37",Kt);const $e=new d("ANSI38");$e.add({lineAngle:45,x:0,y:0,offsetX:0,offsetY:3.175,dashLengthItems:[]}),$e.add({lineAngle:135,x:0,y:0,offsetX:0,offsetY:3.175,dashLengthItems:[]}),h.set("ANSI38",$e);const Qe=new d("AR_B816");Qe.add({lineAngle:45,x:0,y:0,offsetX:0,offsetY:3.175,dashLengthItems:[]}),Qe.add({lineAngle:135,x:0,y:0,offsetX:6.35,offsetY:3.175,dashLengthItems:[7.9375,-4.7625]}),h.set("AR_B816",Qe);const et=new d("AR_B816C");et.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:203.2,dashLengthItems:[]}),et.add({lineAngle:90,x:0,y:0,offsetX:203.2,offsetY:203.2,dashLengthItems:[203.2,-203.2]}),h.set("AR_B816C",et);const he=new d("AR_B88");he.add({lineAngle:0,x:0,y:0,offsetX:203.2,offsetY:203.2,dashLengthItems:[396.875,-9.525]}),he.add({lineAngle:0,x:-203.2,y:9.525,offsetX:203.2,offsetY:203.2,dashLengthItems:[396.875,-9.525]}),he.add({lineAngle:90,x:0,y:0,offsetX:203.2,offsetY:203.2,dashLengthItems:[-212.725,193.675]}),he.add({lineAngle:90,x:-9.525,y:0,offsetX:203.2,offsetY:203.2,dashLengthItems:[-212.725,193.675]}),h.set("AR_B88",he);const tt=new d("AR_BRELM");tt.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:203.2,dashLengthItems:[]}),tt.add({lineAngle:90,x:0,y:0,offsetX:203.2,offsetY:101.6,dashLengthItems:[203.2,-203.2]}),h.set("AR_BRELM",tt);const z=new d("AR_BRSTD");z.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:135.484,dashLengthItems:[193.675,-9.525]}),z.add({lineAngle:0,x:0,y:57.15,offsetX:0,offsetY:135.484,dashLengthItems:[193.675,-9.525]}),z.add({lineAngle:0,x:50.8,y:67.7418,offsetX:0,offsetY:135.484,dashLengthItems:[92.075,-9.525]}),z.add({lineAngle:0,x:50.8,y:124.892,offsetX:0,offsetY:135.484,dashLengthItems:[92.075,-9.525]}),z.add({lineAngle:90,x:0,y:0,offsetX:0,offsetY:203.2,dashLengthItems:[57.15,-78.334]}),z.add({lineAngle:90,x:-9.525,y:0,offsetX:0,offsetY:203.2,dashLengthItems:[57.15,-78.334]}),z.add({lineAngle:90,x:50.8,y:67.7418,offsetX:0,offsetY:101.6,dashLengthItems:[57.15,-78.334]}),z.add({lineAngle:90,x:41.275,y:67.7418,offsetX:0,offsetY:101.6,dashLengthItems:[57.15,-78.334]}),h.set("AR_BRSTD",z);const st=new d("AR_CONC");st.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:67.7418,dashLengthItems:[]}),st.add({lineAngle:90,x:0,y:0,offsetX:67.7418,offsetY:101.6,dashLengthItems:[67.7418,-67.7418]}),h.set("AR_CONC",st);const M=new d("AR_HBONE");M.add({lineAngle:50,x:0,y:0,offsetX:104.896,offsetY:-149.807,dashLengthItems:[19.05,-209.55]}),M.add({lineAngle:355,x:0,y:0,offsetX:-51.76101082,offsetY:187.25814969,dashLengthItems:[15.24,-167.64058417]}),M.add({lineAngle:100.4514447,x:15.182007,y:-1.3282535,offsetX:145.5569059,offsetY:-176.270089,dashLengthItems:[16.1900088,-178.0902446]}),M.add({lineAngle:46.1842,x:0,y:50.8,offsetX:157.343,offsetY:-224.71,dashLengthItems:[28.575,-314.325]}),M.add({lineAngle:96.63555761,x:22.5899,y:47.2965,offsetX:218.33577212,offsetY:-264.40480444,dashLengthItems:[24.28502314,-267.13560816]}),M.add({lineAngle:351.18415117,x:0,y:50.8,offsetX:196.67912063,offsetY:280.88740361,dashLengthItems:[22.85996707,-251.45973192]}),M.add({lineAngle:21,x:25.4,y:38.1,offsetX:104.89565868,offsetY:-149.80652586,dashLengthItems:[19.05,-209.55]}),M.add({lineAngle:326,x:25.4,y:38.1,offsetX:-51.7604,offsetY:187.258,dashLengthItems:[15.24,-167.64]}),M.add({lineAngle:71.451445,x:38.0345326,y:29.5779001,offsetX:145.5567546,offsetY:-176.2700748,dashLengthItems:[16.1900088,-178.0899376]}),M.add({lineAngle:37.5,x:0,y:0,offsetX:53.9242,offsetY:65.2018,dashLengthItems:[0,-165.608,0,-170.18,0,-168.275]}),M.add({lineAngle:7.5,x:0,y:0,offsetX:79.3242,offsetY:90.6018,dashLengthItems:[0,-97.028,0,-161.798,0,-64.135]}),M.add({lineAngle:-32.5,x:-56.642,y:0,offsetX:117.434,offsetY:68.0212,dashLengthItems:[0,-63.5,0,-198.12,0,-262.89]}),M.add({lineAngle:-42.5,x:-82.042,y:0,offsetX:92.0344,offsetY:118.821,dashLengthItems:[0,-82.55,0,-131.572,0,-186.69]}),h.set("AR_HBONE",M);const nt=new d("AR_PARQ1");nt.add({lineAngle:45,x:0,y:0,offsetX:101.6,offsetY:101.6,dashLengthItems:[304.8,-101.6]}),nt.add({lineAngle:135,x:71.842,y:71.842,offsetX:101.6,offsetY:-101.6,dashLengthItems:[304.8,-101.6]}),h.set("AR_PARQ1",nt);const P=new d("AR_RROOF");P.add({lineAngle:90,x:0,y:0,offsetX:304.8,offsetY:304.8,dashLengthItems:[304.8,-304.8]}),P.add({lineAngle:90,x:50.8,y:0,offsetX:304.8,offsetY:304.8,dashLengthItems:[304.8,-304.8]}),P.add({lineAngle:90,x:101.6,y:0,offsetX:304.8,offsetY:304.8,dashLengthItems:[304.8,-304.8]}),P.add({lineAngle:90,x:152.4,y:0,offsetX:304.8,offsetY:304.8,dashLengthItems:[304.8,-304.8]}),P.add({lineAngle:90,x:203.2,y:0,offsetX:304.8,offsetY:304.8,dashLengthItems:[304.8,-304.8]}),P.add({lineAngle:90,x:254,y:0,offsetX:304.8,offsetY:304.8,dashLengthItems:[304.8,-304.8]}),P.add({lineAngle:90,x:304.8,y:0,offsetX:304.8,offsetY:304.8,dashLengthItems:[304.8,-304.8]}),P.add({lineAngle:0,x:0,y:304.8,offsetX:304.8,offsetY:-304.8,dashLengthItems:[304.8,-304.8]}),P.add({lineAngle:0,x:0,y:355.6,offsetX:304.8,offsetY:-304.8,dashLengthItems:[304.8,-304.8]}),P.add({lineAngle:0,x:0,y:406.4,offsetX:304.8,offsetY:-304.8,dashLengthItems:[304.8,-304.8]}),P.add({lineAngle:0,x:0,y:457.2,offsetX:304.8,offsetY:-304.8,dashLengthItems:[304.8,-304.8]}),P.add({lineAngle:0,x:0,y:508,offsetX:304.8,offsetY:-304.8,dashLengthItems:[304.8,-304.8]}),P.add({lineAngle:0,x:0,y:558.8,offsetX:304.8,offsetY:-304.8,dashLengthItems:[304.8,-304.8]}),P.add({lineAngle:0,x:0,y:609.6,offsetX:304.8,offsetY:-304.8,dashLengthItems:[304.8,-304.8]}),h.set("AR_RROOF",P);const me=new d("AR_RSHKE");me.add({lineAngle:0,x:0,y:0,offsetX:55.88,offsetY:25.4,dashLengthItems:[381,-50.8,127,-25.4]}),me.add({lineAngle:0,x:33.782,y:12.7,offsetX:-25.4,offsetY:33.782,dashLengthItems:[76.2,-8.382,152.4,-19.05]}),me.add({lineAngle:0,x:12.7,y:21.59,offsetX:132.08,offsetY:17.018,dashLengthItems:[203.2,-35.56,101.6,-25.4]}),h.set("AR_RSHKE",me);const j=new d("AR_SAND");j.add({lineAngle:0,x:0,y:0,offsetX:647.7,offsetY:304.8,dashLengthItems:[152.4,-127,177.8,-76.2,228.6,-101.6]}),j.add({lineAngle:0,x:152.4,y:12.7,offsetX:647.7,offsetY:304.8,dashLengthItems:[127,-482.6,101.6,-152.4]}),j.add({lineAngle:0,x:457.2,y:-19.05,offsetX:647.7,offsetY:304.8,dashLengthItems:[76.2,-787.4]}),j.add({lineAngle:90,x:0,y:0,offsetX:304.8,offsetY:215.9,dashLengthItems:[292.1,-927.1]}),j.add({lineAngle:90,x:152.4,y:0,offsetX:304.8,offsetY:215.9,dashLengthItems:[285.75,-933.45]}),j.add({lineAngle:90,x:279.4,y:0,offsetX:304.8,offsetY:215.9,dashLengthItems:[266.7,-952.5]}),j.add({lineAngle:90,x:457.2,y:-19.05,offsetX:304.8,offsetY:215.9,dashLengthItems:[292.1,-927.1]}),j.add({lineAngle:90,x:533.4,y:-19.05,offsetX:304.8,offsetY:215.9,dashLengthItems:[292.1,-927.1]}),j.add({lineAngle:90,x:762,y:0,offsetX:304.8,offsetY:215.9,dashLengthItems:[279.4,-939.8]}),h.set("AR_SAND",j);const de=new d("BOX");de.add({lineAngle:37.5,x:0,y:0,offsetX:28.5242,offsetY:39.8018,dashLengthItems:[0,-38.608,0,-43.18,0,-41.275]}),de.add({lineAngle:7.5,x:0,y:0,offsetX:53.9242,offsetY:65.2018,dashLengthItems:[0,-20.828,0,-34.798,0,-13.335]}),de.add({lineAngle:-32.5,x:-31.242,y:0,offsetX:66.6344,offsetY:42.6212,dashLengthItems:[0,-12.7,0,-45.72,0,-59.69]}),de.add({lineAngle:-42.5,x:-31.242,y:0,offsetX:41.2344,offsetY:68.0212,dashLengthItems:[0,-6.35,0,-29.972,0,-34.29]}),h.set("BOX",de);const J=new d("BRASS");J.add({lineAngle:90,x:0,y:0,offsetX:0,offsetY:25.4,dashLengthItems:[]}),J.add({lineAngle:90,x:6.35,y:0,offsetX:0,offsetY:25.4,dashLengthItems:[]}),J.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:25.4,dashLengthItems:[-6.35,6.35]}),J.add({lineAngle:0,x:0,y:6.35,offsetX:0,offsetY:25.4,dashLengthItems:[-6.35,6.35]}),J.add({lineAngle:0,x:0,y:12.7,offsetX:0,offsetY:25.4,dashLengthItems:[6.35,-6.35]}),J.add({lineAngle:0,x:0,y:19.05,offsetX:0,offsetY:25.4,dashLengthItems:[6.35,-6.35]}),J.add({lineAngle:90,x:12.7,y:0,offsetX:0,offsetY:25.4,dashLengthItems:[6.35,-6.35]}),J.add({lineAngle:90,x:19.05,y:0,offsetX:0,offsetY:25.4,dashLengthItems:[6.35,-6.35]}),h.set("BRASS",J);const it=new d("BRICK");it.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:6.35,dashLengthItems:[]}),it.add({lineAngle:0,x:0,y:3.175,offsetX:0,offsetY:6.35,dashLengthItems:[3.175,-1.5875]}),h.set("BRICK",it);const be=new d("BRSTONE");be.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:6.35,dashLengthItems:[]}),be.add({lineAngle:90,x:0,y:0,offsetX:0,offsetY:12.7,dashLengthItems:[6.35,-6.35]}),be.add({lineAngle:90,x:6.35,y:0,offsetX:0,offsetY:12.7,dashLengthItems:[-6.35,6.35]}),h.set("BRSTONE",be);const K=new d("CLAY");K.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:8.382,dashLengthItems:[]}),K.add({lineAngle:90,x:22.86,y:0,offsetX:8.382,offsetY:12.7,dashLengthItems:[8.382,-8.382]}),K.add({lineAngle:90,x:20.32,y:0,offsetX:8.382,offsetY:12.7,dashLengthItems:[8.382,-8.382]}),K.add({lineAngle:0,x:22.86,y:1.397,offsetX:12.7,offsetY:8.382,dashLengthItems:[-22.86,2.54]}),K.add({lineAngle:0,x:22.86,y:2.794,offsetX:12.7,offsetY:8.382,dashLengthItems:[-22.86,2.54]}),K.add({lineAngle:0,x:22.86,y:4.191,offsetX:12.7,offsetY:8.382,dashLengthItems:[-22.86,2.54]}),K.add({lineAngle:0,x:22.86,y:5.588,offsetX:12.7,offsetY:8.382,dashLengthItems:[-22.86,2.54]}),K.add({lineAngle:0,x:22.86,y:6.985,offsetX:12.7,offsetY:8.382,dashLengthItems:[-22.86,2.54]}),h.set("CLAY",K);const re=new d("CORK");re.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:4.7625,dashLengthItems:[]}),re.add({lineAngle:0,x:0,y:.79375,offsetX:0,offsetY:4.7625,dashLengthItems:[]}),re.add({lineAngle:0,x:0,y:1.5875,offsetX:0,offsetY:4.7625,dashLengthItems:[]}),re.add({lineAngle:0,x:0,y:3.175,offsetX:0,offsetY:4.7625,dashLengthItems:[4.7625,-3.175]}),h.set("CORK",re);const fe=new d("CROSS");fe.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:3.175,dashLengthItems:[]}),fe.add({lineAngle:135,x:1.5875,y:-1.5875,offsetX:0,offsetY:8.98026,dashLengthItems:[4.49013,-4.49013]}),fe.add({lineAngle:135,x:2.38125,y:-1.5875,offsetX:0,offsetY:8.98026,dashLengthItems:[4.49013,-4.49013]}),fe.add({lineAngle:135,x:3.175,y:-1.5875,offsetX:0,offsetY:8.98026,dashLengthItems:[4.49013,-4.49013]}),h.set("CROSS",fe);const at=new d("DASH");at.add({lineAngle:0,x:0,y:0,offsetX:6.35,offsetY:6.35,dashLengthItems:[3.175,-9.525]}),at.add({lineAngle:90,x:1.5875,y:-1.5875,offsetX:6.35,offsetY:6.35,dashLengthItems:[3.175,-9.525]}),h.set("DASH",at);const Zt=new d("DOLMIT");Zt.add({lineAngle:0,x:0,y:0,offsetX:3.175,offsetY:3.175,dashLengthItems:[3.175,-3.175]}),h.set("DOLMIT",Zt);const ot=new d("DOTS");ot.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:6.35,dashLengthItems:[]}),ot.add({lineAngle:45,x:0,y:0,offsetX:0,offsetY:17.9605,dashLengthItems:[8.980256121069154,-17.960512242138307]}),h.set("DOTS",ot);const qt=new d("EARTH");qt.add({lineAngle:0,x:0,y:0,offsetX:.79375,offsetY:1.5875,dashLengthItems:[0,-1.5875]}),h.set("EARTH",qt);const te=new d("ESCHER");te.add({lineAngle:0,x:0,y:0,offsetX:6.35,offsetY:6.35,dashLengthItems:[6.35,-6.35]}),te.add({lineAngle:0,x:0,y:2.38125,offsetX:6.35,offsetY:6.35,dashLengthItems:[6.35,-6.35]}),te.add({lineAngle:0,x:0,y:4.7625,offsetX:6.35,offsetY:6.35,dashLengthItems:[6.35,-6.35]}),te.add({lineAngle:90,x:.79375,y:5.55625,offsetX:6.35,offsetY:6.35,dashLengthItems:[6.35,-6.35]}),te.add({lineAngle:90,x:3.175,y:5.55625,offsetX:6.35,offsetY:6.35,dashLengthItems:[6.35,-6.35]}),te.add({lineAngle:90,x:5.55625,y:5.55625,offsetX:6.35,offsetY:6.35,dashLengthItems:[6.35,-6.35]}),h.set("ESCHER",te);const F=new d("FLEX");F.add({lineAngle:60,x:0,y:0,offsetX:-15.24,offsetY:26.3964542936,dashLengthItems:[27.94,-2.54]}),F.add({lineAngle:180,x:0,y:0,offsetX:-15.24,offsetY:26.3964542936,dashLengthItems:[27.94,-2.54]}),F.add({lineAngle:300,x:0,y:0,offsetX:15.24,offsetY:26.3964542936,dashLengthItems:[27.94,-2.54]}),F.add({lineAngle:60,x:2.54,y:0,offsetX:-15.24,offsetY:26.3964542936,dashLengthItems:[5.08,-25.4]}),F.add({lineAngle:300,x:2.54,y:0,offsetX:15.24,offsetY:26.3964542936,dashLengthItems:[5.08,-25.4]}),F.add({lineAngle:60,x:-1.27,y:2.199704516,offsetX:-15.24,offsetY:26.3964542936,dashLengthItems:[5.08,-25.4]}),F.add({lineAngle:180,x:-1.27,y:2.199704516,offsetX:-15.24,offsetY:26.3964542936,dashLengthItems:[5.08,-25.4]}),F.add({lineAngle:300,x:-1.27,y:-2.199704516,offsetX:15.24,offsetY:26.3964542936,dashLengthItems:[5.08,-25.4]}),F.add({lineAngle:180,x:-1.27,y:-2.199704516,offsetX:-15.24,offsetY:26.3964542936,dashLengthItems:[5.08,-25.4]}),F.add({lineAngle:60,x:-10.16,y:0,offsetX:-15.24,offsetY:26.3964542936,dashLengthItems:[5.08,-25.4]}),F.add({lineAngle:300,x:-10.16,y:0,offsetX:15.24,offsetY:26.3964542936,dashLengthItems:[5.08,-25.4]}),F.add({lineAngle:60,x:5.08,y:-8.7988180894,offsetX:-15.24,offsetY:26.3964542936,dashLengthItems:[5.08,-25.4]}),F.add({lineAngle:180,x:5.08,y:-8.7988180894,offsetX:-15.24,offsetY:26.3964542936,dashLengthItems:[5.08,-25.4]}),F.add({lineAngle:300,x:5.08,y:8.7988180894,offsetX:15.24,offsetY:26.3964542936,dashLengthItems:[5.08,-25.4]}),F.add({lineAngle:180,x:5.08,y:8.7988180894,offsetX:-15.24,offsetY:26.3964542936,dashLengthItems:[5.08,-25.4]}),F.add({lineAngle:0,x:5.08,y:4.3994090574,offsetX:-15.24,offsetY:26.3964542936,dashLengthItems:[17.78,-12.7]}),F.add({lineAngle:0,x:5.08,y:-4.3994090574,offsetX:-15.24,offsetY:26.3964542936,dashLengthItems:[17.78,-12.7]}),F.add({lineAngle:120,x:1.27,y:6.5991135734,offsetX:15.24,offsetY:26.3964542936,dashLengthItems:[17.78,-12.7]}),F.add({lineAngle:120,x:-6.35,y:2.199704516,offsetX:15.24,offsetY:26.3964542936,dashLengthItems:[17.78,-12.7]}),F.add({lineAngle:240,x:-6.35,y:-2.199704516,offsetX:15.24,offsetY:26.3964542936,dashLengthItems:[17.78,-12.7]}),F.add({lineAngle:240,x:1.27,y:-6.5991135734,offsetX:15.24,offsetY:26.3964542936,dashLengthItems:[17.78,-12.7]}),h.set("FLEX",F);const lt=new d("GOST_GLASS");lt.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:6.35,dashLengthItems:[6.35,-6.35]}),lt.add({lineAngle:45,x:6.35,y:0,offsetX:4.490128053,offsetY:4.490128053,dashLengthItems:[1.5875,-5.8052561314,1.5875,-8.9802561314]}),h.set("GOST_GLASS",lt);const Ie=new d("GOST_WOOD");Ie.add({lineAngle:45,x:0,y:0,offsetX:6,offsetY:-6,dashLengthItems:[5,-7]}),Ie.add({lineAngle:45,x:2.12132,y:0,offsetX:6,offsetY:-6,dashLengthItems:[2,-10]}),Ie.add({lineAngle:45,x:0,y:2.12132,offsetX:6,offsetY:-6,dashLengthItems:[2,-10]}),h.set("GOST_WOOD",Ie);const ve=new d("GOST_GROUND");ve.add({lineAngle:90,x:0,y:0,offsetX:0,offsetY:-6,dashLengthItems:[10,-2]}),ve.add({lineAngle:90,x:2,y:-2,offsetX:0,offsetY:-6,dashLengthItems:[6,-1.5,3,-1.5]}),ve.add({lineAngle:90,x:4,y:-5,offsetX:0,offsetY:-6,dashLengthItems:[10,-2]}),h.set("GOST_GROUND",ve);const Le=new d("GRASS");Le.add({lineAngle:45,x:0,y:0,offsetX:10,offsetY:-10,dashLengthItems:[20]}),Le.add({lineAngle:45,x:3,y:0,offsetX:10,offsetY:-10,dashLengthItems:[20]}),Le.add({lineAngle:45,x:6,y:0,offsetX:10,offsetY:-10,dashLengthItems:[20]}),h.set("GRASS",Le);const Se=new d("GRATE");Se.add({lineAngle:90,x:0,y:0,offsetX:17.96051224,offsetY:17.96051224,dashLengthItems:[4.7625,-31.15852448]}),Se.add({lineAngle:45,x:0,y:0,offsetX:0,offsetY:25.4,dashLengthItems:[4.7625,-20.6375]}),Se.add({lineAngle:135,x:0,y:0,offsetX:0,offsetY:25.4,dashLengthItems:[4.7625,-20.6375]}),h.set("GRATE",Se);const ht=new d("GRAVEL");ht.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:.79375,dashLengthItems:[]}),ht.add({lineAngle:90,x:0,y:0,offsetX:0,offsetY:3.175,dashLengthItems:[]}),h.set("GRAVEL",ht);const p=new d("HEX");p.add({lineAngle:228.0127875,x:18.288,y:25.4,offsetX:305.85067529778,offsetY:1.88796713245,dashLengthItems:[3.4172144,-338.30483639565]}),p.add({lineAngle:184.969741,x:16.002,y:22.86,offsetX:-305.8545235377,offsetY:1.10019612724,dashLengthItems:[5.8640472,-580.54048893524]}),p.add({lineAngle:132.5104471,x:10.16,y:22.352,offsetX:-377.59492241548,offsetY:1.56030959675,dashLengthItems:[4.1348152,-409.347227941]}),p.add({lineAngle:267.273689,x:.254,y:16.002,offsetX:-508.63316875916,offsetY:1.20815479432,dashLengthItems:[5.3400452,-528.66437425738]}),p.add({lineAngle:292.83365418,x:0,y:10.668,offsetX:-330.19770134945,offsetY:1.23208097566,dashLengthItems:[5.236337,-518.39807745344]}),p.add({lineAngle:357.273689,x:2.032,y:5.842,offsetX:-508.63316875916,offsetY:1.20815479432,dashLengthItems:[5.3400452,-528.66437425738]}),p.add({lineAngle:37.69424047,x:7.366,y:5.588,offsetX:-416.58997273292,offsetY:.91357450169,dashLengthItems:[7.0619366,-699.13115314247]}),p.add({lineAngle:72.25532837,x:12.954,y:9.906,offsetX:586.40373773403,offsetY:.96766293399,dashLengthItems:[6.6671952,-660.05256601905]}),p.add({lineAngle:121.42956562,x:14.986,y:16.256,offsetX:387.71230339293,offsetY:1.2040754753,dashLengthItems:[5.35813,-530.45545698712]}),p.add({lineAngle:175.2363583,x:12.192,y:20.828,offsetX:-280.5442400419,offsetY:2.10935518695,dashLengthItems:[6.1171328,-299.7393695]}),p.add({lineAngle:222.3974378,x:6.096,y:21.336,offsetX:413.48123885686,offsetY:.81554484621,dashLengthItems:[7.9107792,-783.16772512177]}),p.add({lineAngle:138.81407483,x:25.4,y:15.748,offsetX:234.164238558,offsetY:2.38943100688,dashLengthItems:[2.7000454,-267.30565824344]}),p.add({lineAngle:171.4692344,x:23.368,y:17.526,offsetX:-334.082478726,offsetY:1.25594916784,dashLengthItems:[5.1368198,-508.5463899704]}),p.add({lineAngle:225,x:18.288,y:18.288,offsetX:17.96051224214,offsetY:17.96051224214,dashLengthItems:[3.5920934,-32.32893108428]}),p.add({lineAngle:203.19859051,x:16.51,y:21.336,offsetX:-136.74251918,offsetY:3.33518339548,dashLengthItems:[1.9344132,-191.50622368894]}),p.add({lineAngle:291.80140949,x:14.732,y:20.574,offsetX:-80.18324702488,offsetY:4.71666158921,dashLengthItems:[2.7356562,-134.0475299]}),p.add({lineAngle:30.96375653,x:15.748,y:18.034,offsetX:91.47734531502,offsetY:4.35606406258,dashLengthItems:[4.4431966,-143.6629815291]}),p.add({lineAngle:161.56505118,x:19.558,y:20.32,offsetX:-56.2252967978,offsetY:8.03218525675,dashLengthItems:[3.2128714,-77.10898116828]}),p.add({lineAngle:16.389540334,x:0,y:20.574,offsetX:265.17991128726,offsetY:1.43340492604,dashLengthItems:[4.50088,-445.58826672539]}),p.add({lineAngle:70.34617594,x:4.318,y:21.844,offsetX:-297.29446803469,offsetY:1.70858889651,dashLengthItems:[3.7759894,-373.822156782]}),p.add({lineAngle:293.19859051,x:19.558,y:25.4,offsetX:-136.7425191801,offsetY:3.33518339548,dashLengthItems:[3.868801,-189.57183588894]}),p.add({lineAngle:343.61045967,x:21.082,y:21.844,offsetX:-265.17991128725,offsetY:1.433404926,dashLengthItems:[4.50088,-445.5882667254]}),p.add({lineAngle:339.44395478,x:0,y:4.826,offsetX:-136.75087638398,offsetY:2.97284513779,dashLengthItems:[4.340352,-212.67734313106]}),p.add({lineAngle:294.7751406,x:4.064,y:3.302,offsetX:-306.90424056705,offsetY:1.77401295215,dashLengthItems:[3.6367212,-360.0359338072]}),p.add({lineAngle:66.80140949,x:19.812,y:0,offsetX:136.74251918012,offsetY:3.33518339452,dashLengthItems:[3.868801,-189.57183588894]}),p.add({lineAngle:17.35402464,x:21.336,y:3.556,offsetX:-345.47402804977,offsetY:1.51523696536,dashLengthItems:[4.2578274,-421.523759802]}),p.add({lineAngle:69.44395478,x:7.366,y:0,offsetX:-136.75087638396,offsetY:2.97284513874,dashLengthItems:[2.170176,-214.84751913106]}),p.add({lineAngle:101.309932474,x:18.288,y:0,offsetX:104.60834648271,offsetY:4.98134983255,dashLengthItems:[1.295146,-128.21994964526]}),p.add({lineAngle:165.963756532,x:18.034,y:1.27,offsetX:-80.085263387,offsetY:6.16040487582,dashLengthItems:[5.236337,-99.49054589069]}),p.add({lineAngle:186.00900596,x:12.954,y:2.54,offsetX:-255.26337856879,offsetY:1.32949676118,dashLengthItems:[4.85267,-480.41364863337]}),p.add({lineAngle:303.69006753,x:15.748,y:15.748,offsetX:-56.35753993648,offsetY:7.0446924921,dashLengthItems:[3.6632388,-87.9177635968]}),p.add({lineAngle:353.15722659,x:17.78,y:12.7,offsetX:434.77679606606,offsetY:1.0087628707,dashLengthItems:[6.3955676,-633.16009065031]}),p.add({lineAngle:60.9453959,x:24.13,y:11.938,offsetX:-204.76648550216,offsetY:2.46706609031,dashLengthItems:[2.6150824,-258.8939231811]}),p.add({lineAngle:90,x:25.4,y:14.224,offsetX:25.4,offsetY:25.4,dashLengthItems:[1.524,-23.876]}),p.add({lineAngle:120.25643716,x:12.446,y:3.302,offsetX:-204.77318477297,offsetY:1.8283320086,dashLengthItems:[3.5286696,-349.339407732]}),p.add({lineAngle:48.0127875,x:10.668,y:6.35,offsetX:305.85067529778,offsetY:1.88796713138,dashLengthItems:[6.8344288,-334.88762199565]}),p.add({lineAngle:0,x:15.24,y:11.43,offsetX:25.4,offsetY:25.4,dashLengthItems:[6.604,-18.796]}),p.add({lineAngle:325.3048465,x:21.844,y:11.43,offsetX:310.04235091354,offsetY:-1.6064370526,dashLengthItems:[4.0160956,-397.5931672414]}),p.add({lineAngle:254.0546041,x:25.146,y:9.144,offsetX:104.6687497289,offsetY:3.48895832444,dashLengthItems:[3.6982908,-181.21650038772]}),p.add({lineAngle:207.64597536,x:24.13,y:5.588,offsetX:545.36007557253,offsetY:1.07143433066,dashLengthItems:[6.021451,-596.12464422938]}),p.add({lineAngle:175.42607874,x:18.796,y:2.794,offsetX:331.1739336186,offsetY:1.01276432357,dashLengthItems:[6.3702946,-630.6584645624]}),h.set("HEX",p);const De=new d("HONEY");De.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:5.4992613154,dashLengthItems:[3.175,-6.35]}),De.add({lineAngle:120,x:0,y:0,offsetX:0,offsetY:5.4992613154,dashLengthItems:[3.175,-6.35]}),De.add({lineAngle:60,x:3.175,y:0,offsetX:0,offsetY:5.4992613154,dashLengthItems:[3.175,-6.35]}),h.set("HONEY",De);const Ee=new d("HOUND");Ee.add({lineAngle:0,x:0,y:0,offsetX:4.7625,offsetY:2.749630645,dashLengthItems:[3.175,-6.35]}),Ee.add({lineAngle:120,x:0,y:0,offsetX:4.7625,offsetY:2.749630645,dashLengthItems:[3.175,-6.35]}),Ee.add({lineAngle:60,x:0,y:0,offsetX:4.7625,offsetY:2.749630645,dashLengthItems:[-6.35,3.175]}),h.set("HOUND",Ee);const dt=new d("INSUL");dt.add({lineAngle:0,x:0,y:0,offsetX:6.35,offsetY:1.5875,dashLengthItems:[25.4,-12.7]}),dt.add({lineAngle:90,x:0,y:0,offsetX:-6.35,offsetY:1.5875,dashLengthItems:[25.4,-12.7]}),h.set("INSUL",dt);const we=new d("ACAD_ISO02W100");we.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:9.525,dashLengthItems:[]}),we.add({lineAngle:0,x:0,y:3.175,offsetX:0,offsetY:9.525,dashLengthItems:[3.175,-3.175]}),we.add({lineAngle:0,x:0,y:6.35,offsetX:0,offsetY:9.525,dashLengthItems:[3.175,-3.175]}),h.set("ACAD_ISO02W100",we);const $t=new d("ACAD_ISO03W100");$t.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:5,dashLengthItems:[12,-3]}),h.set("ACAD_ISO03W100",$t);const Qt=new d("ACAD_ISO04W100");Qt.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:5,dashLengthItems:[12,-18]}),h.set("ACAD_ISO04W100",Qt);const es=new d("ACAD_ISO05W100");es.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:5,dashLengthItems:[24,-3,.5,-3]}),h.set("ACAD_ISO05W100",es);const ts=new d("ACAD_ISO06W100");ts.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:5,dashLengthItems:[24,-3,.5,-3,.5,-3]}),h.set("ACAD_ISO06W100",ts);const rt=new d("ACAD_ISO07W100");rt.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:5,dashLengthItems:[24,-3,.5,-3,.5,-6.5]}),rt.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:5,dashLengthItems:[-34,.5,-3]}),h.set("ACAD_ISO07W100",rt);const ss=new d("ACAD_ISO08W100");ss.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:5,dashLengthItems:[.5,-3]}),h.set("ACAD_ISO08W100",ss);const ns=new d("ACAD_ISO09W100");ns.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:5,dashLengthItems:[24,-3,6,-3]}),h.set("ACAD_ISO09W100",ns);const is=new d("ACAD_ISO10W100");is.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:5,dashLengthItems:[24,-3,6,-3,6,-3]}),h.set("ACAD_ISO10W100",is);const as=new d("ACAD_ISO11W100");as.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:5,dashLengthItems:[12,-3,.5,-3]}),h.set("ACAD_ISO11W100",as);const os=new d("ACAD_ISO12W100");os.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:5,dashLengthItems:[12,-3,12,-3,.5,-3]}),h.set("ACAD_ISO12W100",os);const ls=new d("ACAD_ISO13W100");ls.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:5,dashLengthItems:[12,-3,.5,-3,.5,-3]}),h.set("ACAD_ISO13W100",ls);const ft=new d("ACAD_ISO14W100");ft.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:5,dashLengthItems:[12,-3,12,-3,.5,-6.5]}),ft.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:5,dashLengthItems:[-33.5,.5,-3]}),h.set("ACAD_ISO14W100",ft);const ut=new d("ACAD_ISO15W100");ut.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:5,dashLengthItems:[12,-3,.5,-3,.5,-6.5]}),ut.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:5,dashLengthItems:[-22,.5,-3]}),h.set("ACAD_ISO15W100",ut);const ct=new d("JIS_LC_20");ct.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:5,dashLengthItems:[12,-3,12,-3,.5,-10]}),ct.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:5,dashLengthItems:[-33.5,.5,-3,.5,-3]}),h.set("JIS_LC_20",ct);const pt=new d("JIS_LC_20A");pt.add({lineAngle:45,x:0,y:0,offsetX:0,offsetY:20,dashLengthItems:[]}),pt.add({lineAngle:45,x:.4,y:0,offsetX:0,offsetY:20,dashLengthItems:[]}),h.set("JIS_LC_20A",pt);const gt=new d("JIS_LC_8");gt.add({lineAngle:45,x:0,y:0,offsetX:0,offsetY:20,dashLengthItems:[]}),gt.add({lineAngle:45,x:1,y:0,offsetX:0,offsetY:20,dashLengthItems:[]}),h.set("JIS_LC_8",gt);const yt=new d("JIS_LC_8A");yt.add({lineAngle:45,x:0,y:0,offsetX:0,offsetY:7.8,dashLengthItems:[]}),yt.add({lineAngle:45,x:.4,y:0,offsetX:0,offsetY:7.8,dashLengthItems:[]}),h.set("JIS_LC_8A",yt);const At=new d("JIS_RC_10");At.add({lineAngle:45,x:0,y:0,offsetX:0,offsetY:7.8,dashLengthItems:[]}),At.add({lineAngle:45,x:1,y:0,offsetX:0,offsetY:7.8,dashLengthItems:[]}),h.set("JIS_RC_10",At);const Fe=new d("JIS_RC_15");Fe.add({lineAngle:45,x:0,y:0,offsetX:0,offsetY:10,dashLengthItems:[]}),Fe.add({lineAngle:45,x:.725,y:0,offsetX:0,offsetY:10,dashLengthItems:[]}),Fe.add({lineAngle:45,x:1.45,y:0,offsetX:0,offsetY:10,dashLengthItems:[]}),h.set("JIS_RC_15",Fe);const Te=new d("JIS_RC_18");Te.add({lineAngle:45,x:0,y:0,offsetX:0,offsetY:15,dashLengthItems:[]}),Te.add({lineAngle:45,x:.725,y:0,offsetX:0,offsetY:15,dashLengthItems:[]}),Te.add({lineAngle:45,x:1.45,y:0,offsetX:0,offsetY:15,dashLengthItems:[]}),h.set("JIS_RC_18",Te);const Ce=new d("JIS_RC_30");Ce.add({lineAngle:45,x:0,y:0,offsetX:0,offsetY:18,dashLengthItems:[]}),Ce.add({lineAngle:45,x:1,y:0,offsetX:0,offsetY:18,dashLengthItems:[]}),Ce.add({lineAngle:45,x:2,y:0,offsetX:0,offsetY:18,dashLengthItems:[]}),h.set("JIS_RC_30",Ce);const ke=new d("JIS_STN_1E");ke.add({lineAngle:45,x:0,y:0,offsetX:0,offsetY:30,dashLengthItems:[]}),ke.add({lineAngle:45,x:1,y:0,offsetX:0,offsetY:30,dashLengthItems:[]}),ke.add({lineAngle:45,x:2,y:0,offsetX:0,offsetY:30,dashLengthItems:[]}),h.set("JIS_STN_1E",ke);const xt=new d("JIS_STN_2_5");xt.add({lineAngle:45,x:0,y:0,offsetX:0,offsetY:1,dashLengthItems:[]}),xt.add({lineAngle:45,x:.705,y:0,offsetX:0,offsetY:1,dashLengthItems:[1,-.5]}),h.set("JIS_STN_2_5",xt);const mt=new d("JIS_WOOD");mt.add({lineAngle:45,x:0,y:0,offsetX:0,offsetY:2.5,dashLengthItems:[]}),mt.add({lineAngle:45,x:1.765,y:0,offsetX:0,offsetY:2.5,dashLengthItems:[1.2,-.5]}),h.set("JIS_WOOD",mt);const hs=new d("LINE");hs.add({lineAngle:45,x:0,y:0,offsetX:0,offsetY:.70710678,dashLengthItems:[]}),h.set("LINE",hs);const ds=new d("MUDST");ds.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:3.175,dashLengthItems:[]}),h.set("MUDST",ds);const rs=new d("NET");rs.add({lineAngle:0,x:0,y:0,offsetX:12.7,offsetY:6.35,dashLengthItems:[6.35,-6.35,0,-6.35,0,-6.35]}),h.set("NET",rs);const bt=new d("NET3");bt.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:3.175,dashLengthItems:[]}),bt.add({lineAngle:90,x:0,y:0,offsetX:0,offsetY:3.175,dashLengthItems:[]}),h.set("NET3",bt);const Re=new d("PLAST");Re.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:3.175,dashLengthItems:[]}),Re.add({lineAngle:60,x:0,y:0,offsetX:0,offsetY:3.175,dashLengthItems:[]}),Re.add({lineAngle:120,x:0,y:0,offsetX:0,offsetY:3.175,dashLengthItems:[]}),h.set("PLAST",Re);const Xe=new d("PLASTI");Xe.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:6.35,dashLengthItems:[]}),Xe.add({lineAngle:0,x:0,y:.79375,offsetX:0,offsetY:6.35,dashLengthItems:[]}),Xe.add({lineAngle:0,x:0,y:1.5875,offsetX:0,offsetY:6.35,dashLengthItems:[]}),h.set("PLASTI",Xe);const ue=new d("SACNCR");ue.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:6.35,dashLengthItems:[]}),ue.add({lineAngle:0,x:0,y:.79375,offsetX:0,offsetY:6.35,dashLengthItems:[]}),ue.add({lineAngle:0,x:0,y:1.5875,offsetX:0,offsetY:6.35,dashLengthItems:[]}),ue.add({lineAngle:0,x:0,y:3.96875,offsetX:0,offsetY:6.35,dashLengthItems:[]}),h.set("SACNCR",ue);const It=new d("SQUARE");It.add({lineAngle:45,x:0,y:0,offsetX:0,offsetY:2.38125,dashLengthItems:[]}),It.add({lineAngle:45,x:1.6838,y:0,offsetX:0,offsetY:2.38125,dashLengthItems:[0,-2.38125]}),h.set("SQUARE",It);const vt=new d("STARS");vt.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:3.175,dashLengthItems:[3.175,-3.175]}),vt.add({lineAngle:90,x:0,y:0,offsetX:0,offsetY:3.175,dashLengthItems:[3.175,-3.175]}),h.set("STARS",vt);const Ne=new d("STEEL");Ne.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:5.4992613154,dashLengthItems:[3.175,-3.175]}),Ne.add({lineAngle:60,x:0,y:0,offsetX:0,offsetY:5.4992613154,dashLengthItems:[3.175,-3.175]}),Ne.add({lineAngle:120,x:1.5875,y:2.7496306704,offsetX:0,offsetY:5.4992613154,dashLengthItems:[3.175,-3.175]}),h.set("STEEL",Ne);const Lt=new d("SWAMP");Lt.add({lineAngle:45,x:0,y:0,offsetX:0,offsetY:3.175,dashLengthItems:[]}),Lt.add({lineAngle:45,x:0,y:1.5875,offsetX:0,offsetY:3.175,dashLengthItems:[]}),h.set("SWAMP",Lt);const se=new d("TRANS");se.add({lineAngle:0,x:0,y:0,offsetX:12.7,offsetY:21.9970452362,dashLengthItems:[3.175,-22.225]}),se.add({lineAngle:90,x:1.5875,y:0,offsetX:21.9970452362,offsetY:12.7,dashLengthItems:[1.5875,-42.4065904724]}),se.add({lineAngle:90,x:1.984375,y:0,offsetX:21.9970452362,offsetY:12.7,dashLengthItems:[1.27,-42.7240904724]}),se.add({lineAngle:90,x:1.190625,y:0,offsetX:21.9970452362,offsetY:12.7,dashLengthItems:[1.27,-42.7240904724]}),se.add({lineAngle:60,x:2.38125,y:0,offsetX:12.7,offsetY:21.9970452362,dashLengthItems:[1.016,-24.384]}),se.add({lineAngle:120,x:.79375,y:0,offsetX:12.7,offsetY:21.9970452362,dashLengthItems:[1.016,-24.384]}),h.set("TRANS",se);const St=new d("TRIANG");St.add({lineAngle:0,x:0,y:0,offsetX:0,offsetY:6.35,dashLengthItems:[]}),St.add({lineAngle:0,x:0,y:3.175,offsetX:0,offsetY:6.35,dashLengthItems:[3.175,-3.175]}),h.set("TRIANG",St);const Ye=new d("ZIGZAG");Ye.add({lineAngle:60,x:0,y:0,offsetX:4.7625,offsetY:8.2488919604,dashLengthItems:[4.7625,-4.7625]}),Ye.add({lineAngle:120,x:0,y:0,offsetX:4.7625,offsetY:8.2488919604,dashLengthItems:[4.7625,-4.7625]}),Ye.add({lineAngle:0,x:-2.38125,y:4.1244459802,offsetX:4.7625,offsetY:8.2488919604,dashLengthItems:[4.7625,-4.7625]}),h.set("ZIGZAG",Ye);class _e{static fromHex(e){return e.startsWith("#")&&(e=e.replace("#","")),parseInt(e,16)}static fromRGB(e,s,n){const o=[e,s,n].reduce((a,l)=>{const i=l.toString(16);return`${a}${i.length===1?"0"+i:i}`},"0x00");return _e.fromHex(o)}}class T{constructor(e,s,n){this.type=e,this.subclassMarker=s,this.layerName=n?.layerName,this.handle=H.next(),this.trueColor=n?.trueColor,this.inPaperSpace=!1,this.colorNumber=n?.colorNumber,this.visible=n?.visible,this.lineType=n?.lineType,this.lineTypeScale=n?.lineTypeScale,this.extrusion=n?.extrusion,this.xdatas=[]}boundingBox(){return D.pointBBox(S())}addXData(e){const s=new Ys(e);return this.xdatas.push(s),s}dxfy(e){var s,n,o;e.type(this.type),e.handle(this.handle),e.push(330,this.ownerBlockRecord),e.subclassMarker("AcDbEntity"),this.inPaperSpace&&e.push(67,Number(this.inPaperSpace)),e.push(420,this.trueColor),e.layerName(this.layerName||ae.layerZeroName),e.lineType(this.lineType),e.colorNumber(this.colorNumber),e.push(48,this.lineTypeScale),e.visibilty(this.visible),e.subclassMarker(this.subclassMarker),this.type!=="HATCH"&&(e.push(210,(s=this.extrusion)===null||s===void 0?void 0:s.x),e.push(220,(n=this.extrusion)===null||n===void 0?void 0:n.y),e.push(230,(o=this.extrusion)===null||o===void 0?void 0:o.z)),this.dxfyChild(e),this.xdatas.forEach(a=>a.dxfy(e))}}var q,Ft,fs;(function(t){t[t.Default=0]="Default",t[t.Aligned=1]="Aligned",t[t.Angular=2]="Angular",t[t.Diameter=3]="Diameter",t[t.Radius=4]="Radius",t[t.Angular3Point=5]="Angular3Point",t[t.Ordinate=6]="Ordinate",t[t.ReferencedByThis=32]="ReferencedByThis",t[t.OrdinateType=64]="OrdinateType"})(q||(q={})),function(t){t[t.TopLeft=1]="TopLeft",t[t.TopCenter=2]="TopCenter",t[t.TopRight=3]="TopRight",t[t.MiddleLeft=4]="MiddleLeft",t[t.MiddleCenter=5]="MiddleCenter",t[t.MiddleRight=6]="MiddleRight",t[t.BottomLeft=7]="BottomLeft",t[t.BottomCenter=8]="BottomCenter",t[t.BottomRight=9]="BottomRight"}(Ft||(Ft={})),function(t){t[t.AtLeast=1]="AtLeast",t[t.Exact=2]="Exact"}(fs||(fs={}));class oe extends T{constructor(e){super("DIMENSION","AcDbDimension",e),this.blockName=e?.blockName,this.definitionPoint=e?.definitionPoint,this.middlePoint=e?.middlePoint,this.dimensionType=q.Default,this.attachmentPoint=e?.attachmentPoint||Ft.MiddleCenter,this.textLineSpacingStyle=e?.textLineSpacingStyle,this.textLineSpacingFactor=e?.textLineSpacingFactor,this.ActualMeasurement=e?.ActualMeasurement,this.text=e?.text,this.rotation=e?.rotation,this.horizontalDirection=e?.horizontalDirection,this.styleName=e?.styleName}dxfyChild(e){e.push(2,this.blockName),e.point3d(this.definitionPoint),e.point3d(this.middlePoint,1),e.push(70,this.dimensionType),e.push(71,this.attachmentPoint),e.push(72,this.textLineSpacingStyle),e.push(41,this.textLineSpacingFactor),e.push(42,this.ActualMeasurement),e.push(1,this.text),e.push(53,this.rotation==="auto"?this.rotate():this.rotation),e.push(51,this.horizontalDirection),e.push(3,this.styleName)}}const He=/[<>/\\":;?*|=`]/g;function pe(t){return t*Math.PI/180}function Bs(t,e){const s=function(n,o){return Math.sqrt(Math.pow(n.x-o.x,2)+Math.pow(n.y-o.y,2))}(t,e);return s===0?s:180*Math.asin(Math.abs(t.y-e.y)/s)/Math.PI}class Ps extends oe{constructor(e,s,n){super(n),this.dimensionType=q.Aligned,this.insertionPoint=n?.insertionPoint,this.fisrtPoint=e,this.secondPoint=s,this.offset(n?.offset)}offset(e){if(e==null)return;const[s,n]=function(a,l){const i=a.x-l.x;let u=0;return i!==0&&(u=(a.y-l.y)/i),[u,a.y-u*a.x]}(this.fisrtPoint,this.secondPoint),o=function(a,l){const[i,u]=l;return u-a*Math.sqrt(i*i+1)}(e,[s,n]);this.definitionPoint=function(a,l){const[i,u]=a,c=i??-1/i,x=l.y-c*l.x,C=c-i;let N=u-x;return C!==0&&(N=(u-x)/C),S(N,i*N+u,l.z)}([s,o],this.fisrtPoint)}rotate(){return Bs(this.fisrtPoint,this.secondPoint)}dxfyChild(e){super.dxfyChild(e),e.subclassMarker("AcDbAlignedDimension"),e.point3d(this.insertionPoint,2),e.point3d(this.fisrtPoint,3),e.point3d(this.secondPoint,4)}}class Os extends oe{constructor(e,s,n,o){super(o),this.first=e,this.second=s,this.location=n,this.dimensionType=q.Angular}rotate(){return 0}_update(){this.definitionPoint=this.second.end}dxfyChild(e){this._update(),super.dxfyChild(e),e.subclassMarker("AcDb2LineAngularDimension"),e.point3d(this.first.start,3),e.point3d(this.first.end,4),e.point3d(this.second.start,5),e.point3d(this.location,6)}}class Ms extends oe{constructor(e,s,n,o){super(o),this.center=e,this.first=s,this.second=n,this.dimensionType=q.Angular3Point}rotate(){return 0}dxfyChild(e){super.dxfyChild(e),e.subclassMarker("AcDb3PointAngularDimension"),e.point3d(this.first,3),e.point3d(this.second,4),e.point3d(this.center,5)}}class _s extends oe{constructor(e,s,n){super(n),this.dimensionType=q.Diameter,this.first=e,this.definitionPoint=s,this.leaderLength=n?.leaderLength}rotate(){return 0}dxfyChild(e){super.dxfyChild(e),e.subclassMarker("AcDbDiametricDimension"),e.point3d(this.first,5),e.push(40,this.leaderLength)}}class Hs extends oe{constructor(e,s,n){var o;super(n),this.dimensionType=q.Default,this.insertionPoint=n?.insertionPoint,this.fisrtPoint=e,this.secondPoint=s,this.angle=(o=n?.angle)!==null&&o!==void 0?o:0,this.linearType=n?.linearType,this.offset(n?.offset)}offset(e){if(e==null)return;const s=pe(this.angle),n=this.fisrtPoint.x+e*Math.floor(Math.sin(s)),o=this.fisrtPoint.y+e*Math.floor(Math.cos(s));this.definitionPoint=S(n,o,0)}rotate(){return this.angle}dxfyChild(e){super.dxfyChild(e),e.subclassMarker("AcDbAlignedDimension"),e.point3d(this.insertionPoint,2),e.point3d(this.fisrtPoint,3),e.point3d(this.secondPoint,4),e.push(50,this.angle),e.push(52,this.linearType),e.subclassMarker("AcDbRotatedDimension")}}class Ws extends oe{constructor(e,s,n){super(n),this.dimensionType=q.Radius,this.first=e,this.definitionPoint=s,this.leaderLength=n?.leaderLength}rotate(){return 0}dxfyChild(e){super.dxfyChild(e),e.subclassMarker("AcDbRadialDimension"),e.point3d(this.first,5),e.push(40,this.leaderLength)}}class Vs extends T{get start(){return S(this.center.x+this.radius*Math.cos(pe(this.startAngle)),this.center.y+this.radius*Math.sin(pe(this.startAngle)))}get end(){return S(this.center.x+this.radius*Math.cos(pe(this.endAngle)),this.center.y+this.radius*Math.sin(pe(this.endAngle)))}constructor(e,s,n,o,a){super("ARC","AcDbCircle",a),this.center=e,this.radius=s,this.startAngle=n,this.endAngle=o}boundingBox(){return D.centerRadiusBBox(this.center,this.radius)}dxfyChild(e){e.point3d(this.center),e.push(40,this.radius),e.subclassMarker("AcDbArc"),e.push(50,this.startAngle),e.push(51,this.endAngle)}}class Us extends T{constructor(e,s,n,o,a){super("ATTDEF","AcDbText",a),this.position=e,this.height=s,this.value=o,this.tag=n,this.textStyle="STANDARD",this.rotation=a?.rotation,this.obliqueAngle=a?.obliqueAngle,this.generationFlags=a?.generationFlags,this.horizontalAlignment=a?.horizontalAlignment,this.verticalAlignment=a?.verticalAlignment,this.secondAlignmentPoint=a?.secondAlignmentPoint,this.relativeXScaleFactor=a?.relativeXScaleFactor}boundingBox(){return D.pointBBox(this.position)}dxfyChild(e){e.point3d(this.position),e.push(40,this.height),e.primaryText(this.value),e.push(50,this.rotation),e.push(41,this.relativeXScaleFactor),e.push(51,this.obliqueAngle),e.textStyle(this.textStyle),e.push(71,this.generationFlags),e.push(72,this.horizontalAlignment),this.secondAlignmentPoint&&(e.push(11,this.secondAlignmentPoint.x),e.push(21,this.secondAlignmentPoint.y),e.push(31,this.secondAlignmentPoint.z)),e.push(73,this.verticalAlignment),e.subclassMarker("AcDbAttributeDefinition"),e.push(280,0),e.push(3,""),e.push(2,this.tag),e.push(70,0)}}class js extends T{constructor(e,s,n,o,a){super("ATTRIB","AcDbText",a),this.position=e,this.height=s,this.value=o,this.tag=n,this.textStyle="STANDARD",this.rotation=a?.rotation,this.obliqueAngle=a?.obliqueAngle,this.generationFlags=a?.generationFlags,this.horizontalAlignment=a?.horizontalAlignment,this.verticalAlignment=a?.verticalAlignment,this.secondAlignmentPoint=a?.secondAlignmentPoint,this.relativeXScaleFactor=a?.relativeXScaleFactor}boundingBox(){return D.pointBBox(this.position)}dxfyChild(e){e.point3d(this.position),e.push(40,this.height),e.primaryText(this.value),e.push(50,this.rotation),e.push(41,this.relativeXScaleFactor),e.push(51,this.obliqueAngle),e.textStyle(this.textStyle),e.push(71,this.generationFlags),e.push(72,this.horizontalAlignment),e.point3d(this.secondAlignmentPoint,1),e.push(73,this.verticalAlignment),e.subclassMarker("AcDbAttribute"),e.push(280,0),e.push(2,this.tag),e.push(70,0)}}class Gs extends T{constructor(e,s,n){super("CIRCLE","AcDbCircle",n),this.center=e,this.radius=s}boundingBox(){return D.centerRadiusBBox(this.center,this.radius)}dxfyChild(e){e.point3d(this.center),e.push(40,this.radius)}}class zs extends T{constructor(e,s,n,o,a,l){super("ELLIPSE","AcDbEllipse",l),this.center=e,this.endPointOfMajorAxis=s,this.ratioOfMinorAxisToMajorAxis=n,this.startParameter=o,this.endParameter=a}boundingBox(){const e=this.center.x,s=this.center.y,n=this.endPointOfMajorAxis.x,o=this.endPointOfMajorAxis.y,a=Math.sqrt(Math.pow(e-(e+n),2)+Math.pow(s-(s+o),2));return D.centerRadiusBBox(this.center,a)}dxfyChild(e){e.point3d(this.center),e.point3d(this.endPointOfMajorAxis,1),e.push(40,this.ratioOfMinorAxisToMajorAxis),e.push(41,this.startParameter),e.push(42,this.endParameter)}}var W,We,Tt,_,ge,Ct,kt,Rt,Z,Ve,ye,Xt,Nt,Yt,Bt,Ue,us,cs,ps,je,Pt,Ot,Mt,gs,ys,As,xs,ms,bs,Is,_t,Ht,Ge,Wt;(function(t){t[t.None=0]="None",t[t.First=1]="First",t[t.Second=2]="Second",t[t.Third=4]="Third",t[t.Fourth=8]="Fourth"})(W||(W={}));class Js extends T{constructor(e,s,n,o,a){super("3DFACE","AcDbFace",a),this.firstCorner=e,this.secondCorner=s,this.thirdCorner=n,this.fourthCorner=o,this.invisibleEdges=a?.invisibleEdges||W.None}setFirstEdgeVisible(e){this.setEdgeVisible(W.First,e)}setSecondEdgeVisible(e){this.setEdgeVisible(W.Second,e)}setThirdEdgeVisible(e){this.setEdgeVisible(W.Third,e)}setFourthEdgeVisible(e){this.setEdgeVisible(W.Fourth,e)}setEdgesVisible(e){this.invisibleEdges=e?W.None:W.First|W.Second|W.Third|W.Fourth}setEdgeVisible(e,s){s?this.invisibleEdges|=e:this.invisibleEdges===(this.invisibleEdges|e)&&(this.invisibleEdges^=e)}boundingBox(){return D.verticesBBox([this.firstCorner,this.secondCorner,this.thirdCorner,this.fourthCorner])}dxfyChild(e){e.point3d(this.firstCorner),e.point3d(this.secondCorner,1),e.point3d(this.thirdCorner,2),e.point3d(this.fourthCorner,3),e.push(70,this.invisibleEdges)}}function ci(t,e,s){return s?{x:t,y:e,bulge:s}:{x:t,y:e}}(function(t){t.SOLID="SOLID",t.ANGLE="ANGLE",t.ANSI31="ANSI31",t.ANSI32="ANSI32",t.ANSI33="ANSI33",t.ANSI34="ANSI34",t.ANSI35="ANSI35",t.ANSI36="ANSI36",t.ANSI37="ANSI37",t.ANSI38="ANSI38",t.AR_B816="AR_B816",t.AR_B816C="AR_B816C",t.AR_B88="AR_B88",t.AR_BRELM="AR_BRELM",t.AR_BRSTD="AR_BRSTD",t.AR_CONC="AR_CONC",t.AR_HBONE="AR_HBONE",t.AR_PARQ1="AR_PARQ1",t.AR_RROOF="AR_RROOF",t.AR_RSHKE="AR_RSHKE",t.AR_SAND="AR_SAND",t.BOX="BOX",t.BRASS="BRASS",t.BRICK="BRICK",t.BRSTONE="BRSTONE",t.CLAY="CLAY",t.CORK="CORK",t.CROSS="CROSS",t.DASH="DASH",t.DOLMIT="DOLMIT",t.DOTS="DOTS",t.EARTH="EARTH",t.ESCHER="ESCHER",t.FLEX="FLEX",t.GOST_GLASS="GOST_GLASS",t.GOST_WOOD="GOST_WOOD",t.GOST_GROUND="GOST_GROUND",t.GRASS="GRASS",t.GRATE="GRATE",t.GRAVEL="GRAVEL",t.HEX="HEX",t.HONEY="HONEY",t.HOUND="HOUND",t.INSUL="INSUL",t.ACAD_ISO02W100="ACAD_ISO02W100",t.ACAD_ISO03W100="ACAD_ISO03W100",t.ACAD_ISO04W100="ACAD_ISO04W100",t.ACAD_ISO05W100="ACAD_ISO05W100",t.ACAD_ISO06W100="ACAD_ISO06W100",t.ACAD_ISO07W100="ACAD_ISO07W100",t.ACAD_ISO08W100="ACAD_ISO08W100",t.ACAD_ISO09W100="ACAD_ISO09W100",t.ACAD_ISO10W100="ACAD_ISO10W100",t.ACAD_ISO11W100="ACAD_ISO11W100",t.ACAD_ISO12W100="ACAD_ISO12W100",t.ACAD_ISO13W100="ACAD_ISO13W100",t.ACAD_ISO14W100="ACAD_ISO14W100",t.ACAD_ISO15W100="ACAD_ISO15W100",t.JIS_LC_20="JIS_LC_20",t.JIS_LC_20A="JIS_LC_20A",t.JIS_LC_8="JIS_LC_8",t.JIS_LC_8A="JIS_LC_8A",t.JIS_RC_10="JIS_RC_10",t.JIS_RC_15="JIS_RC_15",t.JIS_RC_18="JIS_RC_18",t.JIS_RC_30="JIS_RC_30",t.JIS_STN_1E="JIS_STN_1E",t.JIS_STN_2_5="JIS_STN_2_5",t.JIS_WOOD="JIS_WOOD",t.LINE="LINE",t.MUDST="MUDST",t.NET="NET",t.NET3="NET3",t.PLAST="PLAST",t.PLASTI="PLASTI",t.SACNCR="SACNCR",t.SQUARE="SQUARE",t.STARS="STARS",t.STEEL="STEEL",t.SWAMP="SWAMP",t.TRANS="TRANS",t.TRIANG="TRIANG",t.ZIGZAG="ZIGZAG"})(We||(We={})),function(t){t[t.UserDefined=0]="UserDefined",t[t.Predifined=1]="Predifined",t[t.Custom=2]="Custom"}(Tt||(Tt={}));class pi{constructor(e){this.vertices=e||[]}add(e){this.vertices.push(e)}dxfy(e){const s=!!this.vertices.find(n=>n.bulge);e.push(72,Number(s)),e.push(73,1),e.push(93,this.vertices.length);for(const n of this.vertices)e.point2d(n),s&&e.push(42,n.bulge||0);e.push(97,0)}}(function(t){t[t.Default=0]="Default",t[t.External=1]="External",t[t.Polyline=2]="Polyline",t[t.Derived=4]="Derived",t[t.Textbox=8]="Textbox",t[t.Outermost=16]="Outermost"})(_||(_={}));class gi{constructor(){this.pathTypeFlag=_.External|_.Derived,this.polylineBoundaries=[],this.edgesTypeDatas=[]}get length(){let e=0;return this.isPolyline()?e+=this.polylineBoundaries.length:this.isEdges()&&this.edgesTypeDatas.forEach(s=>{e+=s.edgesData.length}),e}addPolylineBoundary(e){(this.pathTypeFlag&_.Polyline)!==_.Polyline&&(this.pathTypeFlag|=_.Polyline),this.polylineBoundaries.push(e)}isPolyline(){return this.polylineBoundaries&&(this.pathTypeFlag&_.Polyline)===_.Polyline}isEdges(){return this.edgesTypeDatas&&(this.pathTypeFlag&_.Polyline)!==_.Polyline}addEdgesTypeData(e){(this.pathTypeFlag&_.Polyline)!==_.Polyline&&(this.pathTypeFlag^=_.Polyline),this.edgesTypeDatas.push(e)}dxfy(e){if(this.isPolyline())this.polylineBoundaries.forEach(s=>{e.push(92,this.pathTypeFlag),s.dxfy(e)});else{if(!this.isEdges())throw new Error("The boundary path is empty!");this.edgesTypeDatas.forEach(s=>{e.push(92,this.pathTypeFlag),s.dxfy(e)})}}}function yi(t){return t}(function(t){t[t.SolidFill=1]="SolidFill",t[t.PatternFill=0]="PatternFill"})(ge||(ge={})),function(t){t[t.NonAssociative=0]="NonAssociative",t[t.Associative=1]="Associative"}(Ct||(Ct={})),function(t){t[t.Normal=0]="Normal",t[t.Outer=1]="Outer",t[t.Ignore=2]="Ignore"}(kt||(kt={})),function(t){t.LINEAR="LINEAR",t.CYLINDER="CYLINDER",t.INVCYLINDER="INVCYLINDER",t.SPHERICAL="SPHERICAL",t.HEMISPHERICAL="HEMISPHERICAL",t.CURVED="CURVED",t.INVSPHERICAL="SPHERICAL",t.INVHEMISPHERICAL="INVHEMISPHERICAL",t.INVCURVED="INVCURVED"}(Rt||(Rt={}));class Ks extends T{get patternName(){let e=We.SOLID;return this.isPattern(this.fill)&&(e=this.fill.name),e}get solidFillFlag(){return this.patternName===We.SOLID?ge.SolidFill:ge.PatternFill}constructor(e,s,n){super("HATCH","AcDbHatch",n),this.fill=s,this.elevation=n?.elevation||0,this.extrusion=n?.extrusion||S(0,0,1),this.boundaryPath=e}pattern(e,s){var n;const o=s.name,a=(n=s.angle)!==null&&n!==void 0?n:0,l=s.scale||1,i=s.double||!1;e.push(52,a),e.push(41,l),e.push(77,Number(i));const u=h.get(o);u&&(u.scale=l,a!==0&&(u.angle=a),u.dxfy(e))}gradient(e,s){var n,o,a;const l=s.firstColor,i=(n=s.secondColor)!==null&&n!==void 0?n:7,u=(o=s.angle)!==null&&o!==void 0?o:0,c=s.definition||0,x=(a=s.tint)!==null&&a!==void 0?a:1,C=s.type||Rt.LINEAR;e.push(450,1),e.push(451,0),e.push(460,u),e.push(461,c),e.push(452,s.secondColor?0:1),e.push(462,x),e.push(453,2),e.push(463,0),e.push(63,l),e.push(421,_e.fromHex(jt(l))),e.push(463,1),e.push(63,i),e.push(421,_e.fromHex(jt(i))),e.push(470,C)}isPattern(e){return"name"in e}boundingBox(){return D.pointBBox(S(0,0))}dxfyChild(e){var s,n,o;e.point3d(S(0,0,this.elevation)),e.push(210,(s=this.extrusion)===null||s===void 0?void 0:s.x),e.push(220,(n=this.extrusion)===null||n===void 0?void 0:n.y),e.push(230,(o=this.extrusion)===null||o===void 0?void 0:o.z),e.name(this.patternName),e.push(70,this.solidFillFlag),e.push(71,Ct.NonAssociative),e.push(91,this.boundaryPath.length),this.boundaryPath.dxfy(e),e.push(75,kt.Outer),e.push(76,Tt.Predifined),this.isPattern(this.fill)?(this.solidFillFlag===ge.PatternFill&&this.pattern(e,this.fill),e.push(47,1),e.push(98,0)):(e.push(47,1),e.push(98,0),this.gradient(e,this.fill))}}(function(t){t[t.ShowImage=1]="ShowImage",t[t.ShowImageWhenNotAlignedWithScreen=2]="ShowImageWhenNotAlignedWithScreen",t[t.UseClippingBoundary=4]="UseClippingBoundary",t[t.TransparencyIsOn=8]="TransparencyIsOn"})(Ve||(Ve={})),function(t){t[t.Rectangular=1]="Rectangular",t[t.Polygonal=2]="Polygonal"}(ye||(ye={})),function(t){t[t.Off=0]="Off",t[t.On=1]="On"}(Xt||(Xt={})),function(t){t[t.Outside=0]="Outside",t[t.Inside=1]="Inside"}(Nt||(Nt={}));class Zs extends T{constructor(e,s){super("IMAGE","AcDbRasterImage",s),Z.set(this,void 0),this.width=e.width,this.height=e.height,this.scale=e.scale,this.rotation=e.rotation,this.insertionPoint=e.insertionPoint,this.ratio=this.scale/this.width,this.imageDefHandle=e.imageDefHandle,this.imageDisplayFlags=s?.imageDisplayFlags||Ve.ShowImage|Ve.ShowImageWhenNotAlignedWithScreen,this.clippingStateFlag=s?.clippingStateFlag||Xt.On,this.clipModeFlag=s?.clipModeFlag||Nt.Inside,this.clippingType=s?.clippingType||ye.Rectangular,this.brightness=s?.brightness||50,this.contrast=s?.brightness||50,this.fade=s?.fade||0,ce(this,Z,[]),this.classVersion=s?.classVersion||0,this.resetClipping()}setClipBoundaryVerticies(e,s){if(s===ye.Rectangular){if(e.length!=2)throw new Error("The number of vertices should be 2 in rectangular clipping !");ce(this,Z,e)}else{if(!(e.length>=3))throw new Error("The number of vertices should be >= 3 in polygonal clipping !");ce(this,Z,e)}ce(this,Z,[]),I(this,Z,"f").push(...e)}resetClipping(){const e=[E(-.5,-.5),E(this.width-.5,this.height-.5)];this.setClipBoundaryVerticies(e,ye.Rectangular)}_vector(){return E(this.ratio*Math.cos(this.rotation*Math.PI/180),this.ratio*Math.sin(this.rotation*Math.PI/180))}_uVector(){const e=this._vector();return S(e.x,-e.y,0)}_vVector(){const e=this._vector();return S(e.y,e.x,0)}boundingBox(){const e=this.scale,s=this.width/this.height*this.scale,n=Math.sqrt(Math.pow(e,2)+Math.pow(s,2));return D.centerRadiusBBox(this.insertionPoint,n)}dxfyChild(e){e.push(90,this.classVersion),e.point3d(this.insertionPoint),e.point3d(this._uVector(),1),e.point3d(this._vVector(),2),e.push(13,this.width),e.push(23,this.height),e.push(340,this.imageDefHandle),e.push(70,this.imageDisplayFlags),e.push(280,this.clippingStateFlag),e.push(281,this.brightness),e.push(282,this.contrast),e.push(283,this.fade),e.push(360,this.imageDefReactorHandle),e.push(71,this.clippingType),e.push(91,I(this,Z,"f").length),I(this,Z,"f").forEach(s=>e.point2d(s,4)),e.push(290,this.clipModeFlag)}}Z=new WeakMap;class qs extends T{constructor(e,s,n){var o,a,l,i,u,c;super("INSERT","AcDbBlockReference",n),this.blockName=e,this.insertionPoint=s,this.scaleFactor=n?.scaleFactor||S(1,1,1),this.rotationAngle=(o=n?.rotationAngle)!==null&&o!==void 0?o:0,this.columnCount=(a=n?.columnCount)!==null&&a!==void 0?a:1,this.rowCount=(l=n?.rowCount)!==null&&l!==void 0?l:1,this.columnSpacing=(i=n?.columnSpacing)!==null&&i!==void 0?i:0,this.rowSpacing=(u=n?.rowSpacing)!==null&&u!==void 0?u:0,this.attributesFollowFlag=(c=n?.rowSpacing)!==null&&c!==void 0?c:0}boundingBox(){return D.pointBBox(this.insertionPoint)}dxfyChild(e){e.name(this.blockName),e.point3d(this.insertionPoint),e.push(41,this.scaleFactor.x),e.push(42,this.scaleFactor.y),e.push(43,this.scaleFactor.z),e.push(50,this.rotationAngle),e.push(66,this.attributesFollowFlag),e.push(70,this.columnCount),e.push(71,this.rowCount),e.push(44,this.columnSpacing),e.push(45,this.rowSpacing)}}(function(t){t[t.Disabed=0]="Disabed",t[t.Enabled=1]="Enabled"})(Yt||(Yt={})),function(t){t[t.StraightLine=0]="StraightLine",t[t.Spline=1]="Spline"}(Bt||(Bt={}));class $s extends T{constructor(e,s){var n,o;super("LEADER","AcDbLeader",s),this.vertices=e,this.flag=(n=s?.flag)!==null&&n!==void 0?n:Yt.Enabled,this.leaderPathType=(o=s?.leaderPathType)!==null&&o!==void 0?o:Bt.StraightLine,this.dimensionStyleName=s?.dimensionStyleName||"Standard"}boundingBox(){return D.verticesBBox(this.vertices)}dxfyChild(e){e.push(3,this.dimensionStyleName),e.push(71,this.flag),e.push(72,this.leaderPathType),e.push(76,this.vertices.length),this.vertices.forEach(s=>e.point3d(s))}}class Qs extends T{constructor(e,s,n){super("LINE","AcDbLine",n),this.startPoint=e,this.endPoint=s}boundingBox(){return D.lineBBox(this.startPoint,this.endPoint)}dxfyChild(e){e.point3d(this.startPoint),e.point3d(this.endPoint,1)}}(function(t){t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Plinegen=128]="Plinegen"})(Ue||(Ue={}));class en extends T{constructor(e,s){super("LWPOLYLINE","AcDbPolyline",s),this.vertices=e,this.flags=s?.flags||Ue.None,this.constantWidth=s?.constantWidth||0,this.elevation=s?.elevation||0,this.thickness=s?.thickness||0}boundingBox(){return D.verticesBBox(this.vertices.map(e=>S(e.point.x,e.point.y,0)))}dxfyChild(e){var s,n,o;e.push(90,this.vertices.length),e.push(70,this.flags||0),this.vertices.find(a=>{var l,i;return((l=a.startingWidth)!==null&&l!==void 0?l:0)>0&&((i=a.endWidth)!==null&&i!==void 0?i:0)>0})||e.push(43,this.constantWidth),e.elevation(this.elevation),e.thickness(this.thickness);for(const a of this.vertices)e.point2d(a.point),e.push(40,a.startingWidth),e.push(41,a.endWidth),e.push(42,a.bulge);e.push(210,(s=this.extrusion)===null||s===void 0?void 0:s.x),e.push(220,(n=this.extrusion)===null||n===void 0?void 0:n.y),e.push(230,(o=this.extrusion)===null||o===void 0?void 0:o.z)}}(function(t){t[t.TopLeft=1]="TopLeft",t[t.TopCenter=2]="TopCenter",t[t.TopRight=3]="TopRight",t[t.MiddleLeft=4]="MiddleLeft",t[t.MiddleCenter=5]="MiddleCenter",t[t.MiddleRight=6]="MiddleRight",t[t.BottomLeft=7]="BottomLeft",t[t.BottomCenter=8]="BottomCenter",t[t.BottomRight=9]="BottomRight"})(us||(us={})),function(t){t[t.LeftToRight=1]="LeftToRight",t[t.TopToBottom=3]="TopToBottom",t[t.ByStyle=5]="ByStyle"}(cs||(cs={})),function(t){t[t.AtLeast=1]="AtLeast",t[t.Exact=2]="Exact"}(ps||(ps={}));class tn extends T{constructor(e,s,n,o){super("MTEXT","AcDbMText",o),this.position=e,this.height=s,this.value=n,this.textStyle="STANDARD",this.rotation=o?.rotation,this.attachmentPoint=o?.attachmentPoint,this.drawingDirection=o?.drawingDirection,this.lineSpacingStyle=o?.lineSpacingStyle,this.width=o?.width}boundingBox(){return D.pointBBox(this.position)}dxfyChild(e){e.point3d(this.position),e.push(40,this.height),e.push(41,this.width),e.push(71,this.attachmentPoint),e.push(72,this.drawingDirection),e.push(73,this.lineSpacingStyle),e.primaryText(this.value),e.push(50,this.rotation),e.textStyle(this.textStyle)}}class sn extends T{constructor(e,s,n,o){super("POINT","AcDbPoint",o),this.x=e,this.y=s,this.z=n}boundingBox(){return D.pointBBox(S(this.x,this.y,this.z))}dxfyChild(e){e.point3d(S(this.x,this.y,this.z))}}(function(t){t[t.None=0]="None",t[t.ExtraVertex=1]="ExtraVertex",t[t.CurveFit=2]="CurveFit",t[t.NotUsed=4]="NotUsed",t[t.SplineVertex=8]="SplineVertex",t[t.SplineFrame=16]="SplineFrame",t[t.Polyline3dVertex=32]="Polyline3dVertex",t[t.Polygon3dMesh=64]="Polygon3dMesh",t[t.PolyfaceMeshVertex=128]="PolyfaceMeshVertex"})(je||(je={}));class nn extends T{constructor(e,s){var n;super("VERTEX","AcDbVertex",s),this.point=e,this.flags=(n=s?.flags)!==null&&n!==void 0?n:je.None,s&&("startingWidth"in s&&(this.startingWidth=s.startingWidth),"endWidth"in s&&(this.endWidth=s.endWidth),"bulge"in s&&(this.bulge=s.bulge))}boundingBox(){return D.pointBBox(this.point)}dxfyChild(e){e.subclassMarker("AcDb3dPolylineVertex"),e.point3d(this.point),e.push(40,this.startingWidth),e.push(41,this.endWidth),e.push(42,this.bulge),e.push(70,this.flags)}}class Ds extends T{dxfyChild(e){}constructor(){super("SEQEND")}}(function(t){t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.CurveFit=2]="CurveFit",t[t.SplineFit=4]="SplineFit",t[t.Polyline3D=8]="Polyline3D",t[t.PolygonMesh3D=16]="PolygonMesh3D",t[t.PolygonMeshClosed=32]="PolygonMeshClosed",t[t.PolyfaceMesh=64]="PolyfaceMesh",t[t.LinetypeGenerated=128]="LinetypeGenerated"})(Pt||(Pt={})),function(t){t[t.NoSmooth=0]="NoSmooth",t[t.QuadraticBSpline=5]="QuadraticBSpline",t[t.CubicBSpline=6]="CubicBSpline",t[t.Bezier=8]="Bezier"}(Ot||(Ot={}));class an extends T{constructor(e,s){var n,o,a,l,i,u,c,x,C,N;super("POLYLINE","AcDb3dPolyline",s),this._seqend=new Ds,this.vertices=[],this.thickness=(n=s?.thickness)!==null&&n!==void 0?n:0,this.elevation=(o=s?.elevation)!==null&&o!==void 0?o:0,this.flags=(a=s?.flags)!==null&&a!==void 0?a:Pt.None,this.defaultStartWidth=(l=s?.defaultStartWidth)!==null&&l!==void 0?l:0,this.defaultEndWidth=(i=s?.defaultEndWidth)!==null&&i!==void 0?i:0,this.polygonMeshM=(u=s?.polygonMeshM)!==null&&u!==void 0?u:0,this.polygonMeshN=(c=s?.polygonMeshN)!==null&&c!==void 0?c:0,this.smoothSurfaceM=(x=s?.smoothSurfaceM)!==null&&x!==void 0?x:0,this.smoothSurfaceN=(C=s?.smoothSurfaceN)!==null&&C!==void 0?C:0,this.surfaceType=(N=s?.surfaceType)!==null&&N!==void 0?N:Ot.NoSmooth,e.forEach(U=>this.vertices.push(new nn(U.point,{startingWidth:U.startingWidth,endWidth:U.endWidth,bulge:U.bulge,flags:je.Polyline3dVertex})))}boundingBox(){return D.verticesBBox(this.vertices.map(e=>e.point))}dxfyChild(e){e.push(66,1),e.point3d(S(0,0,this.elevation)),e.push(39,this.thickness),e.push(70,this.flags),e.push(40,this.defaultStartWidth),e.push(41,this.defaultEndWidth),e.push(71,this.polygonMeshM),e.push(72,this.polygonMeshN),e.push(73,this.smoothSurfaceM),e.push(74,this.smoothSurfaceN),e.push(75,this.surfaceType),this.vertices.forEach(s=>s.dxfy(e)),this._seqend.dxfy(e)}}(function(t){t[t.Closed=1]="Closed",t[t.Periodic=2]="Periodic",t[t.Rational=4]="Rational",t[t.Planar=8]="Planar",t[t.Linear=16]="Linear"})(Mt||(Mt={}));class on extends T{constructor(e,s){var n,o;super("SPLINE","AcDbSpline",s),this.controlPoints=e.controlPoints,this.degreeCurve=(n=e.degreeCurve)!==null&&n!==void 0?n:3,this.flags=(o=e.flags)!==null&&o!==void 0?o:Mt.Planar,this.knots=e.knots||[],this.weights=e.weights||[],this.fitPoints=e.fitPoints||[];const a=this.controlPoints.length,l=this.degreeCurve,i=l+1,u=this.fitPoints.length;if(a<i)throw new Error(`Number of control points should be >= ${i}.`);if(u!==0&&u<2)throw new Error("Number of fit points should be >= 2.");const c=l+a+1;if(this.knots.length===0){let x=0;for(let C=0;C<c;C++)C<=l||C>=a+1?this.knots.push(x):this.knots.push(++x)}if(this.knots.length!==c)throw new Error(`Number of knots should be ${c}.`)}boundingBox(){return D.verticesBBox([...this.controlPoints,...this.fitPoints])}dxfyChild(e){e.push(70,this.flags),e.push(71,this.degreeCurve),e.push(72,this.knots.length),e.push(73,this.controlPoints.length),e.push(74,this.fitPoints.length),e.push(42,"0.0000001"),e.push(43,"0.0000001"),e.push(42,"0.0000000001"),this.knots.forEach(s=>e.push(40,s)),this.weights.forEach(s=>e.push(41,s)),this.controlPoints.forEach(s=>e.point3d(s)),this.fitPoints.forEach(s=>e.point3d(s,1))}}(function(t){t[t.Text=1]="Text",t[t.Block=2]="Block"})(gs||(gs={})),function(t){t[t.False=0]="False",t[t.True=1]="True"}(ys||(ys={})),function(t){t[t.False=0]="False",t[t.True=1]="True"}(As||(As={})),function(t){t[t.TopLeft=1]="TopLeft",t[t.TopCenter=2]="TopCenter",t[t.TopRight=3]="TopRight",t[t.MiddleLeft=4]="MiddleLeft",t[t.MiddleCenter=5]="MiddleCenter",t[t.MiddleRight=6]="MiddleRight",t[t.BottomLeft=7]="BottomLeft",t[t.BottomCenter=8]="BottomCenter",t[t.BottomRight=9]="BottomRight"}(xs||(xs={}));class ln extends T{constructor(e,s,n,o,a,l,i){super("ACAD_TABLE","AcDbBlockReference",i),this.blockName=e,this.position=s,this.numberOfRows=n,this.numberOfColumn=o,this.rowsHeight=a,this.columnsHeight=l,this.horizontalDirectionVector=i?.horizontalDirectionVector||S(1),this.cells=i?.cell}boundingBox(){return D.pointBBox(this.position)}dxfyChild(e){var s,n,o,a;e.name(this.blockName),e.point3d(this.position),e.subclassMarker("AcDbTable"),e.point3d(this.horizontalDirectionVector,1),e.push(91,this.numberOfRows),e.push(92,this.numberOfColumn);for(let l=0;l<this.numberOfRows;l++)e.push(141,(n=(s=this.rowsHeight[l])!==null&&s!==void 0?s:this.rowsHeight[0])!==null&&n!==void 0?n:1);for(let l=0;l<this.numberOfColumn;l++)e.push(142,(a=(o=this.columnsHeight[l])!==null&&o!==void 0?o:this.columnsHeight[0])!==null&&a!==void 0?a:1);this.cells.forEach(l=>l.dxfy(e))}}(function(t){t[t.None=0]="None",t[t.Backward=2]="Backward",t[t.UpsideDown=4]="UpsideDown"})(ms||(ms={})),function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right",t[t.Aligned=3]="Aligned",t[t.Middle=4]="Middle",t[t.Fit=5]="Fit"}(bs||(bs={})),function(t){t[t.BaseLine=0]="BaseLine",t[t.Bottom=1]="Bottom",t[t.Middle=2]="Middle",t[t.Top=3]="Top"}(Is||(Is={}));class hn extends T{constructor(e,s,n,o){super("TEXT","AcDbText",o),this.position=e,this.height=s,this.value=n,this.textStyle="STANDARD",this.rotation=o?.rotation,this.obliqueAngle=o?.obliqueAngle,this.generationFlags=o?.generationFlags,this.horizontalAlignment=o?.horizontalAlignment,this.verticalAlignment=o?.verticalAlignment,this.secondAlignmentPoint=o?.secondAlignmentPoint,this.relativeXScaleFactor=o?.relativeXScaleFactor}boundingBox(){return D.pointBBox(this.position)}dxfyChild(e){e.point3d(this.position),e.push(40,this.height),e.primaryText(this.value),e.push(50,this.rotation),e.push(41,this.relativeXScaleFactor),e.push(51,this.obliqueAngle),e.textStyle(this.textStyle),e.push(71,this.generationFlags),e.push(72,this.horizontalAlignment),e.point3d(this.secondAlignmentPoint,1),e.subclassMarker("AcDbText"),e.push(73,this.verticalAlignment)}}class dn{constructor(e,s,n){this.entities=[],this.handle=H.next(),this.objects=e,this.blockRecord=s,this.layerName=n}dxfy(e){for(const s of this.entities)s.dxfy(e)}addHatch(e,s,n){const o=new Ks(e,s,n);return this.addEntity(o)}addEntity(e){return e.ownerBlockRecord=this.blockRecord.handle,this.blockRecord.isPaperSpace&&(e.inPaperSpace=!0),e.layerName==null&&(e.layerName=this.layerName),this.entities.push(e),e}addAttrib(e,s,n,o,a,l){a.attributesFollowFlag=1;const i=this.addEntity(new js(e,s,n,o,l));return this.addEntity(new Ds).ownerBlockRecord=a.handle,i}addAttdef(e,s,n,o,a){return this.addEntity(new Us(e,s,n,o,a))}addAlignedDim(e,s,n){return this.addEntity(new Ps(e,s,n))}addDiameterDim(e,s,n){return this.addEntity(new _s(e,s,n))}addRadialDim(e,s,n){return this.addEntity(new Ws(e,s,n))}addLinearDim(e,s,n){return this.addEntity(new Hs(e,s,n))}addAngularLinesDim(e,s,n,o){return this.addEntity(new Os(e,s,n,o))}addAngularPointsDim(e,s,n,o){return this.addEntity(new Ms(e,s,n,o))}addLine(e,s,n){return this.addEntity(new Qs(e,s,n))}addLeader(e,s){return this.addEntity(new $s(e,s))}addLWPolyline(e,s){return this.addEntity(new en(e,s))}addRectangle(e,s,n){const o=[],a=e.x,l=e.y,i=s.x,u=s.y;if(n?.fillet!==void 0&&n?.chamfer!==void 0)throw new Error("You cannot define both fillet and chamfer!");if(n?.fillet!==void 0){const c=n?.fillet,x=Cs(c);o.push({point:E(a,l-c),bulge:x}),o.push({point:E(a+c,l)}),o.push({point:E(i-c,l),bulge:x}),o.push({point:E(i,l-c)}),o.push({point:E(i,u+c),bulge:x}),o.push({point:E(i-c,u)}),o.push({point:E(a+c,u),bulge:x}),o.push({point:E(a,u+c)})}else if(n?.chamfer!==void 0){const c=n?.chamfer.first,x=n?.chamfer.second||c;o.push({point:E(a,l-c)}),o.push({point:E(a+x,l)}),o.push({point:E(i-c,l)}),o.push({point:E(i,l-x)}),o.push({point:E(i,u+c)}),o.push({point:E(i-x,u)}),o.push({point:E(a+c,u)}),o.push({point:E(a,u+x)})}else o.push({point:E(a,l)}),o.push({point:E(i,l)}),o.push({point:E(i,u)}),o.push({point:E(a,u)});return this.addLWPolyline(o,Object.assign(Object.assign({},n),{flags:Ue.Closed}))}addImage(e,s,n,o,a,l,i,u){const c=this.objects.addImageDef(e);c.width=o,c.height=a;const x=new Zs({height:a,width:o,scale:l,rotation:i,insertionPoint:n,imageDefHandle:c.handle},u),C=this.objects.addImageDefReactor(x.handle);x.imageDefReactorHandle=C.handle,this.addEntity(x);const N=this.objects.addDictionary();return N.addEntryObject(s,c.handle),c.ownerObjecthandle=N.handle,this.objects.root.addEntryObject("ACAD_IMAGE_DICT",N.handle),c.acadImageDictHandle=N.handle,c.addImageDefReactorHandle(C.handle),x}addPolyline3D(e,s){return this.addEntity(new an(e,s))}addPoint(e,s,n,o){return this.addEntity(new sn(e,s,n,o))}addCircle(e,s,n){return this.addEntity(new Gs(e,s,n))}addArc(e,s,n,o,a){return this.addEntity(new Vs(e,s,n,o,a))}addSpline(e,s){return this.addEntity(new on(e,s))}addEllipse(e,s,n,o,a,l){const i=new zs(e,s,n,o,a,l);return this.addEntity(i),i}add3dFace(e,s,n,o,a){return this.addEntity(new Js(e,s,n,o,a))}addText(e,s,n,o){return this.addEntity(new hn(e,s,n,o))}addMText(e,s,n,o){return this.addEntity(new tn(e,s,n,o))}addInsert(e,s,n){return this.addEntity(new qs(e,s,n||{}))}addTable(e,s,n,o,a,l,i){return this.addEntity(new ln(e,s,n,o,a,l,i))}boundingBox(){const e=[];for(let s=0;s<this.entities.length;s++)e.push(this.entities[s].boundingBox());return D.boundingBox(e)}centerView(){return D.boundingBoxCenter(this.boundingBox())}viewHeight(){return D.boundingBoxHeight(this.boundingBox())}}(function(t){t[t.None=0]="None",t[t.AnonymousBlock=1]="AnonymousBlock",t[t.HasNonConstantAttribute=2]="HasNonConstantAttribute",t[t.XRef=4]="XRef",t[t.XRefOverlay=8]="XRefOverlay",t[t.ExternallyDependent=16]="ExternallyDependent",t[t.ResolvedXRef=32]="ResolvedXRef",t[t.ReferencedXRef=64]="ReferencedXRef"})(_t||(_t={}));class rn extends dn{get isPaperSpace(){return this.name.startsWith("*Paper_Space")}get isModelSpace(){return this.name.startsWith("*Model_Space")}get isModelOrPaperSpace(){return this.isModelSpace||this.isPaperSpace}constructor(e,s,n){super(n,s,"0"),this.name=e,this.flags=_t.None,this.endBlk=new ks,this.ownerObjectHandle=s.handle,this.basePoint=S(0,0,0),this.xrefPathName=""}setLayerName(e){this.layerName=e}dxfy(e){e.type("BLOCK"),e.handle(this.handle),e.push(330,this.ownerObjectHandle),e.subclassMarker("AcDbEntity"),e.layerName(this.layerName),e.subclassMarker("AcDbBlockBegin"),e.name(this.name),e.push(70,this.flags),e.point3d(this.basePoint),e.name(this.name,3),e.push(1,this.xrefPathName),this.isModelSpace||this.name==="*Paper_Space"||super.dxfy(e),this.endBlk.dxfy(e)}}class fn{constructor(e,s){this.blocks=[],this.paperSpaceSeed=0,this.tables=e,this.objects=s,this.modelSpace=this.addBlock("*Model_Space",s,!1),this.paperSpace=this.addBlock("*Paper_Space",s,!1)}addBlock(e,s,n=!0){n&&(e=e.replace(He,""));const o=this.tables.addBlockRecord(e),a=new rn(e,o,s);return this.blocks.push(a),a}addPaperSpace(){const e="*Paper_Space"+this.paperSpaceSeed++;return this.addBlock(e,this.objects,!1)}dxfy(e){e.start("BLOCKS"),this.blocks.forEach(s=>s.dxfy(e)),e.end()}}class un{dxfy(e){e.start("CLASSES"),e.end()}}class cn{constructor(e){this.blocks=e,this.modelSpace=e.modelSpace,this.paperSpace=e.paperSpace}setLayerName(e){this.modelSpace.setLayerName(e)}dxfy(e){e.start("ENTITIES"),this.paperSpace.entities.forEach(s=>s.dxfy(e)),this.modelSpace.entities.forEach(s=>s.dxfy(e)),e.end()}}class pn{constructor(e,s){this.values=s,this.name=e}dxfy(e){e.variableName(this.name),Object.entries(this.values).forEach(s=>{const[n,o]=s;e.push(parseInt(n),o)})}}class gn{constructor(){this.variables=[]}setVariable(e,s){const n=this.variables.find(o=>o.name===e);n?n.values=s:this.variables.push(new pn(e,s))}dxfy(e){e.start("HEADER"),this.variables.forEach(s=>s.dxfy(e)),e.end()}}class Vt{constructor(e){this.type=e,this.ownerObjecthandle="0",this.handle=H.next()}dxfy(e){e.type(this.type),e.handle(this.handle),e.push(330,this.ownerObjecthandle)}}class vs extends Vt{constructor(){super("DICTIONARY"),this.entries=[],this.duplicateRecordCloningFlag=0}addEntryObject(e,s){this.entries.push({name:e,entryObjectHandle:s})}dxfy(e){super.dxfy(e),e.subclassMarker("AcDbDictionary"),e.push(280,this.hardOwnerFlag),e.push(281,this.duplicateRecordCloningFlag);for(const s of this.entries)e.push(3,s.name),e.push(350,s.entryObjectHandle)}}(function(t){t[t.NoUnits=0]="NoUnits",t[t.Centimeters=2]="Centimeters",t[t.Inch=5]="Inch"})(Ht||(Ht={}));class yn extends Vt{constructor(e){super("IMAGEDEF"),this.path=e,this.acadImageDictHandle="",this.imageReactorHandles=[],this.width=1,this.height=1,this.widthPixelSize=1,this.heightPixelSize=1,this.loaded=!0,this.resolutionUnits=Ht.NoUnits}addImageDefReactorHandle(e){this.imageReactorHandles.push(e)}dxfy(e){super.dxfy(e);const s=new Xs("ACAD_REACTORS");s.add(330,this.acadImageDictHandle);for(const n of this.imageReactorHandles)s.add(330,n);s.dxfy(e),e.subclassMarker("AcDbRasterImageDef"),e.push(1,this.path),e.point2d(E(this.width,this.height)),e.push(11,this.widthPixelSize),e.push(21,this.heightPixelSize),e.push(280,Number(this.loaded)),e.push(281,this.resolutionUnits)}}class An extends Vt{constructor(e){super("IMAGEDEF_REACTOR"),this.imageHandle=e,this.classVersion=2}dxfy(e){super.dxfy(e),e.subclassMarker("AcDbRasterImageDefReactor"),e.push(90,this.classVersion),e.push(330,this.imageHandle)}}class xn{constructor(){this.root=new vs,this.objects=[],this.root.duplicateRecordCloningFlag=1;const e=this.addDictionary();this.root.addEntryObject("ACAD_GROUP",e.handle)}addObject(e){return this.objects.push(e),e}addImageDef(e){return this.addObject(new yn(e))}addImageDefReactor(e){return this.addObject(new An(e))}addDictionary(){const e=new vs;return e.ownerObjecthandle=this.root.handle,this.addObject(e),e}addEntryToRoot(e,s){this.root.addEntryObject(e,s)}dxfy(e){e.start("OBJECTS"),this.root.dxfy(e);for(const s of this.objects)s.dxfy(e);e.end(),e.type("EOF")}}class ${constructor(e){this.name=e,this.maxNumberEntries=0,this.ownerObjectHandle="0",this.handle=H.next(),this.records=[]}dxfy(e){e.type("TABLE"),e.name(this.name),e.handle(this.handle),e.push(330,this.ownerObjectHandle),e.subclassMarker("AcDbSymbolTable"),e.push(70,this.records.length);for(const s of this.records)s.dxfy(e);e.type("ENDTAB")}}(function(t){t[t.None=0]="None",t[t.XRefDependent=16]="XRefDependent",t[t.XRefResolved=32]="XRefResolved"})(Ge||(Ge={}));class mn extends ee{constructor(e,s){super("APPID"),this.name=e,this.flags=s??Ge.None}dxfy(e){super.dxfy(e),e.subclassMarker("AcDbRegAppTableRecord"),e.name(this.name),e.push(70,this.flags)}}class bn extends ee{get isPaperSpace(){return this.name.startsWith("*Paper_Space")}constructor(e){super("BLOCK_RECORD"),this.name=e,this.insertionUnits=0,this.explodability=1,this.scalability=0}dxfy(e){super.dxfy(e),e.subclassMarker("AcDbBlockTableRecord"),e.name(this.name),e.push(340,this.layoutObject),e.push(70,this.insertionUnits),e.push(280,this.explodability),e.push(281,this.scalability)}}(function(t){t[t.None=0]="None",t[t.XRefDependent=16]="XRefDependent",t[t.XRefRefesolved=32]="XRefRefesolved"})(Wt||(Wt={}));class In{constructor(e,s){this.name=e,this.flags=s??Wt.None,this.handle=H.next(),this.type="DIMSTYLE"}dxfy(e){e.type(this.type),e.push(105,this.handle),e.push(330,this.ownerObjectHandle),e.subclassMarker("AcDbSymbolTableRecord"),e.subclassMarker("AcDbDimStyleTableRecord"),e.name(this.name),e.push(70,this.flags),e.push(3,this.DIMPOST),e.push(4,this.DIMAPOST),e.push(5,this.DIMBLK),e.push(6,this.DIMBLK1),e.push(7,this.DIMBLK2),e.push(40,this.DIMSCALE),e.push(41,this.DIMASZ),e.push(42,this.DIMEXO),e.push(43,this.DIMDLI),e.push(44,this.DIMEXE),e.push(45,this.DIMRND),e.push(46,this.DIMDLE),e.push(47,this.DIMTP),e.push(48,this.DIMTM),e.push(140,this.DIMTXT),e.push(141,this.DIMCEN),e.push(142,this.DIMTSZ),e.push(143,this.DIMALTF),e.push(144,this.DIMLFAC),e.push(145,this.DIMTVP),e.push(146,this.DIMTFAC),e.push(147,this.DIMGAP),e.push(148,this.DIMALTRND),e.push(71,this.DIMTOL),e.push(72,this.DIMLIM),e.push(73,this.DIMTIH),e.push(74,this.DIMTOH),e.push(75,this.DIMSE1),e.push(76,this.DIMSE2),e.push(77,this.DIMTAD),e.push(78,this.DIMZIN),e.push(79,this.DIMAZIN),e.push(170,this.DIMALT),e.push(171,this.DIMALTD),e.push(172,this.DIMTOFL),e.push(173,this.DIMSAH),e.push(174,this.DIMTIX),e.push(175,this.DIMSOXD),e.push(176,this.DIMCLRD),e.push(177,this.DIMCLRE),e.push(178,this.DIMCLRT),e.push(179,this.DIMADEC),e.push(271,this.DIMDEC),e.push(272,this.DIMTDEC),e.push(273,this.DIMALTU),e.push(274,this.DIMALTTD),e.push(275,this.DIMAUNIT),e.push(276,this.DIMFRAC),e.push(277,this.DIMLUNIT),e.push(278,this.DIMDSEP),e.push(279,this.DIMTMOVE),e.push(280,this.DIMJUST),e.push(281,this.DIMSD1),e.push(282,this.DIMSD2),e.push(283,this.DIMTOLJ),e.push(284,this.DIMTZIN),e.push(285,this.DIMALTZ),e.push(286,this.DIMALTTZ),e.push(287,this.DIMFIT),e.push(288,this.DIMUPT),e.push(289,this.DIMATFIT),e.push(340,this.DIMTXSTY),e.push(341,this.DIMLDRBLK),e.push(342,this.DIMBLK),e.push(343,this.DIMBLK1),e.push(344,this.DIMBLK2),e.push(371,this.DIMLWD),e.push(372,this.DIMLWE)}}class vn extends ee{constructor(e,s,n,o){super("LTYPE"),this.name=e,this.descriptive=s,this.elements=n,this.flags=o??0}dxfy(e){super.dxfy(e),e.subclassMarker("AcDbLinetypeTableRecord"),e.name(this.name),e.push(70,this.flags),e.push(3,this.descriptive),e.push(72,65),e.push(73,this.elements.length);let s=0;for(const n of this.elements)s+=Math.abs(n);e.push(40,s);for(const n of this.elements)e.push(49,n),e.push(74,0)}}class Ln extends ee{constructor(e,s){super("STYLE"),this.fixedTextHeight=0,this.widthFactor=1,this.obliqueAngle=0,this.textGenerationFlag=0,this.lastHeightUsed=1,this.fontFileName="txt",this.bigFontFileName="",this.name=e,this.flags=s??Dt.None}dxfy(e){super.dxfy(e),e.subclassMarker("AcDbTextStyleTableRecord"),e.name(this.name),e.push(70,this.flags),e.push(40,this.fixedTextHeight),e.push(41,this.widthFactor),e.push(50,this.obliqueAngle),e.push(71,this.textGenerationFlag),e.push(42,this.lastHeightUsed),e.push(3,this.fontFileName),e.push(4,this.bigFontFileName)}}class Sn extends ee{constructor(e){super("UCS"),this.name=e}dxfy(e){super.dxfy(e)}}class Dn extends ee{constructor(e){super("VPORT"),this.name=e,this.viewHeight=200,this.viewCenter=[0,0]}dxfy(e){super.dxfy(e);const[s,n]=this.viewCenter;e.subclassMarker("AcDbViewportTableRecord"),e.name(this.name),e.push(70,0),e.point2d({x:0,y:0}),e.push(11,1),e.push(21,1),e.push(12,s),e.push(22,n),e.push(13,0),e.push(23,0),e.push(14,10),e.push(24,10),e.push(15,10),e.push(25,10),e.push(16,0),e.push(26,0),e.push(36,1),e.push(17,0),e.push(27,0),e.push(37,0),e.push(40,this.viewHeight||200),e.push(41,2),e.push(42,50),e.push(43,0),e.push(44,0),e.push(50,0),e.push(51,0),e.push(71,0),e.push(72,100),e.push(73,1),e.push(74,3),e.push(75,0),e.push(76,1),e.push(77,0),e.push(78,0),e.push(281,0),e.push(65,1),e.push(110,0),e.push(120,0),e.push(130,0),e.push(111,1),e.push(121,0),e.push(131,0),e.push(112,0),e.push(122,1),e.push(132,0),e.push(79,0),e.push(146,0),e.push(348,10020),e.push(60,7),e.push(61,5),e.push(292,1),e.push(282,1),e.push(141,0),e.push(142,0),e.push(63,250),e.push(421,3358443)}}class En extends ee{constructor(e){var s;super("VIEW"),this.name=e.name,this.flags=(s=e.flags)!==null&&s!==void 0?s:Et.None,this.viewHeight=e.viewHeight,this.viewCenter=e.viewCenter,this.viewWidth=e.viewWidth,this.viewDirection=e.viewDirection,this.targetPoint=e.targetPoint,this.lensLength=e.lensLength,this.frontClipping=e.frontClipping,this.backClipping=e.backClipping,this.twistAngle=e.twistAngle,this.viewMode=e.viewMode,this.renderMode=e.renderMode,this.isUCSAssociated=e.isUCSAssociated,this.isCameraPlottable=e.isCameraPlottable||!1,e.backgroundObjectHandle&&(this.backgroundObjectHandle=e.backgroundObjectHandle),e.liveSectionObjectHandle&&(this.liveSectionObjectHandle=e.liveSectionObjectHandle),e.visualStyleObjectHandle&&(this.visualStyleObjectHandle=e.visualStyleObjectHandle)}dxfy(e){super.dxfy(e),e.subclassMarker("AcDbViewTableRecord"),e.name(this.name),e.push(70,this.flags),e.push(40,this.viewHeight),e.point2d(this.viewCenter),e.push(41,this.viewWidth),e.push(11,this.viewDirection.x),e.push(21,this.viewDirection.y),e.push(31,this.viewDirection.z),e.push(12,this.targetPoint.x),e.push(22,this.targetPoint.y),e.push(32,this.targetPoint.z),e.push(42,this.lensLength),e.push(43,this.frontClipping),e.push(44,this.backClipping),e.push(50,this.twistAngle),e.push(71,this.viewMode),e.push(281,this.renderMode),e.push(72,this.isUCSAssociated?1:0),e.push(73,this.isCameraPlottable?1:void 0),e.push(332,this.backgroundObjectHandle),e.push(334,this.liveSectionObjectHandle),e.push(348,this.visualStyleObjectHandle)}}class wn extends ${constructor(){super("APPID")}addAppId(e,s){const n=new mn(e,s);return n.ownerObjectHandle=this.handle,this.records.push(n),n}}class Fn extends ${constructor(){super("BLOCK_RECORD")}addBlockRecord(e){const s=new bn(e);return s.ownerObjectHandle=this.handle,this.records.push(s),s}}class Tn extends ${constructor(){super("DIMSTYLE"),this.ownerObjectHandle="0"}addDimStyle(e,s){const n=new In(e,s);return n.ownerObjectHandle=this.handle,this.records.push(n),n}dxfy(e){e.type("TABLE"),e.name(this.name),e.handle(this.handle),e.push(330,this.ownerObjectHandle),e.subclassMarker("AcDbSymbolTable"),e.push(70,this.records.length),e.subclassMarker("AcDbDimStyleTable");for(const s of this.records)s.dxfy(e);e.type("ENDTAB")}}class Cn extends ${constructor(){super("LTYPE")}exist(e){return this.records.find(s=>s.name===e)!==void 0}ltype(e){return this.records.find(s=>s.name===e)}addLType(e,s,n,o){const a=this.ltype(e);if(a)return a;const l=new vn(e,s,n,o);return l.ownerObjectHandle=this.handle,this.records.push(l),l}}class kn extends ${constructor(e){super("LAYER"),this.lTypeTable=e}addLayer(e,s,n,o){e=e.replace(He,"");const a=this.layer(e);if(a)return a;this.lTypeTable.exist(n)||(n=Me.Continuous);const l=new ae(e,s,n,o);return l.ownerObjectHandle=this.handle,this.records.push(l),l}layer(e){return e=e.replace(He,""),this.records.find(s=>s.name===e)}exist(e){return this.records.find(s=>s.name===e)!==void 0}}class Rn extends ${constructor(){super("STYLE")}addStyle(e,s){const n=new Ln(e,s);return n.ownerObjectHandle=this.handle,this.records.push(n),n}}class Xn extends ${constructor(){super("UCS")}addUcs(e){const s=new Sn(e);return s.ownerObjectHandle=this.handle,this.records.push(s),s}}class Nn extends ${constructor(){super("VPORT")}addViewPort(e){const s=new Dn(e);return s.ownerObjectHandle=this.handle,this.records.push(s),s}}class Yn extends ${constructor(){super("VIEW")}addView(e){const s=new En(e);return s.ownerObjectHandle=this.handle,this.records.push(s),s}}class Bn{constructor(){this.vPortTable=new Nn,this.ltypeTable=new Cn,this.layerTable=new kn(this.ltypeTable),this.styleTable=new Rn,this.viewTable=new Yn,this.ucsTable=new Xn,this.appIdTable=new wn,this.dimStyleTable=new Tn,this.blockRecordTable=new Fn}layer(e){return this.layerTable.layer(e)}addLType(e,s,n,o){return this.ltypeTable.addLType(e,s,n,o)}addBlockRecord(e){return this.blockRecordTable.addBlockRecord(e)}addLayer(e,s,n,o){return this.layerTable.addLayer(e,s,n,o)}addStyle(e){return this.styleTable.addStyle(e)}addView(e){return this.viewTable.addView(e)}addUcs(e){return this.ucsTable.addUcs(e)}addAppId(e,s){return this.appIdTable.addAppId(e,s)}addDimStyle(e,s){return this.dimStyleTable.addDimStyle(e,s)}addVPort(e){return this.vPortTable.addViewPort(e)}dxfy(e){e.start("TABLES"),this.vPortTable.dxfy(e),this.ltypeTable.dxfy(e),this.layerTable.dxfy(e),this.styleTable.dxfy(e),this.viewTable.dxfy(e),this.ucsTable.dxfy(e),this.appIdTable.dxfy(e),this.dimStyleTable.dxfy(e),this.blockRecordTable.dxfy(e),e.end()}}class Pn{constructor(){H.clear(),this.header=new gn,this.classes=new un,this.tables=new Bn,this.objects=new xn,this.blocks=new fn(this.tables,this.objects),this.entities=new cn(this.blocks),this.currentLayerName=ae.layerZeroName,this.currentUnits=Oe.Unitless,this.header.setVariable("$ACADVER",{1:"AC1021"}),this.header.setVariable("$LASTSAVEDBY",{1:"@tarikjabiri/dxf"}),this._handseed(),this.setUnits(Oe.Unitless),this.tables.addLType("ByBlock","",[]),this.tables.addLType("ByLayer","",[]);const e=this.tables.addLType("Continuous","Solid line",[]);this.tables.addLayer(ae.layerZeroName,wt.White,e.name),this.styleStandard=this.tables.addStyle("Standard"),this.tables.addAppId("ACAD",Ge.None),this.dimStyleStandard=this.tables.addDimStyle("Standard"),this.dimStyleStandard.DIMTXSTY=this.styleStandard.handle,this.activeVPort=this.tables.addVPort("*Active"),this.modelSpace=this.blocks.modelSpace,this.paperSpace=this.blocks.paperSpace,this.setZeroLayerAsCurrent()}dxfy(e){this.header.dxfy(e),this.classes.dxfy(e),this.tables.dxfy(e),this.blocks.dxfy(e),this.entities.dxfy(e),this.objects.dxfy(e)}addBlock(e){return this.blocks.addBlock(e,this.objects)}setZeroLayerAsCurrent(){this.setCurrentLayerName(ae.layerZeroName)}setCurrentLayerName(e){this.currentLayerName=e.replace(He,""),this.entities.setLayerName(this.currentLayerName),this.setCLayerVariable()}_handseed(){this.header.setVariable("$HANDSEED",{5:H.peek()})}setUnits(e){this.currentUnits=e,this.header.setVariable("$INSUNITS",{70:this.currentUnits})}setCLayerVariable(){this.header.setVariable("$CLAYER",{8:this.currentLayerName})}setViewCenter(e){this.header.setVariable("$VIEWCTR",{10:e.x,20:e.y}),this.activeVPort.viewCenter=[e.x,e.y]}stringify(){const e=new Ns;return this._handseed(),this.setViewCenter(this.modelSpace.centerView()),this.activeVPort.viewHeight=this.modelSpace.viewHeight(),this.dxfy(e),e.stringify()}}class Ai{get header(){return this.document.header}get tables(){return this.document.tables}get blocks(){return this.document.blocks}get entities(){return this.document.entities}get currentLayer(){return this.document.currentLayerName}get units(){return this.document.currentUnits}get modelSpace(){return this.document.modelSpace}constructor(){this.document=new Pn}layer(e){return this.tables.layer(e)}setZeroLayerAsCurrent(){this.document.setZeroLayerAsCurrent()}addBlock(e){return this.blocks.addBlock(e,this.document.objects)}addPaperSpace(){return this.blocks.addPaperSpace()}setVariable(e,s){this.header.setVariable(e,s)}addLType(e,s,n){return this.tables.addLType(e,s,n)}addDimStyle(e){return this.tables.addDimStyle(e)}addAlignedDim(e,s,n){return this.modelSpace.addAlignedDim(e,s,n)}addDiameterDim(e,s,n){return this.modelSpace.addDiameterDim(e,s,n)}addRadialDim(e,s,n){return this.modelSpace.addRadialDim(e,s,n)}addLinearDim(e,s,n){return this.modelSpace.addLinearDim(e,s,n)}addAngularLinesDim(e,s,n,o){return this.modelSpace.addAngularLinesDim(e,s,n,o)}addHatch(e,s,n){return this.modelSpace.addHatch(e,s,n)}addLayer(e,s,n,o=Pe.None){return n||(n=Me.Continuous),this.tables.addLayer(e,s,n,o)}setCurrentLayerName(e){this.document.setCurrentLayerName(e)}setUnits(e){this.document.setUnits(e)}addLine(e,s,n){return this.modelSpace.addLine(e,s,n)}addLeader(e,s){return this.modelSpace.addLeader(e,s)}addLWPolyline(e,s){return this.modelSpace.addLWPolyline(e,s)}addRectangle(e,s,n){return this.modelSpace.addRectangle(e,s,n)}addPolyline3D(e,s){return this.modelSpace.addPolyline3D(e,s)}addPoint(e,s,n,o){return this.modelSpace.addPoint(e,s,n,o)}addCircle(e,s,n){return this.modelSpace.addCircle(e,s,n)}addArc(e,s,n,o,a){return this.modelSpace.addArc(e,s,n,o,a)}addSpline(e,s){return this.modelSpace.addSpline(e,s)}addEllipse(e,s,n,o,a,l){return this.modelSpace.addEllipse(e,s,n,o,a,l)}addImage(e,s,n,o,a,l,i,u){return this.modelSpace.addImage(e,s,n,o,a,l,i,u)}add3dFace(e,s,n,o,a){return this.modelSpace.add3dFace(e,s,n,o,a)}addText(e,s,n,o){return this.modelSpace.addText(e,s,n,o)}addAttdef(e,s,n,o,a){return this.modelSpace.addAttdef(e,s,n,o,a)}addAttrib(e,s,n,o,a,l){return this.modelSpace.addAttrib(e,s,n,o,a,l)}addMText(e,s,n,o){return this.modelSpace.addMText(e,s,n,o)}addInsert(e,s,n){return this.modelSpace.addInsert(e,s,n)}addTable(e,s,n,o,a,l,i){return this.modelSpace.addTable(e,s,n,o,a,l,i)}stringify(){return this.document.stringify()}}class On{constructor(e){this._pointer=0,this._eof=!1,this._data=e}next(){if(!this.hasNext())throw this._eof?new Error("Cannot call 'next' after EOF group has been read"):new Error("Unexpected end of input: EOF group not read before end of file. Ended on code "+this._data[this._pointer]);const e={code:parseInt(this._data[this._pointer])};return this._pointer++,e.value=Ls(e.code,this._data[this._pointer].trim()),this._pointer++,e.code===0&&e.value==="EOF"&&(this._eof=!0),this.lastReadGroup=e,e}peek(){if(!this.hasNext())throw this._eof?new Error("Cannot call 'next' after EOF group has been read"):new Error("Unexpected end of input: EOF group not read before end of file. Ended on code "+this._data[this._pointer]);const e={code:parseInt(this._data[this._pointer])};return e.value=Ls(e.code,this._data[this._pointer+1].trim()),e}rewind(e=1){this._pointer=this._pointer-e*2}hasNext(){return!(this._eof||this._pointer>this._data.length-2)}isEOF(){return this._eof}}function Ls(t,e){return t<=9?e:t>=10&&t<=59?parseFloat(e):t>=60&&t<=99?parseInt(e):t>=100&&t<=109?e:t>=110&&t<=149?parseFloat(e):t>=160&&t<=179?parseInt(e):t>=210&&t<=239?parseFloat(e):t>=270&&t<=289?parseInt(e):t>=290&&t<=299?Mn(e):t>=300&&t<=369?e:t>=370&&t<=389?parseInt(e):t>=390&&t<=399?e:t>=400&&t<=409?parseInt(e):t>=410&&t<=419?e:t>=420&&t<=429?parseInt(e):t>=430&&t<=439?e:t>=440&&t<=459?parseInt(e):t>=460&&t<=469?parseFloat(e):t>=470&&t<=481||t===999||t>=1e3&&t<=1009?e:t>=1010&&t<=1059?parseFloat(e):t>=1060&&t<=1071?parseInt(e):(console.log("WARNING: Group code does not have a defined type: %j",{code:t,value:e}),e)}function Mn(t){if(t==="0")return!1;if(t==="1")return!0;throw TypeError("String '"+t+"' cannot be cast to Boolean type")}const Es=[0,16711680,16776960,65280,65535,255,16711935,16777215,8421504,12632256,16711680,16744319,13369344,13395558,10027008,10046540,8323072,8339263,4980736,4990502,16727808,16752511,13382400,13401958,10036736,10051404,8331008,8343359,4985600,4992806,16744192,16760703,13395456,13408614,10046464,10056268,8339200,8347455,4990464,4995366,16760576,16768895,13408512,13415014,10056192,10061132,8347392,8351551,4995328,4997670,16776960,16777087,13421568,13421670,10000384,10000460,8355584,8355647,5000192,5000230,12582656,14679935,10079232,11717734,7510016,8755276,6258432,7307071,3755008,4344870,8388352,12582783,6736896,10079334,5019648,7510092,4161280,6258495,2509824,3755046,4194048,10485631,3394560,8375398,2529280,6264908,2064128,5209919,1264640,3099686,65280,8388479,52224,6736998,38912,5019724,32512,4161343,19456,2509862,65343,8388511,52275,6737023,38950,5019743,32543,4161359,19475,2509871,65407,8388543,52326,6737049,38988,5019762,32575,4161375,19494,2509881,65471,8388575,52377,6737074,39026,5019781,32607,4161391,19513,2509890,65535,8388607,52428,6737100,39064,5019800,32639,4161407,19532,2509900,49151,8380415,39372,6730444,29336,5014936,24447,4157311,14668,2507340,32767,8372223,26316,6724044,19608,5010072,16255,4153215,9804,2505036,16383,8364031,13260,6717388,9880,5005208,8063,4149119,4940,2502476,255,8355839,204,6710988,152,5000344,127,4145023,76,2500172,4129023,10452991,3342540,8349388,2490520,6245528,2031743,5193599,1245260,3089996,8323327,12550143,6684876,10053324,4980888,7490712,4128895,6242175,2490444,3745356,12517631,14647295,10027212,11691724,7471256,8735896,6226047,7290751,3735628,4335180,16711935,16744447,13369548,13395660,9961624,9981080,8323199,8339327,4980812,4990540,16711871,16744415,13369497,13395634,9961586,9981061,8323167,8339311,4980793,4990530,16711807,16744383,13369446,13395609,9961548,9981042,8323135,8339295,4980774,4990521,16711743,16744351,13369395,13395583,9961510,9981023,8323103,8339279,4980755,4990511,3355443,5987163,8684676,11382189,14079702,16777215];function _n(t){return Es[t]}function A(t){const e={};t.rewind();let s=t.next(),n=s.code;if(e.x=s.value,n+=10,s=t.next(),s.code!=n)throw new Error("Expected code for point value to be "+n+" but got "+s.code+".");return e.y=s.value,n+=10,s=t.next(),s.code!=n?(t.rewind(),e):(e.z=s.value,e)}function X(t,e,s){switch(e.code){case 0:t.type=e.value;break;case 5:t.handle=e.value;break;case 6:t.lineType=e.value;break;case 8:t.layer=e.value;break;case 48:t.lineTypeScale=e.value;break;case 60:t.visible=e.value===0;break;case 62:t.colorIndex=e.value,t.color=_n(Math.abs(e.value));break;case 67:t.inPaperSpace=e.value!==0;break;case 100:break;case 101:for(;e.code!=0;)e=s.next();s.rewind();break;case 330:t.ownerHandle=e.value;break;case 347:t.materialObjectHandle=e.value;break;case 370:t.lineweight=e.value;break;case 420:t.color=e.value;break;case 1e3:t.extendedData=t.extendedData||{},t.extendedData.customStrings=t.extendedData.customStrings||[],t.extendedData.customStrings.push(e.value);break;case 1001:t.extendedData=t.extendedData||{},t.extendedData.applicationName=e.value;break;default:return!1}return!0}class Hn{constructor(){this.ForEntityName="3DFACE"}parseEntity(e,s){const n={type:s.value,vertices:[]};for(s=e.next();!e.isEOF()&&s.code!==0;){switch(s.code){case 70:n.shape=(s.value&1)===1,n.hasContinuousLinetypePattern=(s.value&128)===128;break;case 10:n.vertices=Wn(e,s),s=e.lastReadGroup;break;default:X(n,s,e);break}s=e.next()}return n}}function Wn(t,e){var s=[],n=!1,o=!1,a=4;for(let i=0;i<=a;i++){for(var l={};!t.isEOF()&&!(e.code===0||o);){switch(e.code){case 10:case 11:case 12:case 13:if(n){o=!0;continue}l.x=e.value,n=!0;break;case 20:case 21:case 22:case 23:l.y=e.value;break;case 30:case 31:case 32:case 33:l.z=e.value;break;default:return s}e=t.next()}s.push(l),n=!1,o=!1}return t.rewind(),s}class Vn{constructor(){this.ForEntityName="ARC"}parseEntity(e,s){const n={type:s.value};for(s=e.next();!e.isEOF()&&s.code!==0;){switch(s.code){case 10:n.center=A(e);break;case 40:n.radius=s.value;break;case 50:n.startAngle=Math.PI/180*s.value;break;case 51:n.endAngle=Math.PI/180*s.value,n.angleLength=n.endAngle-n.startAngle;break;case 210:n.extrusionDirectionX=s.value;break;case 220:n.extrusionDirectionY=s.value;break;case 230:n.extrusionDirectionZ=s.value;break;default:X(n,s,e);break}s=e.next()}return n}}class Un{constructor(){this.ForEntityName="ATTDEF"}parseEntity(e,s){var n={type:s.value,scale:1,textStyle:"STANDARD"};for(s=e.next();!e.isEOF()&&s.code!==0;){switch(s.code){case 1:n.text=s.value;break;case 2:n.tag=s.value;break;case 3:n.prompt=s.value;break;case 7:n.textStyle=s.value;break;case 10:n.startPoint=A(e);break;case 11:n.endPoint=A(e);break;case 39:n.thickness=s.value;break;case 40:n.textHeight=s.value;break;case 41:n.scale=s.value;break;case 50:n.rotation=s.value;break;case 51:n.obliqueAngle=s.value;break;case 70:n.invisible=!!(s.value&1),n.constant=!!(s.value&2),n.verificationRequired=!!(s.value&4),n.preset=!!(s.value&8);break;case 71:n.backwards=!!(s.value&2),n.mirrored=!!(s.value&4);break;case 72:n.horizontalJustification=s.value;break;case 73:n.fieldLength=s.value;break;case 74:n.verticalJustification=s.value;break;case 100:break;case 210:n.extrusionDirectionX=s.value;break;case 220:n.extrusionDirectionY=s.value;break;case 230:n.extrusionDirectionZ=s.value;break;default:X(n,s,e);break}s=e.next()}return n}}class jn{constructor(){this.ForEntityName="CIRCLE"}parseEntity(e,s){const n={type:s.value};for(s=e.next();!e.isEOF()&&s.code!==0;){switch(s.code){case 10:n.center=A(e);break;case 40:n.radius=s.value;break;case 50:n.startAngle=Math.PI/180*s.value;break;case 51:const o=Math.PI/180*s.value;o<n.startAngle?n.angleLength=o+2*Math.PI-n.startAngle:n.angleLength=o-n.startAngle,n.endAngle=o;break;default:X(n,s,e);break}s=e.next()}return n}}class Gn{constructor(){this.ForEntityName="DIMENSION"}parseEntity(e,s){const n={type:s.value};for(s=e.next();!e.isEOF()&&s.code!==0;){switch(s.code){case 2:n.block=s.value;break;case 10:n.anchorPoint=A(e);break;case 11:n.middleOfText=A(e);break;case 12:n.insertionPoint=A(e);break;case 13:n.linearOrAngularPoint1=A(e);break;case 14:n.linearOrAngularPoint2=A(e);break;case 15:n.diameterOrRadiusPoint=A(e);break;case 16:n.arcPoint=A(e);break;case 70:n.dimensionType=s.value;break;case 71:n.attachmentPoint=s.value;break;case 42:n.actualMeasurement=s.value;break;case 1:n.text=s.value;break;case 50:n.angle=s.value;break;default:X(n,s,e);break}s=e.next()}return n}}class zn{constructor(){this.ForEntityName="ELLIPSE"}parseEntity(e,s){const n={type:s.value};for(s=e.next();!e.isEOF()&&s.code!==0;){switch(s.code){case 10:n.center=A(e);break;case 11:n.majorAxisEndPoint=A(e);break;case 40:n.axisRatio=s.value;break;case 41:n.startAngle=s.value;break;case 42:n.endAngle=s.value;break;case 2:n.name=s.value;break;default:X(n,s,e);break}s=e.next()}return n}}class Jn{constructor(){this.ForEntityName="INSERT"}parseEntity(e,s){const n={type:s.value};for(s=e.next();!e.isEOF()&&s.code!==0;){switch(s.code){case 2:n.name=s.value;break;case 41:n.xScale=s.value;break;case 42:n.yScale=s.value;break;case 43:n.zScale=s.value;break;case 10:n.position=A(e);break;case 50:n.rotation=s.value;break;case 70:n.columnCount=s.value;break;case 71:n.rowCount=s.value;break;case 44:n.columnSpacing=s.value;break;case 45:n.rowSpacing=s.value;break;case 210:n.extrusionDirection=A(e);break;default:X(n,s,e);break}s=e.next()}return n}}class Kn{constructor(){this.ForEntityName="LINE"}parseEntity(e,s){const n={type:s.value,vertices:[]};for(s=e.next();!e.isEOF()&&s.code!==0;){switch(s.code){case 10:n.vertices.unshift(A(e));break;case 11:n.vertices.push(A(e));break;case 210:n.extrusionDirection=A(e);break;case 100:break;default:X(n,s,e);break}s=e.next()}return n}}class Zn{constructor(){this.ForEntityName="LWPOLYLINE"}parseEntity(e,s){const n={type:s.value,vertices:[]};let o=0;for(s=e.next();!e.isEOF()&&s.code!==0;){switch(s.code){case 38:n.elevation=s.value;break;case 39:n.depth=s.value;break;case 70:n.shape=(s.value&1)===1,n.hasContinuousLinetypePattern=(s.value&128)===128;break;case 90:o=s.value;break;case 10:n.vertices=qn(o,e);break;case 43:s.value!==0&&(n.width=s.value);break;case 210:n.extrusionDirectionX=s.value;break;case 220:n.extrusionDirectionY=s.value;break;case 230:n.extrusionDirectionZ=s.value;break;default:X(n,s,e);break}s=e.next()}return n}}function qn(t,e){if(!t||t<=0)throw Error("n must be greater than 0 verticies");const s=[];let n=!1,o=!1,a=e.lastReadGroup;for(let l=0;l<t;l++){const i={};for(;!e.isEOF()&&!(a.code===0||o);){switch(a.code){case 10:if(n){o=!0;continue}i.x=a.value,n=!0;break;case 20:i.y=a.value;break;case 30:i.z=a.value;break;case 40:i.startWidth=a.value;break;case 41:i.endWidth=a.value;break;case 42:a.value!=0&&(i.bulge=a.value);break;default:return e.rewind(),n&&s.push(i),e.rewind(),s}a=e.next()}s.push(i),n=!1,o=!1}return e.rewind(),s}class $n{constructor(){this.ForEntityName="MTEXT"}parseEntity(e,s){const n={type:s.value};for(s=e.next();!e.isEOF()&&s.code!==0;){switch(s.code){case 3:n.text?n.text+=s.value:n.text=s.value;break;case 1:n.text?n.text+=s.value:n.text=s.value;break;case 10:n.position=A(e);break;case 11:n.directionVector=A(e);break;case 40:n.height=s.value;break;case 41:n.width=s.value;break;case 50:n.rotation=s.value;break;case 71:n.attachmentPoint=s.value;break;case 72:n.drawingDirection=s.value;break;default:X(n,s,e);break}s=e.next()}return n}}class Qn{constructor(){this.ForEntityName="POINT"}parseEntity(e,s){const o={type:s.value};for(s=e.next();!e.isEOF()&&s.code!==0;){switch(s.code){case 10:o.position=A(e);break;case 39:o.thickness=s.value;break;case 210:o.extrusionDirection=A(e);break;case 100:break;default:X(o,s,e);break}s=e.next()}return o}}class ei{constructor(){this.ForEntityName="VERTEX"}parseEntity(e,s){var n={type:s.value};for(s=e.next();!e.isEOF()&&s.code!==0;){switch(s.code){case 10:n.x=s.value;break;case 20:n.y=s.value;break;case 30:n.z=s.value;break;case 40:break;case 41:break;case 42:s.value!=0&&(n.bulge=s.value);break;case 70:n.curveFittingVertex=(s.value&1)!==0,n.curveFitTangent=(s.value&2)!==0,n.splineVertex=(s.value&8)!==0,n.splineControlPoint=(s.value&16)!==0,n.threeDPolylineVertex=(s.value&32)!==0,n.threeDPolylineMesh=(s.value&64)!==0,n.polyfaceMeshVertex=(s.value&128)!==0;break;case 50:break;case 71:n.faceA=s.value;break;case 72:n.faceB=s.value;break;case 73:n.faceC=s.value;break;case 74:n.faceD=s.value;break;default:X(n,s,e);break}s=e.next()}return n}}class ti{constructor(){this.ForEntityName="POLYLINE"}parseEntity(e,s){var n={type:s.value,vertices:[]};for(s=e.next();!e.isEOF()&&s.code!==0;){switch(s.code){case 10:break;case 20:break;case 30:break;case 39:n.thickness=s.value;break;case 40:break;case 41:break;case 70:n.shape=(s.value&1)!==0,n.includesCurveFitVertices=(s.value&2)!==0,n.includesSplineFitVertices=(s.value&4)!==0,n.is3dPolyline=(s.value&8)!==0,n.is3dPolygonMesh=(s.value&16)!==0,n.is3dPolygonMeshClosed=(s.value&32)!==0,n.isPolyfaceMesh=(s.value&64)!==0,n.hasContinuousLinetypePattern=(s.value&128)!==0;break;case 71:break;case 72:break;case 73:break;case 74:break;case 75:break;case 210:n.extrusionDirection=A(e);break;default:X(n,s,e);break}s=e.next()}return n.vertices=si(e,s),n}}function si(t,e){const s=new ei,n=[];for(;!t.isEOF();)if(e.code===0){if(e.value==="VERTEX")n.push(s.parseEntity(t,e)),e=t.lastReadGroup;else if(e.value==="SEQEND"){ni(t,e);break}}return n}function ni(t,e){const s={type:e.value};for(e=t.next();!t.isEOF()&&e.code!=0;)X(s,e,t),e=t.next();return s}class ii{constructor(){this.ForEntityName="SOLID"}parseEntity(e,s){const n={type:s.value,points:[]};for(s=e.next();!e.isEOF()&&s.code!==0;){switch(s.code){case 10:n.points[0]=A(e);break;case 11:n.points[1]=A(e);break;case 12:n.points[2]=A(e);break;case 13:n.points[3]=A(e);break;case 210:n.extrusionDirection=A(e);break;default:X(n,s,e);break}s=e.next()}return n}}class ai{constructor(){this.ForEntityName="SPLINE"}parseEntity(e,s){const n={type:s.value};for(s=e.next();!e.isEOF()&&s.code!==0;){switch(s.code){case 10:n.controlPoints||(n.controlPoints=[]),n.controlPoints.push(A(e));break;case 11:n.fitPoints||(n.fitPoints=[]),n.fitPoints.push(A(e));break;case 12:n.startTangent=A(e);break;case 13:n.endTangent=A(e);break;case 40:n.knotValues||(n.knotValues=[]),n.knotValues.push(s.value);break;case 70:(s.value&1)!=0&&(n.closed=!0),(s.value&2)!=0&&(n.periodic=!0),(s.value&4)!=0&&(n.rational=!0),(s.value&8)!=0&&(n.planar=!0),(s.value&16)!=0&&(n.planar=!0,n.linear=!0);break;case 71:n.degreeOfSplineCurve=s.value;break;case 72:n.numberOfKnots=s.value;break;case 73:n.numberOfControlPoints=s.value;break;case 74:n.numberOfFitPoints=s.value;break;case 210:n.normalVector=A(e);break;default:X(n,s,e);break}s=e.next()}return n}}class oi{constructor(){this.ForEntityName="TEXT"}parseEntity(e,s){const n={type:s.value};for(s=e.next();!e.isEOF()&&s.code!==0;){switch(s.code){case 10:n.startPoint=A(e);break;case 11:n.endPoint=A(e);break;case 40:n.textHeight=s.value;break;case 41:n.xScale=s.value;break;case 50:n.rotation=s.value;break;case 1:n.text=s.value;break;case 72:n.halign=s.value;break;case 73:n.valign=s.value;break;default:X(n,s,e);break}s=e.next()}return n}}var Be={exports:{}},li=Be.exports,Ss;function hi(){return Ss||(Ss=1,function(t){(function(e,s){t.exports?t.exports=s():e.log=s()})(li,function(){var e=function(){},s="undefined",n=typeof window!==s&&typeof window.navigator!==s&&/Trident\/|MSIE /.test(window.navigator.userAgent),o=["trace","debug","info","warn","error"],a={},l=null;function i(v,R){var g=v[R];if(typeof g.bind=="function")return g.bind(v);try{return Function.prototype.bind.call(g,v)}catch{return function(){return Function.prototype.apply.apply(g,[v,arguments])}}}function u(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function c(v){return v==="debug"&&(v="log"),typeof console===s?!1:v==="trace"&&n?u:console[v]!==void 0?i(console,v):console.log!==void 0?i(console,"log"):e}function x(){for(var v=this.getLevel(),R=0;R<o.length;R++){var g=o[R];this[g]=R<v?e:this.methodFactory(g,v,this.name)}if(this.log=this.debug,typeof console===s&&v<this.levels.SILENT)return"No console available for logging"}function C(v){return function(){typeof console!==s&&(x.call(this),this[v].apply(this,arguments))}}function N(v,R,g){return c(v)||C.apply(this,arguments)}function U(v,R){var g=this,Q,ie,k,O="loglevel";typeof v=="string"?O+=":"+v:typeof v=="symbol"&&(O=void 0);function f(L){var B=(o[L]||"silent").toUpperCase();if(!(typeof window===s||!O)){try{window.localStorage[O]=B;return}catch{}try{window.document.cookie=encodeURIComponent(O)+"="+B+";"}catch{}}}function r(){var L;if(!(typeof window===s||!O)){try{L=window.localStorage[O]}catch{}if(typeof L===s)try{var B=window.document.cookie,Ae=encodeURIComponent(O),Ut=B.indexOf(Ae+"=");Ut!==-1&&(L=/^([^;]+)/.exec(B.slice(Ut+Ae.length+1))[1])}catch{}return g.levels[L]===void 0&&(L=void 0),L}}function m(){if(!(typeof window===s||!O)){try{window.localStorage.removeItem(O)}catch{}try{window.document.cookie=encodeURIComponent(O)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function Y(L){var B=L;if(typeof B=="string"&&g.levels[B.toUpperCase()]!==void 0&&(B=g.levels[B.toUpperCase()]),typeof B=="number"&&B>=0&&B<=g.levels.SILENT)return B;throw new TypeError("log.setLevel() called with invalid level: "+L)}g.name=v,g.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},g.methodFactory=R||N,g.getLevel=function(){return k??ie??Q},g.setLevel=function(L,B){return k=Y(L),B!==!1&&f(k),x.call(g)},g.setDefaultLevel=function(L){ie=Y(L),r()||g.setLevel(L,!1)},g.resetLevel=function(){k=null,m(),x.call(g)},g.enableAll=function(L){g.setLevel(g.levels.TRACE,L)},g.disableAll=function(L){g.setLevel(g.levels.SILENT,L)},g.rebuild=function(){if(l!==g&&(Q=Y(l.getLevel())),x.call(g),l===g)for(var L in a)a[L].rebuild()},Q=Y(l?l.getLevel():"WARN");var V=r();V!=null&&(k=Y(V)),x.call(g)}l=new U,l.getLogger=function(R){if(typeof R!="symbol"&&typeof R!="string"||R==="")throw new TypeError("You must supply a name when creating a logger.");var g=a[R];return g||(g=a[R]=new U(R,l.methodFactory)),g};var ze=typeof window!==s?window.log:void 0;return l.noConflict=function(){return typeof window!==s&&window.log===l&&(window.log=ze),l},l.getLoggers=function(){return a},l.default=l,l})}(Be)),Be.exports}var di=hi();const y=Ts(di);y.setLevel("error");function ri(t){t.registerEntityHandler(Hn),t.registerEntityHandler(Vn),t.registerEntityHandler(Un),t.registerEntityHandler(jn),t.registerEntityHandler(Gn),t.registerEntityHandler(zn),t.registerEntityHandler(Jn),t.registerEntityHandler(Kn),t.registerEntityHandler(Zn),t.registerEntityHandler($n),t.registerEntityHandler(Qn),t.registerEntityHandler(ti),t.registerEntityHandler(ii),t.registerEntityHandler(ai),t.registerEntityHandler(oi)}class xi{constructor(){this._entityHandlers={},ri(this)}parse(e){return typeof e=="string"?this._parse(e):(console.error("Cannot read dxf source of type `"+typeof e),null)}registerEntityHandler(e){const s=new e;this._entityHandlers[s.ForEntityName]=s}parseSync(e){return this.parse(e)}parseStream(e){let s="";const n=this;return new Promise((o,a)=>{e.on("data",l=>{s+=l}),e.on("end",()=>{try{o(n._parse(s))}catch(l){a(l)}}),e.on("error",l=>{a(l)})})}_parse(e){const s={};let n=0;const o=e.split(/\r\n|\r|\n/g),a=new On(o);if(!a.hasNext())throw Error("Empty file");const l=this;let i;function u(){for(i=a.next();!a.isEOF();)if(i.code===0&&i.value==="SECTION"){if(i=a.next(),i.code!==2){console.error("Unexpected code %s after 0:SECTION",ws(i)),i=a.next();continue}i.value==="HEADER"?(y.debug("> HEADER"),s.header=c(),y.debug("<")):i.value==="BLOCKS"?(y.debug("> BLOCKS"),s.blocks=x(),y.debug("<")):i.value==="ENTITIES"?(y.debug("> ENTITIES"),s.entities=ie(!1),y.debug("<")):i.value==="TABLES"?(y.debug("> TABLES"),s.tables=N(),y.debug("<")):i.value==="EOF"?y.debug("EOF"):y.warn("Skipping section '%s'",i.value)}else i=a.next()}function c(){let f=null,r=null;const m={};for(i=a.next();;){if(G(i,0,"ENDSEC")){f&&(m[f]=r);break}else i.code===9?(f&&(m[f]=r),f=i.value):i.code===10?r={x:i.value}:i.code===20?r.y=i.value:i.code===30?r.z=i.value:r=i.value;i=a.next()}return i=a.next(),m}function x(){const f={};for(i=a.next();i.value!=="EOF"&&!G(i,0,"ENDSEC");)if(G(i,0,"BLOCK")){y.debug("block {");const r=C();y.debug("}"),O(r),r.name?f[r.name]=r:y.error('block with handle "'+r.handle+'" is missing a name.')}else ne(i),i=a.next();return f}function C(){const f={};for(i=a.next();i.value!=="EOF";){switch(i.code){case 1:f.xrefPath=i.value,i=a.next();break;case 2:f.name=i.value,i=a.next();break;case 3:f.name2=i.value,i=a.next();break;case 5:f.handle=i.value,i=a.next();break;case 8:f.layer=i.value,i=a.next();break;case 10:f.position=k(i),i=a.next();break;case 67:f.paperSpace=!!(i.value&&i.value==1),i=a.next();break;case 70:i.value!=0&&(f.type=i.value),i=a.next();break;case 100:i=a.next();break;case 330:f.ownerHandle=i.value,i=a.next();break;case 0:if(i.value=="ENDBLK")break;f.entities=ie(!0);break;default:ne(i),i=a.next()}if(G(i,0,"ENDBLK")){i=a.next();break}}return f}function N(){const f={};for(i=a.next();i.value!=="EOF"&&!G(i,0,"ENDSEC");)G(i,0,"TABLE")?(i=a.next(),Q[i.value]?(y.debug(i.value+" Table {"),f[Q[i.value].tableName]=ze(i),y.debug("}")):y.debug("Unhandled Table "+i.value)):i=a.next();return i=a.next(),f}const U="ENDTAB";function ze(f){const r=Q[f.value],m={};let Y=0;for(i=a.next();!G(i,0,U);)switch(i.code){case 5:m.handle=i.value,i=a.next();break;case 330:m.ownerHandle=i.value,i=a.next();break;case 100:i.value==="AcDbSymbolTable"||ne(i),i=a.next();break;case 70:Y=i.value,i=a.next();break;case 0:i.value===r.dxfSymbolName?m[r.tableRecordsProperty]=r.parseTableRecords():(ne(i),i=a.next());break;default:ne(i),i=a.next()}const V=m[r.tableRecordsProperty];if(V){let L=(()=>{if(V.constructor===Array)return V.length;if(typeof V=="object")return Object.keys(V).length})();Y!==L&&y.warn("Parsed "+L+" "+r.dxfSymbolName+"'s but expected "+Y)}return i=a.next(),m}function v(){const f=[];let r={};for(y.debug("ViewPort {"),i=a.next();!G(i,0,U);)switch(i.code){case 2:r.name=i.value,i=a.next();break;case 10:r.lowerLeftCorner=k(i),i=a.next();break;case 11:r.upperRightCorner=k(i),i=a.next();break;case 12:r.center=k(i),i=a.next();break;case 13:r.snapBasePoint=k(i),i=a.next();break;case 14:r.snapSpacing=k(i),i=a.next();break;case 15:r.gridSpacing=k(i),i=a.next();break;case 16:r.viewDirectionFromTarget=k(i),i=a.next();break;case 17:r.viewTarget=k(i),i=a.next();break;case 42:r.lensLength=i.value,i=a.next();break;case 43:r.frontClippingPlane=i.value,i=a.next();break;case 44:r.backClippingPlane=i.value,i=a.next();break;case 45:r.viewHeight=i.value,i=a.next();break;case 50:r.snapRotationAngle=i.value,i=a.next();break;case 51:r.viewTwistAngle=i.value,i=a.next();break;case 79:r.orthographicType=i.value,i=a.next();break;case 110:r.ucsOrigin=k(i),i=a.next();break;case 111:r.ucsXAxis=k(i),i=a.next();break;case 112:r.ucsYAxis=k(i),i=a.next();break;case 110:r.ucsOrigin=k(i),i=a.next();break;case 281:r.renderMode=i.value,i=a.next();break;case 281:r.defaultLightingType=i.value,i=a.next();break;case 292:r.defaultLightingOn=i.value,i=a.next();break;case 330:r.ownerHandle=i.value,i=a.next();break;case 63:case 421:case 431:r.ambientColor=i.value,i=a.next();break;case 0:i.value==="VPORT"&&(y.debug("}"),f.push(r),y.debug("ViewPort {"),r={},i=a.next());break;default:ne(i),i=a.next();break}return y.debug("}"),f.push(r),f}function R(){const f={};let r={},m=0,Y;for(y.debug("LType {"),i=a.next();!G(i,0,"ENDTAB");)switch(i.code){case 2:r.name=i.value,Y=i.value,i=a.next();break;case 3:r.description=i.value,i=a.next();break;case 73:m=i.value,m>0&&(r.pattern=[]),i=a.next();break;case 40:r.patternLength=i.value,i=a.next();break;case 49:r.pattern.push(i.value),i=a.next();break;case 0:y.debug("}"),m>0&&m!==r.pattern.length&&y.warn("lengths do not match on LTYPE pattern"),f[Y]=r,r={},y.debug("LType {"),i=a.next();break;default:i=a.next()}return y.debug("}"),f[Y]=r,f}function g(){const f={};let r={},m;for(y.debug("Layer {"),i=a.next();!G(i,0,"ENDTAB");)switch(i.code){case 2:r.name=i.value,m=i.value,i=a.next();break;case 62:r.visible=i.value>=0,r.colorIndex=Math.abs(i.value),r.color=fi(r.colorIndex),i=a.next();break;case 70:r.frozen=(i.value&1)!=0||(i.value&2)!=0,i=a.next();break;case 0:i.value==="LAYER"&&(y.debug("}"),f[m]=r,y.debug("Layer {"),r={},m=void 0,i=a.next());break;default:ne(i),i=a.next();break}return y.debug("}"),f[m]=r,f}const Q={VPORT:{tableRecordsProperty:"viewPorts",tableName:"viewPort",dxfSymbolName:"VPORT",parseTableRecords:v},LTYPE:{tableRecordsProperty:"lineTypes",tableName:"lineType",dxfSymbolName:"LTYPE",parseTableRecords:R},LAYER:{tableRecordsProperty:"layers",tableName:"layer",dxfSymbolName:"LAYER",parseTableRecords:g}};function ie(f){const r=[],m=f?"ENDBLK":"ENDSEC";for(f||(i=a.next());;)if(i.code===0){if(i.value===m)break;const Y=l._entityHandlers[i.value];if(Y!=null){y.debug(i.value+" {");const V=Y.parseEntity(a,i);i=a.lastReadGroup,y.debug("}"),O(V),r.push(V)}else{y.warn("Unhandled entity "+i.value),i=a.next();continue}}else i=a.next();return m=="ENDSEC"&&(i=a.next()),r}function k(f){const r={};let m=f.code;if(r.x=f.value,m+=10,f=a.next(),f.code!=m)throw new Error("Expected code for point value to be "+m+" but got "+f.code+".");return r.y=f.value,m+=10,f=a.next(),f.code!=m?(a.rewind(),r):(r.z=f.value,r)}function O(f){if(!f)throw new TypeError("entity cannot be undefined or null");f.handle||(f.handle=n++)}return u(),s}}function G(t,e,s){return t.code===e&&t.value===s}function ne(t){y.debug("unhandled group "+ws(t))}function ws(t){return t.code+":"+t.value}function fi(t){return Es[t]}export{xi as D,We as E,bs as Q,gi as a,yi as c,pi as d,Is as e,Ai as l,wt as m,ci as o,E as s,S as t,Oe as x};
