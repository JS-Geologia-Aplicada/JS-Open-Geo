var B_=r=>{throw TypeError(r)};var Wg=(r,t,e)=>t.has(r)||B_("Cannot "+e);var Pe=(r,t,e)=>(Wg(r,t,"read from private field"),e?e.call(r):t.get(r)),Gs=(r,t,e)=>t.has(r)?B_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,e),fi=(r,t,e,i)=>(Wg(r,t,"write to private field"),i?i.call(r,e):t.set(r,e),e),Vs=(r,t,e)=>(Wg(r,t,"access private method"),e);var F_=(r,t,e,i)=>({set _(a){fi(r,t,a,e)},get _(){return Pe(r,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();function gb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Xg={exports:{}},Nu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function _x(){if(H_)return Nu;H_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var u in a)u!=="key"&&(o[u]=a[u])}else o=a;return a=o.ref,{$$typeof:r,type:i,key:c,ref:a!==void 0?a:null,props:o}}return Nu.Fragment=t,Nu.jsx=e,Nu.jsxs=e,Nu}var j_;function Ax(){return j_||(j_=1,Xg.exports=_x()),Xg.exports}var $=Ax(),Kg={exports:{}},Qt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function Ex(){if(z_)return Qt;z_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(O){return O===null||typeof O!="object"?null:(O=m&&O[m]||O["@@iterator"],typeof O=="function"?O:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function T(O,et,ot){this.props=O,this.context=et,this.refs=E,this.updater=ot||_}T.prototype.isReactComponent={},T.prototype.setState=function(O,et){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,et,"setState")},T.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function C(){}C.prototype=T.prototype;function N(O,et,ot){this.props=O,this.context=et,this.refs=E,this.updater=ot||_}var L=N.prototype=new C;L.constructor=N,S(L,T.prototype),L.isPureReactComponent=!0;var P=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function F(O,et,ot,K,ct,mt){return ot=mt.ref,{$$typeof:r,type:O,key:et,ref:ot!==void 0?ot:null,props:mt}}function q(O,et){return F(O.type,et,void 0,void 0,void 0,O.props)}function Z(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function nt(O){var et={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ot){return et[ot]})}var tt=/\/+/g;function ht(O,et){return typeof O=="object"&&O!==null&&O.key!=null?nt(""+O.key):et.toString(36)}function vt(){}function Et(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(vt,vt):(O.status="pending",O.then(function(et){O.status==="pending"&&(O.status="fulfilled",O.value=et)},function(et){O.status==="pending"&&(O.status="rejected",O.reason=et)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function bt(O,et,ot,K,ct){var mt=typeof O;(mt==="undefined"||mt==="boolean")&&(O=null);var dt=!1;if(O===null)dt=!0;else switch(mt){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(O.$$typeof){case r:case t:dt=!0;break;case p:return dt=O._init,bt(dt(O._payload),et,ot,K,ct)}}if(dt)return ct=ct(O),dt=K===""?"."+ht(O,0):K,P(ct)?(ot="",dt!=null&&(ot=dt.replace(tt,"$&/")+"/"),bt(ct,et,ot,"",function(Kt){return Kt})):ct!=null&&(Z(ct)&&(ct=q(ct,ot+(ct.key==null||O&&O.key===ct.key?"":(""+ct.key).replace(tt,"$&/")+"/")+dt)),et.push(ct)),1;dt=0;var Ct=K===""?".":K+":";if(P(O))for(var lt=0;lt<O.length;lt++)K=O[lt],mt=Ct+ht(K,lt),dt+=bt(K,et,ot,mt,ct);else if(lt=v(O),typeof lt=="function")for(O=lt.call(O),lt=0;!(K=O.next()).done;)K=K.value,mt=Ct+ht(K,lt++),dt+=bt(K,et,ot,mt,ct);else if(mt==="object"){if(typeof O.then=="function")return bt(Et(O),et,ot,K,ct);throw et=String(O),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return dt}function B(O,et,ot){if(O==null)return O;var K=[],ct=0;return bt(O,K,"","",function(mt){return et.call(ot,mt,ct++)}),K}function G(O){if(O._status===-1){var et=O._result;et=et(),et.then(function(ot){(O._status===0||O._status===-1)&&(O._status=1,O._result=ot)},function(ot){(O._status===0||O._status===-1)&&(O._status=2,O._result=ot)}),O._status===-1&&(O._status=0,O._result=et)}if(O._status===1)return O._result.default;throw O._result}var pt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function xt(){}return Qt.Children={map:B,forEach:function(O,et,ot){B(O,function(){et.apply(this,arguments)},ot)},count:function(O){var et=0;return B(O,function(){et++}),et},toArray:function(O){return B(O,function(et){return et})||[]},only:function(O){if(!Z(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Qt.Component=T,Qt.Fragment=e,Qt.Profiler=a,Qt.PureComponent=N,Qt.StrictMode=i,Qt.Suspense=h,Qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Qt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return M.H.useMemoCache(O)}},Qt.cache=function(O){return function(){return O.apply(null,arguments)}},Qt.cloneElement=function(O,et,ot){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var K=S({},O.props),ct=O.key,mt=void 0;if(et!=null)for(dt in et.ref!==void 0&&(mt=void 0),et.key!==void 0&&(ct=""+et.key),et)!I.call(et,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&et.ref===void 0||(K[dt]=et[dt]);var dt=arguments.length-2;if(dt===1)K.children=ot;else if(1<dt){for(var Ct=Array(dt),lt=0;lt<dt;lt++)Ct[lt]=arguments[lt+2];K.children=Ct}return F(O.type,ct,void 0,void 0,mt,K)},Qt.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:o,_context:O},O},Qt.createElement=function(O,et,ot){var K,ct={},mt=null;if(et!=null)for(K in et.key!==void 0&&(mt=""+et.key),et)I.call(et,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ct[K]=et[K]);var dt=arguments.length-2;if(dt===1)ct.children=ot;else if(1<dt){for(var Ct=Array(dt),lt=0;lt<dt;lt++)Ct[lt]=arguments[lt+2];ct.children=Ct}if(O&&O.defaultProps)for(K in dt=O.defaultProps,dt)ct[K]===void 0&&(ct[K]=dt[K]);return F(O,mt,void 0,void 0,null,ct)},Qt.createRef=function(){return{current:null}},Qt.forwardRef=function(O){return{$$typeof:u,render:O}},Qt.isValidElement=Z,Qt.lazy=function(O){return{$$typeof:p,_payload:{_status:-1,_result:O},_init:G}},Qt.memo=function(O,et){return{$$typeof:f,type:O,compare:et===void 0?null:et}},Qt.startTransition=function(O){var et=M.T,ot={};M.T=ot;try{var K=O(),ct=M.S;ct!==null&&ct(ot,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(xt,pt)}catch(mt){pt(mt)}finally{M.T=et}},Qt.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Qt.use=function(O){return M.H.use(O)},Qt.useActionState=function(O,et,ot){return M.H.useActionState(O,et,ot)},Qt.useCallback=function(O,et){return M.H.useCallback(O,et)},Qt.useContext=function(O){return M.H.useContext(O)},Qt.useDebugValue=function(){},Qt.useDeferredValue=function(O,et){return M.H.useDeferredValue(O,et)},Qt.useEffect=function(O,et,ot){var K=M.H;if(typeof ot=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(O,et)},Qt.useId=function(){return M.H.useId()},Qt.useImperativeHandle=function(O,et,ot){return M.H.useImperativeHandle(O,et,ot)},Qt.useInsertionEffect=function(O,et){return M.H.useInsertionEffect(O,et)},Qt.useLayoutEffect=function(O,et){return M.H.useLayoutEffect(O,et)},Qt.useMemo=function(O,et){return M.H.useMemo(O,et)},Qt.useOptimistic=function(O,et){return M.H.useOptimistic(O,et)},Qt.useReducer=function(O,et,ot){return M.H.useReducer(O,et,ot)},Qt.useRef=function(O){return M.H.useRef(O)},Qt.useState=function(O){return M.H.useState(O)},Qt.useSyncExternalStore=function(O,et,ot){return M.H.useSyncExternalStore(O,et,ot)},Qt.useTransition=function(){return M.H.useTransition()},Qt.version="19.1.0",Qt}var $_;function Zf(){return $_||($_=1,Kg.exports=Ex()),Kg.exports}var V=Zf();const je=gb(V);var Qg={exports:{}},Mu={},Zg={exports:{}},Jg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function Sx(){return U_||(U_=1,function(r){function t(B,G){var pt=B.length;B.push(G);t:for(;0<pt;){var xt=pt-1>>>1,O=B[xt];if(0<a(O,G))B[xt]=G,B[pt]=O,pt=xt;else break t}}function e(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var G=B[0],pt=B.pop();if(pt!==G){B[0]=pt;t:for(var xt=0,O=B.length,et=O>>>1;xt<et;){var ot=2*(xt+1)-1,K=B[ot],ct=ot+1,mt=B[ct];if(0>a(K,pt))ct<O&&0>a(mt,K)?(B[xt]=mt,B[ct]=pt,xt=ct):(B[xt]=K,B[ot]=pt,xt=ot);else if(ct<O&&0>a(mt,pt))B[xt]=mt,B[ct]=pt,xt=ct;else break t}}return G}function a(B,G){var pt=B.sortIndex-G.sortIndex;return pt!==0?pt:B.id-G.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();r.unstable_now=function(){return c.now()-u}}var h=[],f=[],p=1,m=null,v=3,_=!1,S=!1,E=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function P(B){for(var G=e(f);G!==null;){if(G.callback===null)i(f);else if(G.startTime<=B)i(f),G.sortIndex=G.expirationTime,t(h,G);else break;G=e(f)}}function M(B){if(E=!1,P(B),!S)if(e(h)!==null)S=!0,I||(I=!0,ht());else{var G=e(f);G!==null&&bt(M,G.startTime-B)}}var I=!1,F=-1,q=5,Z=-1;function nt(){return T?!0:!(r.unstable_now()-Z<q)}function tt(){if(T=!1,I){var B=r.unstable_now();Z=B;var G=!0;try{t:{S=!1,E&&(E=!1,N(F),F=-1),_=!0;var pt=v;try{e:{for(P(B),m=e(h);m!==null&&!(m.expirationTime>B&&nt());){var xt=m.callback;if(typeof xt=="function"){m.callback=null,v=m.priorityLevel;var O=xt(m.expirationTime<=B);if(B=r.unstable_now(),typeof O=="function"){m.callback=O,P(B),G=!0;break e}m===e(h)&&i(h),P(B)}else i(h);m=e(h)}if(m!==null)G=!0;else{var et=e(f);et!==null&&bt(M,et.startTime-B),G=!1}}break t}finally{m=null,v=pt,_=!1}G=void 0}}finally{G?ht():I=!1}}}var ht;if(typeof L=="function")ht=function(){L(tt)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,Et=vt.port2;vt.port1.onmessage=tt,ht=function(){Et.postMessage(null)}}else ht=function(){C(tt,0)};function bt(B,G){F=C(function(){B(r.unstable_now())},G)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(B){B.callback=null},r.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<B?Math.floor(1e3/B):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_next=function(B){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var pt=v;v=G;try{return B()}finally{v=pt}},r.unstable_requestPaint=function(){T=!0},r.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var pt=v;v=B;try{return G()}finally{v=pt}},r.unstable_scheduleCallback=function(B,G,pt){var xt=r.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?xt+pt:xt):pt=xt,B){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=pt+O,B={id:p++,callback:G,priorityLevel:B,startTime:pt,expirationTime:O,sortIndex:-1},pt>xt?(B.sortIndex=pt,t(f,B),e(h)===null&&B===e(f)&&(E?(N(F),F=-1):E=!0,bt(M,pt-xt))):(B.sortIndex=O,t(h,B),S||_||(S=!0,I||(I=!0,ht()))),B},r.unstable_shouldYield=nt,r.unstable_wrapCallback=function(B){var G=v;return function(){var pt=v;v=G;try{return B.apply(this,arguments)}finally{v=pt}}}}(Jg)),Jg}var G_;function wx(){return G_||(G_=1,Zg.exports=Sx()),Zg.exports}var tm={exports:{}},kn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function Tx(){if(V_)return kn;V_=1;var r=Zf();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:h,containerInfo:f,implementation:p}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return kn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,kn.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(h,f,null,p)},kn.flushSync=function(h){var f=c.T,p=i.p;try{if(c.T=null,i.p=2,h)return h()}finally{c.T=f,i.p=p,i.d.f()}},kn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},kn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},kn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:_}):p==="script"&&i.d.X(h,{crossOrigin:m,integrity:v,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},kn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},kn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin);i.d.L(h,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},kn.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=u(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},kn.requestFormReset=function(h){i.d.r(h)},kn.unstable_batchedUpdates=function(h,f){return h(f)},kn.useFormState=function(h,f,p){return c.H.useFormState(h,f,p)},kn.useFormStatus=function(){return c.H.useHostTransitionStatus()},kn.version="19.1.0",kn}var q_;function JE(){if(q_)return tm.exports;q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),tm.exports=Tx(),tm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function xx(){if(Y_)return Mu;Y_=1;var r=wx(),t=Zf(),e=JE();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function u(n){if(o(n)!==n)throw Error(i(188))}function h(n){var s=n.alternate;if(!s){if(s=o(n),s===null)throw Error(i(188));return s!==n?null:n}for(var l=n,d=s;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(d=g.return,d!==null){l=d;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return u(g),n;if(y===d)return u(g),s;y=y.sibling}throw Error(i(188))}if(l.return!==d.return)l=g,d=y;else{for(var w=!1,D=g.child;D;){if(D===l){w=!0,l=g,d=y;break}if(D===d){w=!0,d=g,l=y;break}D=D.sibling}if(!w){for(D=y.child;D;){if(D===l){w=!0,l=y,d=g;break}if(D===d){w=!0,d=y,l=g;break}D=D.sibling}if(!w)throw Error(i(189))}}if(l.alternate!==d)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:s}function f(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=f(n),s!==null)return s;n=n.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),L=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),nt=Symbol.for("react.memo_cache_sentinel"),tt=Symbol.iterator;function ht(n){return n===null||typeof n!="object"?null:(n=tt&&n[tt]||n["@@iterator"],typeof n=="function"?n:null)}var vt=Symbol.for("react.client.reference");function Et(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===vt?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case S:return"Fragment";case T:return"Profiler";case E:return"StrictMode";case M:return"Suspense";case I:return"SuspenseList";case Z:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case _:return"Portal";case L:return(n.displayName||"Context")+".Provider";case N:return(n._context.displayName||"Context")+".Consumer";case P:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case F:return s=n.displayName||null,s!==null?s:Et(n.type)||"Memo";case q:s=n._payload,n=n._init;try{return Et(n(s))}catch{}}return null}var bt=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},xt=[],O=-1;function et(n){return{current:n}}function ot(n){0>O||(n.current=xt[O],xt[O]=null,O--)}function K(n,s){O++,xt[O]=n.current,n.current=s}var ct=et(null),mt=et(null),dt=et(null),Ct=et(null);function lt(n,s){switch(K(dt,s),K(mt,n),K(ct,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?d_(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=d_(s),n=h_(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ot(ct),K(ct,n)}function Kt(){ot(ct),ot(mt),ot(dt)}function Wt(n){n.memoizedState!==null&&K(Ct,n);var s=ct.current,l=h_(s,n.type);s!==l&&(K(mt,n),K(ct,l))}function Re(n){mt.current===n&&(ot(ct),ot(mt)),Ct.current===n&&(ot(Ct),xu._currentValue=pt)}var ae=Object.prototype.hasOwnProperty,Zt=r.unstable_scheduleCallback,Jt=r.unstable_cancelCallback,he=r.unstable_shouldYield,se=r.unstable_requestPaint,Ce=r.unstable_now,ni=r.unstable_getCurrentPriorityLevel,ii=r.unstable_ImmediatePriority,Tn=r.unstable_UserBlockingPriority,xn=r.unstable_NormalPriority,Gr=r.unstable_LowPriority,er=r.unstable_IdlePriority,Bi=r.log,zn=r.unstable_setDisableYieldValue,bi=null,Ne=null;function ln(n){if(typeof Bi=="function"&&zn(n),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(bi,n)}catch{}}var Me=Math.clz32?Math.clz32:Fo,Fi=Math.log,Vr=Math.LN2;function Fo(n){return n>>>=0,n===0?32:31-(Fi(n)/Vr|0)|0}var Ho=256,qr=4194304;function nr(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function jo(n,s,l){var d=n.pendingLanes;if(d===0)return 0;var g=0,y=n.suspendedLanes,w=n.pingedLanes;n=n.warmLanes;var D=d&134217727;return D!==0?(d=D&~y,d!==0?g=nr(d):(w&=D,w!==0?g=nr(w):l||(l=D&~n,l!==0&&(g=nr(l))))):(D=d&~y,D!==0?g=nr(D):w!==0?g=nr(w):l||(l=d&~n,l!==0&&(g=nr(l)))),g===0?0:s!==0&&s!==g&&(s&y)===0&&(y=g&-g,l=s&-s,y>=l||y===32&&(l&4194048)!==0)?s:g}function Ga(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function wp(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cd(){var n=Ho;return Ho<<=1,(Ho&4194048)===0&&(Ho=256),n}function Dd(){var n=qr;return qr<<=1,(qr&62914560)===0&&(qr=4194304),n}function zo(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function ws(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Od(n,s,l,d,g,y){var w=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var D=n.entanglements,k=n.expirationTimes,W=n.hiddenUpdates;for(l=w&~l;0<l;){var it=31-Me(l),at=1<<it;D[it]=0,k[it]=-1;var X=W[it];if(X!==null)for(W[it]=null,it=0;it<X.length;it++){var Q=X[it];Q!==null&&(Q.lane&=-536870913)}l&=~at}d!==0&&lc(n,d,0),y!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=y&~(w&~s))}function lc(n,s,l){n.pendingLanes|=s,n.suspendedLanes&=~s;var d=31-Me(s);n.entangledLanes|=s,n.entanglements[d]=n.entanglements[d]|1073741824|l&4194090}function Rd(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var d=31-Me(l),g=1<<d;g&s|n[d]&s&&(n[d]|=s),l&=~g}}function cc(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function uc(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Nd(){var n=G.p;return n!==0?n:(n=window.event,n===void 0?32:N_(n.type))}function Yr(n,s){var l=G.p;try{return G.p=n,s()}finally{G.p=l}}var si=Math.random().toString(36).slice(2),cn="__reactFiber$"+si,Cn="__reactProps$"+si,Wr="__reactContainer$"+si,dc="__reactEvents$"+si,Tp="__reactListeners$"+si,hc="__reactHandles$"+si,ir="__reactResources$"+si,Ts="__reactMarker$"+si;function fc(n){delete n[cn],delete n[Cn],delete n[dc],delete n[Tp],delete n[hc]}function xs(n){var s=n[cn];if(s)return s;for(var l=n.parentNode;l;){if(s=l[Wr]||l[cn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=m_(n);n!==null;){if(l=n[cn])return l;n=m_(n)}return s}n=l,l=n.parentNode}return null}function Xr(n){if(n=n[cn]||n[Wr]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function Va(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function vi(n){var s=n[ir];return s||(s=n[ir]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function le(n){n[Ts]=!0}var Dn=new Set,On={};function ke(n,s){os(n,s),os(n+"Capture",s)}function os(n,s){for(On[n]=s,n=0;n<s.length;n++)Dn.add(s[n])}var Kr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cs={},sr={};function Md(n){return ae.call(sr,n)?!0:ae.call(Cs,n)?!1:Kr.test(n)?sr[n]=!0:(Cs[n]=!0,!1)}function Qr(n,s,l){if(Md(s))if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+l)}}function ls(n,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+l)}}function Hi(n,s,l,d){if(d===null)n.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(s,l,""+d)}}var qa,$o;function rr(n){if(qa===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);qa=s&&s[1]||"",$o=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qa+n+$o}var Uo=!1;function Go(n,s){if(!n||Uo)return"";Uo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(Q){var X=Q}Reflect.construct(n,[],at)}else{try{at.call()}catch(Q){X=Q}n.call(at.prototype)}}else{try{throw Error()}catch(Q){X=Q}(at=n())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(Q){if(Q&&X&&typeof Q.stack=="string")return[Q.stack,X.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),w=y[0],D=y[1];if(w&&D){var k=w.split(`
`),W=D.split(`
`);for(g=d=0;d<k.length&&!k[d].includes("DetermineComponentFrameRoot");)d++;for(;g<W.length&&!W[g].includes("DetermineComponentFrameRoot");)g++;if(d===k.length||g===W.length)for(d=k.length-1,g=W.length-1;1<=d&&0<=g&&k[d]!==W[g];)g--;for(;1<=d&&0<=g;d--,g--)if(k[d]!==W[g]){if(d!==1||g!==1)do if(d--,g--,0>g||k[d]!==W[g]){var it=`
`+k[d].replace(" at new "," at ");return n.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",n.displayName)),it}while(1<=d&&0<=g);break}}}finally{Uo=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?rr(l):""}function Ld(n){switch(n.tag){case 26:case 27:case 5:return rr(n.type);case 16:return rr("Lazy");case 13:return rr("Suspense");case 19:return rr("SuspenseList");case 0:case 15:return Go(n.type,!1);case 11:return Go(n.type.render,!1);case 1:return Go(n.type,!0);case 31:return rr("Activity");default:return""}}function pc(n){try{var s="";do s+=Ld(n),n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function $n(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function gc(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Pd(n){var s=gc(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),d=""+n[s];if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,y=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return g.call(this)},set:function(w){d=""+w,y.call(this,w)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ya(n){n._valueTracker||(n._valueTracker=Pd(n))}function mc(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return n&&(d=gc(n)?n.checked?"true":"false":n.value),n=d,n!==l?(s.setValue(n),!0):!1}function Un(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Gn=/[\n"\\]/g;function Qe(n){return n.replace(Gn,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Rn(n,s,l,d,g,y,w,D){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),s!=null?w==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+$n(s)):n.value!==""+$n(s)&&(n.value=""+$n(s)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),s!=null?Wa(n,w,$n(s)):l!=null?Wa(n,w,$n(l)):d!=null&&n.removeAttribute("value"),g==null&&y!=null&&(n.defaultChecked=!!y),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?n.name=""+$n(D):n.removeAttribute("name")}function Vo(n,s,l,d,g,y,w,D){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),s!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;l=l!=null?""+$n(l):"",s=s!=null?""+$n(s):l,D||s===n.value||(n.value=s),n.defaultValue=s}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,n.checked=D?n.checked:!!d,n.defaultChecked=!!d,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w)}function Wa(n,s,l){s==="number"&&Un(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function bn(n,s,l,d){if(n=n.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<n.length;l++)g=s.hasOwnProperty("$"+n[l].value),n[l].selected!==g&&(n[l].selected=g),g&&d&&(n[l].defaultSelected=!0)}else{for(l=""+$n(l),s=null,g=0;g<n.length;g++){if(n[g].value===l){n[g].selected=!0,d&&(n[g].defaultSelected=!0);return}s!==null||n[g].disabled||(s=n[g])}s!==null&&(s.selected=!0)}}function Ds(n,s,l){if(s!=null&&(s=""+$n(s),s!==n.value&&(n.value=s),l==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=l!=null?""+$n(l):""}function Xa(n,s,l,d){if(s==null){if(d!=null){if(l!=null)throw Error(i(92));if(bt(d)){if(1<d.length)throw Error(i(93));d=d[0]}l=d}l==null&&(l=""),s=l}l=$n(s),n.defaultValue=l,d=n.textContent,d===l&&d!==""&&d!==null&&(n.value=d)}function yi(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var bc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vc(n,s,l){var d=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":d?n.setProperty(s,l):typeof l!="number"||l===0||bc.has(s)?s==="float"?n.cssFloat=l:n[s]=(""+l).trim():n[s]=l+"px"}function ar(n,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?n.setProperty(d,""):d==="float"?n.cssFloat="":n[d]="");for(var g in s)d=s[g],s.hasOwnProperty(g)&&l[g]!==d&&vc(n,g,d)}else for(var y in s)s.hasOwnProperty(y)&&vc(n,y,s[y])}function Ka(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Id=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qo(n){return cs.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var ji=null;function Zr(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var or=null,zi=null;function Yo(n){var s=Xr(n);if(s&&(n=s.stateNode)){var l=n[Cn]||null;t:switch(n=s.stateNode,s.type){case"input":if(Rn(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Qe(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==n&&d.form===n.form){var g=d[Cn]||null;if(!g)throw Error(i(90));Rn(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)d=l[s],d.form===n.form&&mc(d)}break t;case"textarea":Ds(n,l.value,l.defaultValue);break t;case"select":s=l.value,s!=null&&bn(n,!!l.multiple,s,!1)}}}var lr=!1;function yc(n,s,l){if(lr)return n(s,l);lr=!0;try{var d=n(s);return d}finally{if(lr=!1,(or!==null||zi!==null)&&(Gh(),or&&(s=or,n=zi,zi=or=null,Yo(s),n)))for(s=0;s<n.length;s++)Yo(n[s])}}function Jr(n,s){var l=n.stateNode;if(l===null)return null;var d=l[Cn]||null;if(d===null)return null;l=d[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break t;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var $i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Os=!1;if($i)try{var Qa={};Object.defineProperty(Qa,"passive",{get:function(){Os=!0}}),window.addEventListener("test",Qa,Qa),window.removeEventListener("test",Qa,Qa)}catch{Os=!1}var us=null,Za=null,cr=null;function Wo(){if(cr)return cr;var n,s=Za,l=s.length,d,g="value"in us?us.value:us.textContent,y=g.length;for(n=0;n<l&&s[n]===g[n];n++);var w=l-n;for(d=1;d<=w&&s[l-d]===g[y-d];d++);return cr=g.slice(n,1<d?1-d:void 0)}function Xo(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function ur(){return!0}function kd(){return!1}function vn(n){function s(l,d,g,y,w){this._reactName=l,this._targetInst=g,this.type=d,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var D in n)n.hasOwnProperty(D)&&(l=n[D],this[D]=l?l(y):y[D]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ur:kd,this.isPropagationStopped=kd,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),s}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ta=vn(ds),dr=p({},ds,{view:0,detail:0}),Bd=vn(dr),hr,Ja,ea,to=p({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ac,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ea&&(ea&&n.type==="mousemove"?(hr=n.screenX-ea.screenX,Ja=n.screenY-ea.screenY):Ja=hr=0,ea=n),hr)},movementY:function(n){return"movementY"in n?n.movementY:Ja}}),fr=vn(to),xp=p({},to,{dataTransfer:0}),Fd=vn(xp),Hd=p({},dr,{relatedTarget:0}),Ko=vn(Hd),jd=p({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),zd=vn(jd),_c=p({},ds,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),$d=vn(_c),Cp=p({},ds,{data:0}),Ud=vn(Cp),Gd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dp(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Qo[n])?!!s[n]:!1}function Ac(){return Dp}var Ec=p({},dr,{key:function(n){if(n.key){var s=Gd[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Xo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Vd[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ac,charCode:function(n){return n.type==="keypress"?Xo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Xo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),qd=vn(Ec),Yd=p({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rs=vn(Yd),Sc=p({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ac}),Op=vn(Sc),Wd=p({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rp=vn(Wd),Np=p({},to,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Mp=vn(Np),Lp=p({},ds,{newState:0,oldState:0}),Xd=vn(Lp),Kd=[9,13,27,32],wc=$i&&"CompositionEvent"in window,Ui=null;$i&&"documentMode"in document&&(Ui=document.documentMode);var pr=$i&&"TextEvent"in window&&!Ui,Qd=$i&&(!wc||Ui&&8<Ui&&11>=Ui),eo=" ",Zd=!1;function Jd(n,s){switch(n){case"keyup":return Kd.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function th(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var na=!1;function Pp(n,s){switch(n){case"compositionend":return th(s);case"keypress":return s.which!==32?null:(Zd=!0,eo);case"textInput":return n=s.data,n===eo&&Zd?null:n;default:return null}}function Ip(n,s){if(na)return n==="compositionend"||!wc&&Jd(n,s)?(n=Wo(),cr=Za=us=null,na=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Qd&&s.locale!=="ko"?null:s.data;default:return null}}var kp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eh(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!kp[n.type]:s==="textarea"}function ri(n,s,l,d){or?zi?zi.push(d):zi=[d]:or=d,s=Kh(s,"onChange"),0<s.length&&(l=new ta("onChange","change",null,l,d),n.push({event:l,listeners:s}))}var ia=null,sa=null;function nh(n){a_(n,0)}function Zo(n){var s=Va(n);if(mc(s))return n}function ih(n,s){if(n==="change")return s}var Tc=!1;if($i){var ra;if($i){var xc="oninput"in document;if(!xc){var sh=document.createElement("div");sh.setAttribute("oninput","return;"),xc=typeof sh.oninput=="function"}ra=xc}else ra=!1;Tc=ra&&(!document.documentMode||9<document.documentMode)}function Cc(){ia&&(ia.detachEvent("onpropertychange",rh),sa=ia=null)}function rh(n){if(n.propertyName==="value"&&Zo(sa)){var s=[];ri(s,sa,n,Zr(n)),yc(nh,s)}}function Bp(n,s,l){n==="focusin"?(Cc(),ia=s,sa=l,ia.attachEvent("onpropertychange",rh)):n==="focusout"&&Cc()}function ah(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Zo(sa)}function oh(n,s){if(n==="click")return Zo(s)}function lh(n,s){if(n==="input"||n==="change")return Zo(s)}function Jo(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Nn=typeof Object.is=="function"?Object.is:Jo;function gr(n,s){if(Nn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var g=l[d];if(!ae.call(s,g)||!Nn(n[g],s[g]))return!1}return!0}function Vn(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ch(n,s){var l=Vn(n);n=0;for(var d;l;){if(l.nodeType===3){if(d=n+l.textContent.length,n<=s&&d>=s)return{node:l,offset:s-n};n=d}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Vn(l)}}function uh(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?uh(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Dc(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Un(n.document);s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=Un(n.document)}return s}function tl(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var Fp=$i&&"documentMode"in document&&11>=document.documentMode,aa=null,Oc=null,no=null,Rc=!1;function dh(n,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Rc||aa==null||aa!==Un(d)||(d=aa,"selectionStart"in d&&tl(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),no&&gr(no,d)||(no=d,d=Kh(Oc,"onSelect"),0<d.length&&(s=new ta("onSelect","select",null,s,l),n.push({event:s,listeners:d}),s.target=aa)))}function Ns(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var mr={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},io={},hh={};$i&&(hh=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function br(n){if(io[n])return io[n];if(!mr[n])return n;var s=mr[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in hh)return io[n]=s[l];return n}var Ms=br("animationend"),Gi=br("animationiteration"),Nc=br("animationstart"),Hp=br("transitionrun"),fh=br("transitionstart"),ph=br("transitioncancel"),Mc=br("transitionend"),Lc=new Map,Pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pc.push("scrollEnd");function _i(n,s){Lc.set(n,s),ke(s,[n])}var gh=new WeakMap;function qn(n,s){if(typeof n=="object"&&n!==null){var l=gh.get(n);return l!==void 0?l:(s={value:n,source:s,stack:pc(s)},gh.set(n,s),s)}return{value:n,source:s,stack:pc(s)}}var Yn=[],oa=0,Ic=0;function el(){for(var n=oa,s=Ic=oa=0;s<n;){var l=Yn[s];Yn[s++]=null;var d=Yn[s];Yn[s++]=null;var g=Yn[s];Yn[s++]=null;var y=Yn[s];if(Yn[s++]=null,d!==null&&g!==null){var w=d.pending;w===null?g.next=g:(g.next=w.next,w.next=g),d.pending=g}y!==0&&Bc(l,g,y)}}function nl(n,s,l,d){Yn[oa++]=n,Yn[oa++]=s,Yn[oa++]=l,Yn[oa++]=d,Ic|=d,n.lanes|=d,n=n.alternate,n!==null&&(n.lanes|=d)}function kc(n,s,l,d){return nl(n,s,l,d),il(n)}function Mn(n,s){return nl(n,null,null,s),il(n)}function Bc(n,s,l){n.lanes|=l;var d=n.alternate;d!==null&&(d.lanes|=l);for(var g=!1,y=n.return;y!==null;)y.childLanes|=l,d=y.alternate,d!==null&&(d.childLanes|=l),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(g=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,g&&s!==null&&(g=31-Me(l),n=y.hiddenUpdates,d=n[g],d===null?n[g]=[s]:d.push(s),s.lane=l|536870912),y):null}function il(n){if(50<vu)throw vu=0,vg=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var la={};function jp(n,s,l,d){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(n,s,l,d){return new jp(n,s,l,d)}function Fc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function hs(n,s){var l=n.alternate;return l===null?(l=Wn(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function mh(n,s){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,s=l.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function sl(n,s,l,d,g,y){var w=0;if(d=n,typeof n=="function")Fc(n)&&(w=1);else if(typeof n=="string")w=ox(n,l,ct.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case Z:return n=Wn(31,l,s,g),n.elementType=Z,n.lanes=y,n;case S:return fs(l.children,g,y,s);case E:w=8,g|=24;break;case T:return n=Wn(12,l,s,g|2),n.elementType=T,n.lanes=y,n;case M:return n=Wn(13,l,s,g),n.elementType=M,n.lanes=y,n;case I:return n=Wn(19,l,s,g),n.elementType=I,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case C:case L:w=10;break t;case N:w=9;break t;case P:w=11;break t;case F:w=14;break t;case q:w=16,d=null;break t}w=29,l=Error(i(130,n===null?"null":typeof n,"")),d=null}return s=Wn(w,l,s,g),s.elementType=n,s.type=d,s.lanes=y,s}function fs(n,s,l,d){return n=Wn(7,n,d,s),n.lanes=l,n}function ca(n,s,l){return n=Wn(6,n,null,s),n.lanes=l,n}function Hc(n,s,l){return s=Wn(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var vr=[],yr=0,Ls=null,ua=0,Ln=[],ai=0,_r=null,ps=1,yn="";function Ar(n,s){vr[yr++]=ua,vr[yr++]=Ls,Ls=n,ua=s}function bh(n,s,l){Ln[ai++]=ps,Ln[ai++]=yn,Ln[ai++]=_r,_r=n;var d=ps;n=yn;var g=32-Me(d)-1;d&=~(1<<g),l+=1;var y=32-Me(s)+g;if(30<y){var w=g-g%5;y=(d&(1<<w)-1).toString(32),d>>=w,g-=w,ps=1<<32-Me(s)+g|l<<g|d,yn=y+n}else ps=1<<y|l<<g|d,yn=n}function jc(n){n.return!==null&&(Ar(n,1),bh(n,1,0))}function zc(n){for(;n===Ls;)Ls=vr[--yr],vr[yr]=null,ua=vr[--yr],vr[yr]=null;for(;n===_r;)_r=Ln[--ai],Ln[ai]=null,yn=Ln[--ai],Ln[ai]=null,ps=Ln[--ai],Ln[ai]=null}var Ze=null,De=null,fe=!1,Ps=null,Vi=!1,Is=Error(i(519));function gs(n){var s=Error(i(418,""));throw Ai(qn(s,n)),Is}function $c(n){var s=n.stateNode,l=n.type,d=n.memoizedProps;switch(s[cn]=n,s[Cn]=d,l){case"dialog":ne("cancel",s),ne("close",s);break;case"iframe":case"object":case"embed":ne("load",s);break;case"video":case"audio":for(l=0;l<_u.length;l++)ne(_u[l],s);break;case"source":ne("error",s);break;case"img":case"image":case"link":ne("error",s),ne("load",s);break;case"details":ne("toggle",s);break;case"input":ne("invalid",s),Vo(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Ya(s);break;case"select":ne("invalid",s);break;case"textarea":ne("invalid",s),Xa(s,d.value,d.defaultValue,d.children),Ya(s)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||d.suppressHydrationWarning===!0||u_(s.textContent,l)?(d.popover!=null&&(ne("beforetoggle",s),ne("toggle",s)),d.onScroll!=null&&ne("scroll",s),d.onScrollEnd!=null&&ne("scrollend",s),d.onClick!=null&&(s.onclick=Qh),s=!0):s=!1,s||gs(n)}function vh(n){for(Ze=n.return;Ze;)switch(Ze.tag){case 5:case 13:Vi=!1;return;case 27:case 3:Vi=!0;return;default:Ze=Ze.return}}function so(n){if(n!==Ze)return!1;if(!fe)return vh(n),fe=!0,!1;var s=n.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Pg(n.type,n.memoizedProps)),l=!l),l&&De&&gs(n),vh(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));t:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(l=n.data,l==="/$"){if(s===0){De=ys(n.nextSibling);break t}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;n=n.nextSibling}De=null}}else s===27?(s=De,Ta(n.type)?(n=Fg,Fg=null,De=n):De=s):De=Ze?ys(n.stateNode.nextSibling):null;return!0}function ro(){De=Ze=null,fe=!1}function da(){var n=Ps;return n!==null&&(hi===null?hi=n:hi.push.apply(hi,n),Ps=null),n}function Ai(n){Ps===null?Ps=[n]:Ps.push(n)}var Uc=et(null),Er=null,ms=null;function ks(n,s,l){K(Uc,s._currentValue),s._currentValue=l}function bs(n){n._currentValue=Uc.current,ot(Uc)}function Gc(n,s,l){for(;n!==null;){var d=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),n===l)break;n=n.return}}function Vc(n,s,l,d){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var y=g.dependencies;if(y!==null){var w=g.child;y=y.firstContext;t:for(;y!==null;){var D=y;y=g;for(var k=0;k<s.length;k++)if(D.context===s[k]){y.lanes|=l,D=y.alternate,D!==null&&(D.lanes|=l),Gc(y.return,l,n),d||(w=null);break t}y=D.next}}else if(g.tag===18){if(w=g.return,w===null)throw Error(i(341));w.lanes|=l,y=w.alternate,y!==null&&(y.lanes|=l),Gc(w,l,n),w=null}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===n){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}}function ao(n,s,l,d){n=null;for(var g=s,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var w=g.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var D=g.type;Nn(g.pendingProps.value,w.value)||(n!==null?n.push(D):n=[D])}}else if(g===Ct.current){if(w=g.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(xu):n=[xu])}g=g.return}n!==null&&Vc(s,n,l,d),s.flags|=262144}function oo(n){for(n=n.firstContext;n!==null;){if(!Nn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Sr(n){Er=n,ms=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function en(n){return qc(Er,n)}function ha(n,s){return Er===null&&Sr(n),qc(n,s)}function qc(n,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},ms===null){if(n===null)throw Error(i(308));ms=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else ms=ms.next=s;return l}var wr=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(l,d){n.push(d)}};this.abort=function(){s.aborted=!0,n.forEach(function(l){return l()})}},yh=r.unstable_scheduleCallback,Yc=r.unstable_NormalPriority,ze={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lo(){return{controller:new wr,data:new Map,refCount:0}}function fa(n){n.refCount--,n.refCount===0&&yh(Yc,function(){n.controller.abort()})}var Tr=null,Wc=0,oi=0,Xn=null;function zp(n,s){if(Tr===null){var l=Tr=[];Wc=0,oi=Tg(),Xn={status:"pending",value:void 0,then:function(d){l.push(d)}}}return Wc++,s.then(_h,_h),s}function _h(){if(--Wc===0&&Tr!==null){Xn!==null&&(Xn.status="fulfilled");var n=Tr;Tr=null,oi=0,Xn=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function $p(n,s){var l=[],d={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return n.then(function(){d.status="fulfilled",d.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(d.status="rejected",d.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),d}var Ah=B.S;B.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&zp(n,s),Ah!==null&&Ah(n,s)};var xr=et(null);function Xc(){var n=xr.current;return n!==null?n:Oe.pooledCache}function rl(n,s){s===null?K(xr,xr.current):K(xr,s.pool)}function Eh(){var n=Xc();return n===null?null:{parent:ze._currentValue,pool:n}}var pa=Error(i(460)),co=Error(i(474)),Cr=Error(i(542)),Kc={then:function(){}};function Sh(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Bs(){}function x(n,s,l){switch(l=n[l],l===void 0?n.push(s):l!==s&&(s.then(Bs,Bs),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,R(n),n;default:if(typeof s.status=="string")s.then(Bs,Bs);else{if(n=Oe,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(d){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=d}},function(d){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,R(n),n}throw b=s,pa}}var b=null;function A(){if(b===null)throw Error(i(459));var n=b;return b=null,n}function R(n){if(n===pa||n===Cr)throw Error(i(483))}var j=!1;function z(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function J(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function st(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ft(n,s,l){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(ye&2)!==0){var g=d.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),d.pending=s,s=il(n),Bc(n,null,l),s}return nl(n,d,s,l),il(n)}function At(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var d=s.lanes;d&=n.pendingLanes,l|=d,s.lanes=l,Rd(n,l)}}function St(n,s){var l=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=w:y=y.next=w,l=l.next}while(l!==null);y===null?g=y=s:y=y.next=s}else g=y=s;l={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}var yt=!1;function Ut(){if(yt){var n=Xn;if(n!==null)throw n}}function Mt(n,s,l,d){yt=!1;var g=n.updateQueue;j=!1;var y=g.firstBaseUpdate,w=g.lastBaseUpdate,D=g.shared.pending;if(D!==null){g.shared.pending=null;var k=D,W=k.next;k.next=null,w===null?y=W:w.next=W,w=k;var it=n.alternate;it!==null&&(it=it.updateQueue,D=it.lastBaseUpdate,D!==w&&(D===null?it.firstBaseUpdate=W:D.next=W,it.lastBaseUpdate=k))}if(y!==null){var at=g.baseState;w=0,it=W=k=null,D=y;do{var X=D.lane&-536870913,Q=X!==D.lane;if(Q?(ue&X)===X:(d&X)===X){X!==0&&X===oi&&(yt=!0),it!==null&&(it=it.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});t:{var $t=n,kt=D;X=s;var Se=l;switch(kt.tag){case 1:if($t=kt.payload,typeof $t=="function"){at=$t.call(Se,at,X);break t}at=$t;break t;case 3:$t.flags=$t.flags&-65537|128;case 0:if($t=kt.payload,X=typeof $t=="function"?$t.call(Se,at,X):$t,X==null)break t;at=p({},at,X);break t;case 2:j=!0}}X=D.callback,X!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=g.callbacks,Q===null?g.callbacks=[X]:Q.push(X))}else Q={lane:X,tag:D.tag,payload:D.payload,callback:D.callback,next:null},it===null?(W=it=Q,k=at):it=it.next=Q,w|=X;if(D=D.next,D===null){if(D=g.shared.pending,D===null)break;Q=D,D=Q.next,Q.next=null,g.lastBaseUpdate=Q,g.shared.pending=null}}while(!0);it===null&&(k=at),g.baseState=k,g.firstBaseUpdate=W,g.lastBaseUpdate=it,y===null&&(g.shared.lanes=0),Aa|=w,n.lanes=w,n.memoizedState=at}}function Gt(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function Ht(n,s){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)Gt(l[n],s)}var It=et(null),pe=et(0);function be(n,s){n=Pr,K(pe,n),K(It,s),Pr=n|s.baseLanes}function Xt(){K(pe,Pr),K(It,It.current)}function oe(){Pr=pe.current,ot(It),ot(pe)}var jt=0,_t=null,Dt=null,zt=null,ce=!1,Ae=!1,Ue=!1,Pn=0,Ge=0,nn=null,li=0;function qt(){throw Error(i(321))}function ci(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!Nn(n[l],s[l]))return!1;return!0}function ui(n,s,l,d,g,y){return jt=y,_t=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=n===null||n.memoizedState===null?Gv:Vv,Ue=!1,y=l(d,g),Ue=!1,Ae&&(y=Ve(s,l,d,g)),Dr(n),y}function Dr(n){B.H=Nh;var s=Dt!==null&&Dt.next!==null;if(jt=0,zt=Dt=_t=null,ce=!1,Ge=0,nn=null,s)throw Error(i(300));n===null||un||(n=n.dependencies,n!==null&&oo(n)&&(un=!0))}function Ve(n,s,l,d){_t=n;var g=0;do{if(Ae&&(nn=null),Ge=0,Ae=!1,25<=g)throw Error(i(301));if(g+=1,zt=Dt=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}B.H=vT,y=s(l,d)}while(Ae);return y}function ve(){var n=B.H,s=n.useState()[0];return s=typeof s.then=="function"?Fs(s):s,n=n.useState()[0],(Dt!==null?Dt.memoizedState:null)!==n&&(_t.flags|=1024),s}function sn(){var n=Pn!==0;return Pn=0,n}function In(n,s,l){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~l}function qi(n){if(ce){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ce=!1}jt=0,zt=Dt=_t=null,Ae=!1,Ge=Pn=0,nn=null}function rn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?_t.memoizedState=zt=n:zt=zt.next=n,zt}function Be(){if(Dt===null){var n=_t.alternate;n=n!==null?n.memoizedState:null}else n=Dt.next;var s=zt===null?_t.memoizedState:zt.next;if(s!==null)zt=s,Dt=n;else{if(n===null)throw _t.alternate===null?Error(i(467)):Error(i(310));Dt=n,n={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},zt===null?_t.memoizedState=zt=n:zt=zt.next=n}return zt}function al(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fs(n){var s=Ge;return Ge+=1,nn===null&&(nn=[]),n=x(nn,n,s),s=_t,(zt===null?s.memoizedState:zt.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?Gv:Vv),n}function ol(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Fs(n);if(n.$$typeof===L)return en(n)}throw Error(i(438,String(n)))}function Qc(n){var s=null,l=_t.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var d=_t.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=al(),_t.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(n),d=0;d<n;d++)l[d]=nt;return s.index++,l}function Ei(n,s){return typeof s=="function"?s(n):s}function ll(n){var s=Be();return cl(s,Dt,n)}function cl(n,s,l){var d=n.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=l;var g=n.baseQueue,y=d.pending;if(y!==null){if(g!==null){var w=g.next;g.next=y.next,y.next=w}s.baseQueue=g=y,d.pending=null}if(y=n.baseState,g===null)n.memoizedState=y;else{s=g.next;var D=w=null,k=null,W=s,it=!1;do{var at=W.lane&-536870913;if(at!==W.lane?(ue&at)===at:(jt&at)===at){var X=W.revertLane;if(X===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),at===oi&&(it=!0);else if((jt&X)===X){W=W.next,X===oi&&(it=!0);continue}else at={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},k===null?(D=k=at,w=y):k=k.next=at,_t.lanes|=X,Aa|=X;at=W.action,Ue&&l(y,at),y=W.hasEagerState?W.eagerState:l(y,at)}else X={lane:at,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},k===null?(D=k=X,w=y):k=k.next=X,_t.lanes|=at,Aa|=at;W=W.next}while(W!==null&&W!==s);if(k===null?w=y:k.next=D,!Nn(y,n.memoizedState)&&(un=!0,it&&(l=Xn,l!==null)))throw l;n.memoizedState=y,n.baseState=w,n.baseQueue=k,d.lastRenderedState=y}return g===null&&(d.lanes=0),[n.memoizedState,d.dispatch]}function Zc(n){var s=Be(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var d=l.dispatch,g=l.pending,y=s.memoizedState;if(g!==null){l.pending=null;var w=g=g.next;do y=n(y,w.action),w=w.next;while(w!==g);Nn(y,s.memoizedState)||(un=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,d]}function Jc(n,s,l){var d=_t,g=Be(),y=fe;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=s();var w=!Nn((Dt||g).memoizedState,l);w&&(g.memoizedState=l,un=!0),g=g.queue;var D=Th.bind(null,d,g,n);if(ou(2048,8,D,[n]),g.getSnapshot!==s||w||zt!==null&&zt.memoizedState.tag&1){if(d.flags|=2048,fl(9,Dh(),wh.bind(null,d,g,l,s),null),Oe===null)throw Error(i(349));y||(jt&124)!==0||tu(d,s,l)}return l}function tu(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=_t.updateQueue,s===null?(s=al(),_t.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function wh(n,s,l,d){s.value=l,s.getSnapshot=d,Hs(s)&&uo(n)}function Th(n,s,l){return l(function(){Hs(s)&&uo(n)})}function Hs(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!Nn(n,l)}catch{return!0}}function uo(n){var s=Mn(n,2);s!==null&&Ci(s,n,2)}function ul(n){var s=rn();if(typeof n=="function"){var l=n;if(n=l(),Ue){ln(!0);try{l()}finally{ln(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:n},s}function eu(n,s,l,d){return n.baseState=l,cl(n,Dt,typeof d=="function"?d:Ei)}function nu(n,s,l,d,g){if(Rh(n))throw Error(i(485));if(n=s.action,n!==null){var y={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};B.T!==null?l(!0):y.isTransition=!1,d(y),l=s.pending,l===null?(y.next=s.pending=y,iu(s,y)):(y.next=l.next,s.pending=l.next=y)}}function iu(n,s){var l=s.action,d=s.payload,g=n.state;if(s.isTransition){var y=B.T,w={};B.T=w;try{var D=l(g,d),k=B.S;k!==null&&k(w,D),su(n,s,D)}catch(W){dl(n,s,W)}finally{B.T=y}}else try{y=l(g,d),su(n,s,y)}catch(W){dl(n,s,W)}}function su(n,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){ru(n,s,d)},function(d){return dl(n,s,d)}):ru(n,s,l)}function ru(n,s,l){s.status="fulfilled",s.value=l,xh(s),n.state=l,s=n.pending,s!==null&&(l=s.next,l===s?n.pending=null:(l=l.next,s.next=l,iu(n,l)))}function dl(n,s,l){var d=n.pending;if(n.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=l,xh(s),s=s.next;while(s!==d)}n.action=null}function xh(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Ch(n,s){return s}function hl(n,s){if(fe){var l=Oe.formState;if(l!==null){t:{var d=_t;if(fe){if(De){e:{for(var g=De,y=Vi;g.nodeType!==8;){if(!y){g=null;break e}if(g=ys(g.nextSibling),g===null){g=null;break e}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){De=ys(g.nextSibling),d=g.data==="F!";break t}}gs(d)}d=!1}d&&(s=l[0])}}return l=rn(),l.memoizedState=l.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ch,lastRenderedState:s},l.queue=d,l=zv.bind(null,_t,d),d.dispatch=l,d=ul(!1),y=Yp.bind(null,_t,!1,d.queue),d=rn(),g={state:s,dispatch:null,action:n,pending:null},d.queue=g,l=nu.bind(null,_t,g,y,l),g.dispatch=l,d.memoizedState=n,[s,l,!1]}function au(n){var s=Be();return wv(s,Dt,n)}function wv(n,s,l){if(s=cl(n,s,Ch)[0],n=ll(Ei)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=Fs(s)}catch(w){throw w===pa?Cr:w}else d=s;s=Be();var g=s.queue,y=g.dispatch;return l!==s.memoizedState&&(_t.flags|=2048,fl(9,Dh(),pT.bind(null,g,l),null)),[d,y,n]}function pT(n,s){n.action=s}function Tv(n){var s=Be(),l=Dt;if(l!==null)return wv(s,l,n);Be(),s=s.memoizedState,l=Be();var d=l.queue.dispatch;return l.memoizedState=n,[s,d,!1]}function fl(n,s,l,d){return n={tag:n,create:l,deps:d,inst:s,next:null},s=_t.updateQueue,s===null&&(s=al(),_t.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=n.next=n:(d=l.next,l.next=n,n.next=d,s.lastEffect=n),n}function Dh(){return{destroy:void 0,resource:void 0}}function xv(){return Be().memoizedState}function Oh(n,s,l,d){var g=rn();d=d===void 0?null:d,_t.flags|=n,g.memoizedState=fl(1|s,Dh(),l,d)}function ou(n,s,l,d){var g=Be();d=d===void 0?null:d;var y=g.memoizedState.inst;Dt!==null&&d!==null&&ci(d,Dt.memoizedState.deps)?g.memoizedState=fl(s,y,l,d):(_t.flags|=n,g.memoizedState=fl(1|s,y,l,d))}function Cv(n,s){Oh(8390656,8,n,s)}function Dv(n,s){ou(2048,8,n,s)}function Ov(n,s){return ou(4,2,n,s)}function Rv(n,s){return ou(4,4,n,s)}function Nv(n,s){if(typeof s=="function"){n=n();var l=s(n);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Mv(n,s,l){l=l!=null?l.concat([n]):null,ou(4,4,Nv.bind(null,s,n),l)}function Up(){}function Lv(n,s){var l=Be();s=s===void 0?null:s;var d=l.memoizedState;return s!==null&&ci(s,d[1])?d[0]:(l.memoizedState=[n,s],n)}function Pv(n,s){var l=Be();s=s===void 0?null:s;var d=l.memoizedState;if(s!==null&&ci(s,d[1]))return d[0];if(d=n(),Ue){ln(!0);try{n()}finally{ln(!1)}}return l.memoizedState=[d,s],d}function Gp(n,s,l){return l===void 0||(jt&1073741824)!==0?n.memoizedState=s:(n.memoizedState=l,n=By(),_t.lanes|=n,Aa|=n,l)}function Iv(n,s,l,d){return Nn(l,s)?l:It.current!==null?(n=Gp(n,l,d),Nn(n,s)||(un=!0),n):(jt&42)===0?(un=!0,n.memoizedState=l):(n=By(),_t.lanes|=n,Aa|=n,s)}function kv(n,s,l,d,g){var y=G.p;G.p=y!==0&&8>y?y:8;var w=B.T,D={};B.T=D,Yp(n,!1,s,l);try{var k=g(),W=B.S;if(W!==null&&W(D,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var it=$p(k,d);lu(n,s,it,xi(n))}else lu(n,s,d,xi(n))}catch(at){lu(n,s,{then:function(){},status:"rejected",reason:at},xi())}finally{G.p=y,B.T=w}}function gT(){}function Vp(n,s,l,d){if(n.tag!==5)throw Error(i(476));var g=Bv(n).queue;kv(n,g,s,pt,l===null?gT:function(){return Fv(n),l(d)})}function Bv(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:pt},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:l},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Fv(n){var s=Bv(n).next.queue;lu(n,s,{},xi())}function qp(){return en(xu)}function Hv(){return Be().memoizedState}function jv(){return Be().memoizedState}function mT(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var l=xi();n=st(l);var d=ft(s,n,l);d!==null&&(Ci(d,s,l),At(d,s,l)),s={cache:lo()},n.payload=s;return}s=s.return}}function bT(n,s,l){var d=xi();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Rh(n)?$v(s,l):(l=kc(n,s,l,d),l!==null&&(Ci(l,n,d),Uv(l,s,d)))}function zv(n,s,l){var d=xi();lu(n,s,l,d)}function lu(n,s,l,d){var g={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Rh(n))$v(s,g);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var w=s.lastRenderedState,D=y(w,l);if(g.hasEagerState=!0,g.eagerState=D,Nn(D,w))return nl(n,s,g,0),Oe===null&&el(),!1}catch{}finally{}if(l=kc(n,s,g,d),l!==null)return Ci(l,n,d),Uv(l,s,d),!0}return!1}function Yp(n,s,l,d){if(d={lane:2,revertLane:Tg(),action:d,hasEagerState:!1,eagerState:null,next:null},Rh(n)){if(s)throw Error(i(479))}else s=kc(n,l,d,2),s!==null&&Ci(s,n,2)}function Rh(n){var s=n.alternate;return n===_t||s!==null&&s===_t}function $v(n,s){Ae=ce=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function Uv(n,s,l){if((l&4194048)!==0){var d=s.lanes;d&=n.pendingLanes,l|=d,s.lanes=l,Rd(n,l)}}var Nh={readContext:en,use:ol,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt},Gv={readContext:en,use:ol,useCallback:function(n,s){return rn().memoizedState=[n,s===void 0?null:s],n},useContext:en,useEffect:Cv,useImperativeHandle:function(n,s,l){l=l!=null?l.concat([n]):null,Oh(4194308,4,Nv.bind(null,s,n),l)},useLayoutEffect:function(n,s){return Oh(4194308,4,n,s)},useInsertionEffect:function(n,s){Oh(4,2,n,s)},useMemo:function(n,s){var l=rn();s=s===void 0?null:s;var d=n();if(Ue){ln(!0);try{n()}finally{ln(!1)}}return l.memoizedState=[d,s],d},useReducer:function(n,s,l){var d=rn();if(l!==void 0){var g=l(s);if(Ue){ln(!0);try{l(s)}finally{ln(!1)}}}else g=s;return d.memoizedState=d.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},d.queue=n,n=n.dispatch=bT.bind(null,_t,n),[d.memoizedState,n]},useRef:function(n){var s=rn();return n={current:n},s.memoizedState=n},useState:function(n){n=ul(n);var s=n.queue,l=zv.bind(null,_t,s);return s.dispatch=l,[n.memoizedState,l]},useDebugValue:Up,useDeferredValue:function(n,s){var l=rn();return Gp(l,n,s)},useTransition:function(){var n=ul(!1);return n=kv.bind(null,_t,n.queue,!0,!1),rn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,l){var d=_t,g=rn();if(fe){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),Oe===null)throw Error(i(349));(ue&124)!==0||tu(d,s,l)}g.memoizedState=l;var y={value:l,getSnapshot:s};return g.queue=y,Cv(Th.bind(null,d,y,n),[n]),d.flags|=2048,fl(9,Dh(),wh.bind(null,d,y,l,s),null),l},useId:function(){var n=rn(),s=Oe.identifierPrefix;if(fe){var l=yn,d=ps;l=(d&~(1<<32-Me(d)-1)).toString(32)+l,s="«"+s+"R"+l,l=Pn++,0<l&&(s+="H"+l.toString(32)),s+="»"}else l=li++,s="«"+s+"r"+l.toString(32)+"»";return n.memoizedState=s},useHostTransitionStatus:qp,useFormState:hl,useActionState:hl,useOptimistic:function(n){var s=rn();s.memoizedState=s.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Yp.bind(null,_t,!0,l),l.dispatch=s,[n,s]},useMemoCache:Qc,useCacheRefresh:function(){return rn().memoizedState=mT.bind(null,_t)}},Vv={readContext:en,use:ol,useCallback:Lv,useContext:en,useEffect:Dv,useImperativeHandle:Mv,useInsertionEffect:Ov,useLayoutEffect:Rv,useMemo:Pv,useReducer:ll,useRef:xv,useState:function(){return ll(Ei)},useDebugValue:Up,useDeferredValue:function(n,s){var l=Be();return Iv(l,Dt.memoizedState,n,s)},useTransition:function(){var n=ll(Ei)[0],s=Be().memoizedState;return[typeof n=="boolean"?n:Fs(n),s]},useSyncExternalStore:Jc,useId:Hv,useHostTransitionStatus:qp,useFormState:au,useActionState:au,useOptimistic:function(n,s){var l=Be();return eu(l,Dt,n,s)},useMemoCache:Qc,useCacheRefresh:jv},vT={readContext:en,use:ol,useCallback:Lv,useContext:en,useEffect:Dv,useImperativeHandle:Mv,useInsertionEffect:Ov,useLayoutEffect:Rv,useMemo:Pv,useReducer:Zc,useRef:xv,useState:function(){return Zc(Ei)},useDebugValue:Up,useDeferredValue:function(n,s){var l=Be();return Dt===null?Gp(l,n,s):Iv(l,Dt.memoizedState,n,s)},useTransition:function(){var n=Zc(Ei)[0],s=Be().memoizedState;return[typeof n=="boolean"?n:Fs(n),s]},useSyncExternalStore:Jc,useId:Hv,useHostTransitionStatus:qp,useFormState:Tv,useActionState:Tv,useOptimistic:function(n,s){var l=Be();return Dt!==null?eu(l,Dt,n,s):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Qc,useCacheRefresh:jv},pl=null,cu=0;function Mh(n){var s=cu;return cu+=1,pl===null&&(pl=[]),x(pl,n,s)}function uu(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Lh(n,s){throw s.$$typeof===m?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function qv(n){var s=n._init;return s(n._payload)}function Yv(n){function s(U,H){if(n){var Y=U.deletions;Y===null?(U.deletions=[H],U.flags|=16):Y.push(H)}}function l(U,H){if(!n)return null;for(;H!==null;)s(U,H),H=H.sibling;return null}function d(U){for(var H=new Map;U!==null;)U.key!==null?H.set(U.key,U):H.set(U.index,U),U=U.sibling;return H}function g(U,H){return U=hs(U,H),U.index=0,U.sibling=null,U}function y(U,H,Y){return U.index=Y,n?(Y=U.alternate,Y!==null?(Y=Y.index,Y<H?(U.flags|=67108866,H):Y):(U.flags|=67108866,H)):(U.flags|=1048576,H)}function w(U){return n&&U.alternate===null&&(U.flags|=67108866),U}function D(U,H,Y,rt){return H===null||H.tag!==6?(H=ca(Y,U.mode,rt),H.return=U,H):(H=g(H,Y),H.return=U,H)}function k(U,H,Y,rt){var Tt=Y.type;return Tt===S?it(U,H,Y.props.children,rt,Y.key):H!==null&&(H.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===q&&qv(Tt)===H.type)?(H=g(H,Y.props),uu(H,Y),H.return=U,H):(H=sl(Y.type,Y.key,Y.props,null,U.mode,rt),uu(H,Y),H.return=U,H)}function W(U,H,Y,rt){return H===null||H.tag!==4||H.stateNode.containerInfo!==Y.containerInfo||H.stateNode.implementation!==Y.implementation?(H=Hc(Y,U.mode,rt),H.return=U,H):(H=g(H,Y.children||[]),H.return=U,H)}function it(U,H,Y,rt,Tt){return H===null||H.tag!==7?(H=fs(Y,U.mode,rt,Tt),H.return=U,H):(H=g(H,Y),H.return=U,H)}function at(U,H,Y){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=ca(""+H,U.mode,Y),H.return=U,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case v:return Y=sl(H.type,H.key,H.props,null,U.mode,Y),uu(Y,H),Y.return=U,Y;case _:return H=Hc(H,U.mode,Y),H.return=U,H;case q:var rt=H._init;return H=rt(H._payload),at(U,H,Y)}if(bt(H)||ht(H))return H=fs(H,U.mode,Y,null),H.return=U,H;if(typeof H.then=="function")return at(U,Mh(H),Y);if(H.$$typeof===L)return at(U,ha(U,H),Y);Lh(U,H)}return null}function X(U,H,Y,rt){var Tt=H!==null?H.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Tt!==null?null:D(U,H,""+Y,rt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:return Y.key===Tt?k(U,H,Y,rt):null;case _:return Y.key===Tt?W(U,H,Y,rt):null;case q:return Tt=Y._init,Y=Tt(Y._payload),X(U,H,Y,rt)}if(bt(Y)||ht(Y))return Tt!==null?null:it(U,H,Y,rt,null);if(typeof Y.then=="function")return X(U,H,Mh(Y),rt);if(Y.$$typeof===L)return X(U,H,ha(U,Y),rt);Lh(U,Y)}return null}function Q(U,H,Y,rt,Tt){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return U=U.get(Y)||null,D(H,U,""+rt,Tt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case v:return U=U.get(rt.key===null?Y:rt.key)||null,k(H,U,rt,Tt);case _:return U=U.get(rt.key===null?Y:rt.key)||null,W(H,U,rt,Tt);case q:var te=rt._init;return rt=te(rt._payload),Q(U,H,Y,rt,Tt)}if(bt(rt)||ht(rt))return U=U.get(Y)||null,it(H,U,rt,Tt,null);if(typeof rt.then=="function")return Q(U,H,Y,Mh(rt),Tt);if(rt.$$typeof===L)return Q(U,H,Y,ha(H,rt),Tt);Lh(H,rt)}return null}function $t(U,H,Y,rt){for(var Tt=null,te=null,Ot=H,Bt=H=0,hn=null;Ot!==null&&Bt<Y.length;Bt++){Ot.index>Bt?(hn=Ot,Ot=null):hn=Ot.sibling;var ge=X(U,Ot,Y[Bt],rt);if(ge===null){Ot===null&&(Ot=hn);break}n&&Ot&&ge.alternate===null&&s(U,Ot),H=y(ge,H,Bt),te===null?Tt=ge:te.sibling=ge,te=ge,Ot=hn}if(Bt===Y.length)return l(U,Ot),fe&&Ar(U,Bt),Tt;if(Ot===null){for(;Bt<Y.length;Bt++)Ot=at(U,Y[Bt],rt),Ot!==null&&(H=y(Ot,H,Bt),te===null?Tt=Ot:te.sibling=Ot,te=Ot);return fe&&Ar(U,Bt),Tt}for(Ot=d(Ot);Bt<Y.length;Bt++)hn=Q(Ot,U,Bt,Y[Bt],rt),hn!==null&&(n&&hn.alternate!==null&&Ot.delete(hn.key===null?Bt:hn.key),H=y(hn,H,Bt),te===null?Tt=hn:te.sibling=hn,te=hn);return n&&Ot.forEach(function(Ra){return s(U,Ra)}),fe&&Ar(U,Bt),Tt}function kt(U,H,Y,rt){if(Y==null)throw Error(i(151));for(var Tt=null,te=null,Ot=H,Bt=H=0,hn=null,ge=Y.next();Ot!==null&&!ge.done;Bt++,ge=Y.next()){Ot.index>Bt?(hn=Ot,Ot=null):hn=Ot.sibling;var Ra=X(U,Ot,ge.value,rt);if(Ra===null){Ot===null&&(Ot=hn);break}n&&Ot&&Ra.alternate===null&&s(U,Ot),H=y(Ra,H,Bt),te===null?Tt=Ra:te.sibling=Ra,te=Ra,Ot=hn}if(ge.done)return l(U,Ot),fe&&Ar(U,Bt),Tt;if(Ot===null){for(;!ge.done;Bt++,ge=Y.next())ge=at(U,ge.value,rt),ge!==null&&(H=y(ge,H,Bt),te===null?Tt=ge:te.sibling=ge,te=ge);return fe&&Ar(U,Bt),Tt}for(Ot=d(Ot);!ge.done;Bt++,ge=Y.next())ge=Q(Ot,U,Bt,ge.value,rt),ge!==null&&(n&&ge.alternate!==null&&Ot.delete(ge.key===null?Bt:ge.key),H=y(ge,H,Bt),te===null?Tt=ge:te.sibling=ge,te=ge);return n&&Ot.forEach(function(yx){return s(U,yx)}),fe&&Ar(U,Bt),Tt}function Se(U,H,Y,rt){if(typeof Y=="object"&&Y!==null&&Y.type===S&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:t:{for(var Tt=Y.key;H!==null;){if(H.key===Tt){if(Tt=Y.type,Tt===S){if(H.tag===7){l(U,H.sibling),rt=g(H,Y.props.children),rt.return=U,U=rt;break t}}else if(H.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===q&&qv(Tt)===H.type){l(U,H.sibling),rt=g(H,Y.props),uu(rt,Y),rt.return=U,U=rt;break t}l(U,H);break}else s(U,H);H=H.sibling}Y.type===S?(rt=fs(Y.props.children,U.mode,rt,Y.key),rt.return=U,U=rt):(rt=sl(Y.type,Y.key,Y.props,null,U.mode,rt),uu(rt,Y),rt.return=U,U=rt)}return w(U);case _:t:{for(Tt=Y.key;H!==null;){if(H.key===Tt)if(H.tag===4&&H.stateNode.containerInfo===Y.containerInfo&&H.stateNode.implementation===Y.implementation){l(U,H.sibling),rt=g(H,Y.children||[]),rt.return=U,U=rt;break t}else{l(U,H);break}else s(U,H);H=H.sibling}rt=Hc(Y,U.mode,rt),rt.return=U,U=rt}return w(U);case q:return Tt=Y._init,Y=Tt(Y._payload),Se(U,H,Y,rt)}if(bt(Y))return $t(U,H,Y,rt);if(ht(Y)){if(Tt=ht(Y),typeof Tt!="function")throw Error(i(150));return Y=Tt.call(Y),kt(U,H,Y,rt)}if(typeof Y.then=="function")return Se(U,H,Mh(Y),rt);if(Y.$$typeof===L)return Se(U,H,ha(U,Y),rt);Lh(U,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,H!==null&&H.tag===6?(l(U,H.sibling),rt=g(H,Y),rt.return=U,U=rt):(l(U,H),rt=ca(Y,U.mode,rt),rt.return=U,U=rt),w(U)):l(U,H)}return function(U,H,Y,rt){try{cu=0;var Tt=Se(U,H,Y,rt);return pl=null,Tt}catch(Ot){if(Ot===pa||Ot===Cr)throw Ot;var te=Wn(29,Ot,null,U.mode);return te.lanes=rt,te.return=U,te}finally{}}}var gl=Yv(!0),Wv=Yv(!1),Yi=et(null),js=null;function ga(n){var s=n.alternate;K(an,an.current&1),K(Yi,n),js===null&&(s===null||It.current!==null||s.memoizedState!==null)&&(js=n)}function Xv(n){if(n.tag===22){if(K(an,an.current),K(Yi,n),js===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(js=n)}}else ma()}function ma(){K(an,an.current),K(Yi,Yi.current)}function Or(n){ot(Yi),js===n&&(js=null),ot(an)}var an=et(0);function Ph(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Bg(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Wp(n,s,l,d){s=n.memoizedState,l=l(d,s),l=l==null?s:p({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Xp={enqueueSetState:function(n,s,l){n=n._reactInternals;var d=xi(),g=st(d);g.payload=s,l!=null&&(g.callback=l),s=ft(n,g,d),s!==null&&(Ci(s,n,d),At(s,n,d))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var d=xi(),g=st(d);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=ft(n,g,d),s!==null&&(Ci(s,n,d),At(s,n,d))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=xi(),d=st(l);d.tag=2,s!=null&&(d.callback=s),s=ft(n,d,l),s!==null&&(Ci(s,n,l),At(s,n,l))}};function Kv(n,s,l,d,g,y,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,y,w):s.prototype&&s.prototype.isPureReactComponent?!gr(l,d)||!gr(g,y):!0}function Qv(n,s,l,d){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==n&&Xp.enqueueReplaceState(s,s.state,null)}function ho(n,s){var l=s;if("ref"in s){l={};for(var d in s)d!=="ref"&&(l[d]=s[d])}if(n=n.defaultProps){l===s&&(l=p({},l));for(var g in n)l[g]===void 0&&(l[g]=n[g])}return l}var Ih=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Zv(n){Ih(n)}function Jv(n){console.error(n)}function ty(n){Ih(n)}function kh(n,s){try{var l=n.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function ey(n,s,l){try{var d=n.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Kp(n,s,l){return l=st(l),l.tag=3,l.payload={element:null},l.callback=function(){kh(n,s)},l}function ny(n){return n=st(n),n.tag=3,n}function iy(n,s,l,d){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=d.value;n.payload=function(){return g(y)},n.callback=function(){ey(s,l,d)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){ey(s,l,d),typeof g!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var D=d.stack;this.componentDidCatch(d.value,{componentStack:D!==null?D:""})})}function yT(n,s,l,d,g){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=l.alternate,s!==null&&ao(s,l,g,!0),l=Yi.current,l!==null){switch(l.tag){case 13:return js===null?_g():l.alternate===null&&$e===0&&($e=3),l.flags&=-257,l.flags|=65536,l.lanes=g,d===Kc?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([d]):s.add(d),Eg(n,d,g)),!1;case 22:return l.flags|=65536,d===Kc?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([d]):l.add(d)),Eg(n,d,g)),!1}throw Error(i(435,l.tag))}return Eg(n,d,g),_g(),!1}if(fe)return s=Yi.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,d!==Is&&(n=Error(i(422),{cause:d}),Ai(qn(n,l)))):(d!==Is&&(s=Error(i(423),{cause:d}),Ai(qn(s,l))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,d=qn(d,l),g=Kp(n.stateNode,d,g),St(n,g),$e!==4&&($e=2)),!1;var y=Error(i(520),{cause:d});if(y=qn(y,l),bu===null?bu=[y]:bu.push(y),$e!==4&&($e=2),s===null)return!0;d=qn(d,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,n=g&-g,l.lanes|=n,n=Kp(l.stateNode,d,n),St(l,n),!1;case 1:if(s=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ea===null||!Ea.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=ny(g),iy(g,n,l,d),St(l,g),!1}l=l.return}while(l!==null);return!1}var sy=Error(i(461)),un=!1;function _n(n,s,l,d){s.child=n===null?Wv(s,null,l,d):gl(s,n.child,l,d)}function ry(n,s,l,d,g){l=l.render;var y=s.ref;if("ref"in d){var w={};for(var D in d)D!=="ref"&&(w[D]=d[D])}else w=d;return Sr(s),d=ui(n,s,l,w,y,g),D=sn(),n!==null&&!un?(In(n,s,g),Rr(n,s,g)):(fe&&D&&jc(s),s.flags|=1,_n(n,s,d,g),s.child)}function ay(n,s,l,d,g){if(n===null){var y=l.type;return typeof y=="function"&&!Fc(y)&&y.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=y,oy(n,s,y,d,g)):(n=sl(l.type,null,d,s,s.mode,g),n.ref=s.ref,n.return=s,s.child=n)}if(y=n.child,!sg(n,g)){var w=y.memoizedProps;if(l=l.compare,l=l!==null?l:gr,l(w,d)&&n.ref===s.ref)return Rr(n,s,g)}return s.flags|=1,n=hs(y,d),n.ref=s.ref,n.return=s,s.child=n}function oy(n,s,l,d,g){if(n!==null){var y=n.memoizedProps;if(gr(y,d)&&n.ref===s.ref)if(un=!1,s.pendingProps=d=y,sg(n,g))(n.flags&131072)!==0&&(un=!0);else return s.lanes=n.lanes,Rr(n,s,g)}return Qp(n,s,l,d,g)}function ly(n,s,l){var d=s.pendingProps,g=d.children,y=n!==null?n.memoizedState:null;if(d.mode==="hidden"){if((s.flags&128)!==0){if(d=y!==null?y.baseLanes|l:l,n!==null){for(g=s.child=n.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;s.childLanes=y&~d}else s.childLanes=0,s.child=null;return cy(n,s,d,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&rl(s,y!==null?y.cachePool:null),y!==null?be(s,y):Xt(),Xv(s);else return s.lanes=s.childLanes=536870912,cy(n,s,y!==null?y.baseLanes|l:l,l)}else y!==null?(rl(s,y.cachePool),be(s,y),ma(),s.memoizedState=null):(n!==null&&rl(s,null),Xt(),ma());return _n(n,s,g,l),s.child}function cy(n,s,l,d){var g=Xc();return g=g===null?null:{parent:ze._currentValue,pool:g},s.memoizedState={baseLanes:l,cachePool:g},n!==null&&rl(s,null),Xt(),Xv(s),n!==null&&ao(n,s,d,!0),null}function Bh(n,s){var l=s.ref;if(l===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(s.flags|=4194816)}}function Qp(n,s,l,d,g){return Sr(s),l=ui(n,s,l,d,void 0,g),d=sn(),n!==null&&!un?(In(n,s,g),Rr(n,s,g)):(fe&&d&&jc(s),s.flags|=1,_n(n,s,l,g),s.child)}function uy(n,s,l,d,g,y){return Sr(s),s.updateQueue=null,l=Ve(s,d,l,g),Dr(n),d=sn(),n!==null&&!un?(In(n,s,y),Rr(n,s,y)):(fe&&d&&jc(s),s.flags|=1,_n(n,s,l,y),s.child)}function dy(n,s,l,d,g){if(Sr(s),s.stateNode===null){var y=la,w=l.contextType;typeof w=="object"&&w!==null&&(y=en(w)),y=new l(d,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Xp,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=d,y.state=s.memoizedState,y.refs={},z(s),w=l.contextType,y.context=typeof w=="object"&&w!==null?en(w):la,y.state=s.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(Wp(s,l,w,d),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&Xp.enqueueReplaceState(y,y.state,null),Mt(s,d,y,g),Ut(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(n===null){y=s.stateNode;var D=s.memoizedProps,k=ho(l,D);y.props=k;var W=y.context,it=l.contextType;w=la,typeof it=="object"&&it!==null&&(w=en(it));var at=l.getDerivedStateFromProps;it=typeof at=="function"||typeof y.getSnapshotBeforeUpdate=="function",D=s.pendingProps!==D,it||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(D||W!==w)&&Qv(s,y,d,w),j=!1;var X=s.memoizedState;y.state=X,Mt(s,d,y,g),Ut(),W=s.memoizedState,D||X!==W||j?(typeof at=="function"&&(Wp(s,l,at,d),W=s.memoizedState),(k=j||Kv(s,l,k,d,X,W,w))?(it||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=W),y.props=d,y.state=W,y.context=w,d=k):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{y=s.stateNode,J(n,s),w=s.memoizedProps,it=ho(l,w),y.props=it,at=s.pendingProps,X=y.context,W=l.contextType,k=la,typeof W=="object"&&W!==null&&(k=en(W)),D=l.getDerivedStateFromProps,(W=typeof D=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==at||X!==k)&&Qv(s,y,d,k),j=!1,X=s.memoizedState,y.state=X,Mt(s,d,y,g),Ut();var Q=s.memoizedState;w!==at||X!==Q||j||n!==null&&n.dependencies!==null&&oo(n.dependencies)?(typeof D=="function"&&(Wp(s,l,D,d),Q=s.memoizedState),(it=j||Kv(s,l,it,d,X,Q,k)||n!==null&&n.dependencies!==null&&oo(n.dependencies))?(W||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,Q,k),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,Q,k)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===n.memoizedProps&&X===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&X===n.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=Q),y.props=d,y.state=Q,y.context=k,d=it):(typeof y.componentDidUpdate!="function"||w===n.memoizedProps&&X===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&X===n.memoizedState||(s.flags|=1024),d=!1)}return y=d,Bh(n,s),d=(s.flags&128)!==0,y||d?(y=s.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,n!==null&&d?(s.child=gl(s,n.child,null,g),s.child=gl(s,null,l,g)):_n(n,s,l,g),s.memoizedState=y.state,n=s.child):n=Rr(n,s,g),n}function hy(n,s,l,d){return ro(),s.flags|=256,_n(n,s,l,d),s.child}var Zp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jp(n){return{baseLanes:n,cachePool:Eh()}}function tg(n,s,l){return n=n!==null?n.childLanes&~l:0,s&&(n|=Wi),n}function fy(n,s,l){var d=s.pendingProps,g=!1,y=(s.flags&128)!==0,w;if((w=y)||(w=n!==null&&n.memoizedState===null?!1:(an.current&2)!==0),w&&(g=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,n===null){if(fe){if(g?ga(s):ma(),fe){var D=De,k;if(k=D){t:{for(k=D,D=Vi;k.nodeType!==8;){if(!D){D=null;break t}if(k=ys(k.nextSibling),k===null){D=null;break t}}D=k}D!==null?(s.memoizedState={dehydrated:D,treeContext:_r!==null?{id:ps,overflow:yn}:null,retryLane:536870912,hydrationErrors:null},k=Wn(18,null,null,0),k.stateNode=D,k.return=s,s.child=k,Ze=s,De=null,k=!0):k=!1}k||gs(s)}if(D=s.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return Bg(D)?s.lanes=32:s.lanes=536870912,null;Or(s)}return D=d.children,d=d.fallback,g?(ma(),g=s.mode,D=Fh({mode:"hidden",children:D},g),d=fs(d,g,l,null),D.return=s,d.return=s,D.sibling=d,s.child=D,g=s.child,g.memoizedState=Jp(l),g.childLanes=tg(n,w,l),s.memoizedState=Zp,d):(ga(s),eg(s,D))}if(k=n.memoizedState,k!==null&&(D=k.dehydrated,D!==null)){if(y)s.flags&256?(ga(s),s.flags&=-257,s=ng(n,s,l)):s.memoizedState!==null?(ma(),s.child=n.child,s.flags|=128,s=null):(ma(),g=d.fallback,D=s.mode,d=Fh({mode:"visible",children:d.children},D),g=fs(g,D,l,null),g.flags|=2,d.return=s,g.return=s,d.sibling=g,s.child=d,gl(s,n.child,null,l),d=s.child,d.memoizedState=Jp(l),d.childLanes=tg(n,w,l),s.memoizedState=Zp,s=g);else if(ga(s),Bg(D)){if(w=D.nextSibling&&D.nextSibling.dataset,w)var W=w.dgst;w=W,d=Error(i(419)),d.stack="",d.digest=w,Ai({value:d,source:null,stack:null}),s=ng(n,s,l)}else if(un||ao(n,s,l,!1),w=(l&n.childLanes)!==0,un||w){if(w=Oe,w!==null&&(d=l&-l,d=(d&42)!==0?1:cc(d),d=(d&(w.suspendedLanes|l))!==0?0:d,d!==0&&d!==k.retryLane))throw k.retryLane=d,Mn(n,d),Ci(w,n,d),sy;D.data==="$?"||_g(),s=ng(n,s,l)}else D.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=k.treeContext,De=ys(D.nextSibling),Ze=s,fe=!0,Ps=null,Vi=!1,n!==null&&(Ln[ai++]=ps,Ln[ai++]=yn,Ln[ai++]=_r,ps=n.id,yn=n.overflow,_r=s),s=eg(s,d.children),s.flags|=4096);return s}return g?(ma(),g=d.fallback,D=s.mode,k=n.child,W=k.sibling,d=hs(k,{mode:"hidden",children:d.children}),d.subtreeFlags=k.subtreeFlags&65011712,W!==null?g=hs(W,g):(g=fs(g,D,l,null),g.flags|=2),g.return=s,d.return=s,d.sibling=g,s.child=d,d=g,g=s.child,D=n.child.memoizedState,D===null?D=Jp(l):(k=D.cachePool,k!==null?(W=ze._currentValue,k=k.parent!==W?{parent:W,pool:W}:k):k=Eh(),D={baseLanes:D.baseLanes|l,cachePool:k}),g.memoizedState=D,g.childLanes=tg(n,w,l),s.memoizedState=Zp,d):(ga(s),l=n.child,n=l.sibling,l=hs(l,{mode:"visible",children:d.children}),l.return=s,l.sibling=null,n!==null&&(w=s.deletions,w===null?(s.deletions=[n],s.flags|=16):w.push(n)),s.child=l,s.memoizedState=null,l)}function eg(n,s){return s=Fh({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Fh(n,s){return n=Wn(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function ng(n,s,l){return gl(s,n.child,null,l),n=eg(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function py(n,s,l){n.lanes|=s;var d=n.alternate;d!==null&&(d.lanes|=s),Gc(n.return,s,l)}function ig(n,s,l,d,g){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:g}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=g)}function gy(n,s,l){var d=s.pendingProps,g=d.revealOrder,y=d.tail;if(_n(n,s,d.children,l),d=an.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&py(n,l,s);else if(n.tag===19)py(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}switch(K(an,d),g){case"forwards":for(l=s.child,g=null;l!==null;)n=l.alternate,n!==null&&Ph(n)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),ig(s,!1,g,l,y);break;case"backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(n=g.alternate,n!==null&&Ph(n)===null){s.child=g;break}n=g.sibling,g.sibling=l,l=g,g=n}ig(s,!0,l,null,y);break;case"together":ig(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Rr(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),Aa|=s.lanes,(l&s.childLanes)===0)if(n!==null){if(ao(n,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,l=hs(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=hs(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function sg(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&oo(n)))}function _T(n,s,l){switch(s.tag){case 3:lt(s,s.stateNode.containerInfo),ks(s,ze,n.memoizedState.cache),ro();break;case 27:case 5:Wt(s);break;case 4:lt(s,s.stateNode.containerInfo);break;case 10:ks(s,s.type,s.memoizedProps.value);break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(ga(s),s.flags|=128,null):(l&s.child.childLanes)!==0?fy(n,s,l):(ga(s),n=Rr(n,s,l),n!==null?n.sibling:null);ga(s);break;case 19:var g=(n.flags&128)!==0;if(d=(l&s.childLanes)!==0,d||(ao(n,s,l,!1),d=(l&s.childLanes)!==0),g){if(d)return gy(n,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),K(an,an.current),d)break;return null;case 22:case 23:return s.lanes=0,ly(n,s,l);case 24:ks(s,ze,n.memoizedState.cache)}return Rr(n,s,l)}function my(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps)un=!0;else{if(!sg(n,l)&&(s.flags&128)===0)return un=!1,_T(n,s,l);un=(n.flags&131072)!==0}else un=!1,fe&&(s.flags&1048576)!==0&&bh(s,ua,s.index);switch(s.lanes=0,s.tag){case 16:t:{n=s.pendingProps;var d=s.elementType,g=d._init;if(d=g(d._payload),s.type=d,typeof d=="function")Fc(d)?(n=ho(d,n),s.tag=1,s=dy(null,s,d,n,l)):(s.tag=0,s=Qp(null,s,d,n,l));else{if(d!=null){if(g=d.$$typeof,g===P){s.tag=11,s=ry(null,s,d,n,l);break t}else if(g===F){s.tag=14,s=ay(null,s,d,n,l);break t}}throw s=Et(d)||d,Error(i(306,s,""))}}return s;case 0:return Qp(n,s,s.type,s.pendingProps,l);case 1:return d=s.type,g=ho(d,s.pendingProps),dy(n,s,d,g,l);case 3:t:{if(lt(s,s.stateNode.containerInfo),n===null)throw Error(i(387));d=s.pendingProps;var y=s.memoizedState;g=y.element,J(n,s),Mt(s,d,null,l);var w=s.memoizedState;if(d=w.cache,ks(s,ze,d),d!==y.cache&&Vc(s,[ze],l,!0),Ut(),d=w.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=hy(n,s,d,l);break t}else if(d!==g){g=qn(Error(i(424)),s),Ai(g),s=hy(n,s,d,l);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(De=ys(n.firstChild),Ze=s,fe=!0,Ps=null,Vi=!0,l=Wv(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ro(),d===g){s=Rr(n,s,l);break t}_n(n,s,d,l)}s=s.child}return s;case 26:return Bh(n,s),n===null?(l=__(s.type,null,s.pendingProps,null))?s.memoizedState=l:fe||(l=s.type,n=s.pendingProps,d=Zh(dt.current).createElement(l),d[cn]=s,d[Cn]=n,En(d,l,n),le(d),s.stateNode=d):s.memoizedState=__(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Wt(s),n===null&&fe&&(d=s.stateNode=b_(s.type,s.pendingProps,dt.current),Ze=s,Vi=!0,g=De,Ta(s.type)?(Fg=g,De=ys(d.firstChild)):De=g),_n(n,s,s.pendingProps.children,l),Bh(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&fe&&((g=d=De)&&(d=WT(d,s.type,s.pendingProps,Vi),d!==null?(s.stateNode=d,Ze=s,De=ys(d.firstChild),Vi=!1,g=!0):g=!1),g||gs(s)),Wt(s),g=s.type,y=s.pendingProps,w=n!==null?n.memoizedProps:null,d=y.children,Pg(g,y)?d=null:w!==null&&Pg(g,w)&&(s.flags|=32),s.memoizedState!==null&&(g=ui(n,s,ve,null,null,l),xu._currentValue=g),Bh(n,s),_n(n,s,d,l),s.child;case 6:return n===null&&fe&&((n=l=De)&&(l=XT(l,s.pendingProps,Vi),l!==null?(s.stateNode=l,Ze=s,De=null,n=!0):n=!1),n||gs(s)),null;case 13:return fy(n,s,l);case 4:return lt(s,s.stateNode.containerInfo),d=s.pendingProps,n===null?s.child=gl(s,null,d,l):_n(n,s,d,l),s.child;case 11:return ry(n,s,s.type,s.pendingProps,l);case 7:return _n(n,s,s.pendingProps,l),s.child;case 8:return _n(n,s,s.pendingProps.children,l),s.child;case 12:return _n(n,s,s.pendingProps.children,l),s.child;case 10:return d=s.pendingProps,ks(s,s.type,d.value),_n(n,s,d.children,l),s.child;case 9:return g=s.type._context,d=s.pendingProps.children,Sr(s),g=en(g),d=d(g),s.flags|=1,_n(n,s,d,l),s.child;case 14:return ay(n,s,s.type,s.pendingProps,l);case 15:return oy(n,s,s.type,s.pendingProps,l);case 19:return gy(n,s,l);case 31:return d=s.pendingProps,l=s.mode,d={mode:d.mode,children:d.children},n===null?(l=Fh(d,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=hs(n.child,d),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return ly(n,s,l);case 24:return Sr(s),d=en(ze),n===null?(g=Xc(),g===null&&(g=Oe,y=lo(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),s.memoizedState={parent:d,cache:g},z(s),ks(s,ze,g)):((n.lanes&l)!==0&&(J(n,s),Mt(s,null,null,l),Ut()),g=n.memoizedState,y=s.memoizedState,g.parent!==d?(g={parent:d,cache:d},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),ks(s,ze,d)):(d=y.cache,ks(s,ze,d),d!==g.cache&&Vc(s,[ze],l,!0))),_n(n,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Nr(n){n.flags|=4}function by(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!T_(s)){if(s=Yi.current,s!==null&&((ue&4194048)===ue?js!==null:(ue&62914560)!==ue&&(ue&536870912)===0||s!==js))throw b=Kc,co;n.flags|=8192}}function Hh(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Dd():536870912,n.lanes|=s,yl|=s)}function du(n,s){if(!fe)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function Fe(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,d=0;if(s)for(var g=n.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=d,n.childLanes=l,s}function AT(n,s,l){var d=s.pendingProps;switch(zc(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(s),null;case 1:return Fe(s),null;case 3:return l=s.stateNode,d=null,n!==null&&(d=n.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),bs(ze),Kt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(so(s)?Nr(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,da())),Fe(s),null;case 26:return l=s.memoizedState,n===null?(Nr(s),l!==null?(Fe(s),by(s,l)):(Fe(s),s.flags&=-16777217)):l?l!==n.memoizedState?(Nr(s),Fe(s),by(s,l)):(Fe(s),s.flags&=-16777217):(n.memoizedProps!==d&&Nr(s),Fe(s),s.flags&=-16777217),null;case 27:Re(s),l=dt.current;var g=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==d&&Nr(s);else{if(!d){if(s.stateNode===null)throw Error(i(166));return Fe(s),null}n=ct.current,so(s)?$c(s):(n=b_(g,d,l),s.stateNode=n,Nr(s))}return Fe(s),null;case 5:if(Re(s),l=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==d&&Nr(s);else{if(!d){if(s.stateNode===null)throw Error(i(166));return Fe(s),null}if(n=ct.current,so(s))$c(s);else{switch(g=Zh(dt.current),n){case 1:n=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:n=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":n=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":n=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":n=g.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?n.multiple=!0:d.size&&(n.size=d.size);break;default:n=typeof d.is=="string"?g.createElement(l,{is:d.is}):g.createElement(l)}}n[cn]=s,n[Cn]=d;t:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)n.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break t;for(;g.sibling===null;){if(g.return===null||g.return===s)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=n;t:switch(En(n,l,d),l){case"button":case"input":case"select":case"textarea":n=!!d.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Nr(s)}}return Fe(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==d&&Nr(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(i(166));if(n=dt.current,so(s)){if(n=s.stateNode,l=s.memoizedProps,d=null,g=Ze,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}n[cn]=s,n=!!(n.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||u_(n.nodeValue,l)),n||gs(s)}else n=Zh(n).createTextNode(d),n[cn]=s,s.stateNode=n}return Fe(s),null;case 13:if(d=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=so(s),d!==null&&d.dehydrated!==null){if(n===null){if(!g)throw Error(i(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[cn]=s}else ro(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Fe(s),g=!1}else g=da(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Or(s),s):(Or(s),null)}if(Or(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=d!==null,n=n!==null&&n.memoizedState!==null,l){d=s.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var y=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==g&&(d.flags|=2048)}return l!==n&&l&&(s.child.flags|=8192),Hh(s,s.updateQueue),Fe(s),null;case 4:return Kt(),n===null&&Og(s.stateNode.containerInfo),Fe(s),null;case 10:return bs(s.type),Fe(s),null;case 19:if(ot(an),g=s.memoizedState,g===null)return Fe(s),null;if(d=(s.flags&128)!==0,y=g.rendering,y===null)if(d)du(g,!1);else{if($e!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(y=Ph(n),y!==null){for(s.flags|=128,du(g,!1),n=y.updateQueue,s.updateQueue=n,Hh(s,n),s.subtreeFlags=0,n=l,l=s.child;l!==null;)mh(l,n),l=l.sibling;return K(an,an.current&1|2),s.child}n=n.sibling}g.tail!==null&&Ce()>$h&&(s.flags|=128,d=!0,du(g,!1),s.lanes=4194304)}else{if(!d)if(n=Ph(y),n!==null){if(s.flags|=128,d=!0,n=n.updateQueue,s.updateQueue=n,Hh(s,n),du(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!fe)return Fe(s),null}else 2*Ce()-g.renderingStartTime>$h&&l!==536870912&&(s.flags|=128,d=!0,du(g,!1),s.lanes=4194304);g.isBackwards?(y.sibling=s.child,s.child=y):(n=g.last,n!==null?n.sibling=y:s.child=y,g.last=y)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Ce(),s.sibling=null,n=an.current,K(an,d?n&1|2:n&1),s):(Fe(s),null);case 22:case 23:return Or(s),oe(),d=s.memoizedState!==null,n!==null?n.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(l&536870912)!==0&&(s.flags&128)===0&&(Fe(s),s.subtreeFlags&6&&(s.flags|=8192)):Fe(s),l=s.updateQueue,l!==null&&Hh(s,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==l&&(s.flags|=2048),n!==null&&ot(xr),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),bs(ze),Fe(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function ET(n,s){switch(zc(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return bs(ze),Kt(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Re(s),null;case 13:if(Or(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));ro()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ot(an),null;case 4:return Kt(),null;case 10:return bs(s.type),null;case 22:case 23:return Or(s),oe(),n!==null&&ot(xr),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return bs(ze),null;case 25:return null;default:return null}}function vy(n,s){switch(zc(s),s.tag){case 3:bs(ze),Kt();break;case 26:case 27:case 5:Re(s);break;case 4:Kt();break;case 13:Or(s);break;case 19:ot(an);break;case 10:bs(s.type);break;case 22:case 23:Or(s),oe(),n!==null&&ot(xr);break;case 24:bs(ze)}}function hu(n,s){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var g=d.next;l=g;do{if((l.tag&n)===n){d=void 0;var y=l.create,w=l.inst;d=y(),w.destroy=d}l=l.next}while(l!==g)}}catch(D){xe(s,s.return,D)}}function ba(n,s,l){try{var d=s.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var y=g.next;d=y;do{if((d.tag&n)===n){var w=d.inst,D=w.destroy;if(D!==void 0){w.destroy=void 0,g=s;var k=l,W=D;try{W()}catch(it){xe(g,k,it)}}}d=d.next}while(d!==y)}}catch(it){xe(s,s.return,it)}}function yy(n){var s=n.updateQueue;if(s!==null){var l=n.stateNode;try{Ht(s,l)}catch(d){xe(n,n.return,d)}}}function _y(n,s,l){l.props=ho(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(d){xe(n,s,d)}}function fu(n,s){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var d=n.stateNode;break;case 30:d=n.stateNode;break;default:d=n.stateNode}typeof l=="function"?n.refCleanup=l(d):l.current=d}}catch(g){xe(n,s,g)}}function zs(n,s){var l=n.ref,d=n.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(g){xe(n,s,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){xe(n,s,g)}else l.current=null}function Ay(n){var s=n.type,l=n.memoizedProps,d=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break t;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(g){xe(n,n.return,g)}}function rg(n,s,l){try{var d=n.stateNode;UT(d,n.type,l,s),d[Cn]=s}catch(g){xe(n,n.return,g)}}function Ey(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ta(n.type)||n.tag===4}function ag(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Ey(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ta(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function og(n,s,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(n),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Qh));else if(d!==4&&(d===27&&Ta(n.type)&&(l=n.stateNode,s=null),n=n.child,n!==null))for(og(n,s,l),n=n.sibling;n!==null;)og(n,s,l),n=n.sibling}function jh(n,s,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(d!==4&&(d===27&&Ta(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(jh(n,s,l),n=n.sibling;n!==null;)jh(n,s,l),n=n.sibling}function Sy(n){var s=n.stateNode,l=n.memoizedProps;try{for(var d=n.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);En(s,d,l),s[cn]=n,s[Cn]=l}catch(y){xe(n,n.return,y)}}var Mr=!1,qe=!1,lg=!1,wy=typeof WeakSet=="function"?WeakSet:Set,dn=null;function ST(n,s){if(n=n.containerInfo,Mg=rf,n=Dc(n),tl(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else t:{l=(l=n.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var g=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break t}var w=0,D=-1,k=-1,W=0,it=0,at=n,X=null;e:for(;;){for(var Q;at!==l||g!==0&&at.nodeType!==3||(D=w+g),at!==y||d!==0&&at.nodeType!==3||(k=w+d),at.nodeType===3&&(w+=at.nodeValue.length),(Q=at.firstChild)!==null;)X=at,at=Q;for(;;){if(at===n)break e;if(X===l&&++W===g&&(D=w),X===y&&++it===d&&(k=w),(Q=at.nextSibling)!==null)break;at=X,X=at.parentNode}at=Q}l=D===-1||k===-1?null:{start:D,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(Lg={focusedElem:n,selectionRange:l},rf=!1,dn=s;dn!==null;)if(s=dn,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,dn=n;else for(;dn!==null;){switch(s=dn,y=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,l=s,g=y.memoizedProps,y=y.memoizedState,d=l.stateNode;try{var $t=ho(l.type,g,l.elementType===l.type);n=d.getSnapshotBeforeUpdate($t,y),d.__reactInternalSnapshotBeforeUpdate=n}catch(kt){xe(l,l.return,kt)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,l=n.nodeType,l===9)kg(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":kg(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,dn=n;break}dn=s.return}}function Ty(n,s,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:va(n,l),d&4&&hu(5,l);break;case 1:if(va(n,l),d&4)if(n=l.stateNode,s===null)try{n.componentDidMount()}catch(w){xe(l,l.return,w)}else{var g=ho(l.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(g,s,n.__reactInternalSnapshotBeforeUpdate)}catch(w){xe(l,l.return,w)}}d&64&&yy(l),d&512&&fu(l,l.return);break;case 3:if(va(n,l),d&64&&(n=l.updateQueue,n!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Ht(n,s)}catch(w){xe(l,l.return,w)}}break;case 27:s===null&&d&4&&Sy(l);case 26:case 5:va(n,l),s===null&&d&4&&Ay(l),d&512&&fu(l,l.return);break;case 12:va(n,l);break;case 13:va(n,l),d&4&&Dy(n,l),d&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=MT.bind(null,l),KT(n,l))));break;case 22:if(d=l.memoizedState!==null||Mr,!d){s=s!==null&&s.memoizedState!==null||qe,g=Mr;var y=qe;Mr=d,(qe=s)&&!y?ya(n,l,(l.subtreeFlags&8772)!==0):va(n,l),Mr=g,qe=y}break;case 30:break;default:va(n,l)}}function xy(n){var s=n.alternate;s!==null&&(n.alternate=null,xy(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&fc(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Le=null,di=!1;function Lr(n,s,l){for(l=l.child;l!==null;)Cy(n,s,l),l=l.sibling}function Cy(n,s,l){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(bi,l)}catch{}switch(l.tag){case 26:qe||zs(l,s),Lr(n,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:qe||zs(l,s);var d=Le,g=di;Ta(l.type)&&(Le=l.stateNode,di=!1),Lr(n,s,l),Eu(l.stateNode),Le=d,di=g;break;case 5:qe||zs(l,s);case 6:if(d=Le,g=di,Le=null,Lr(n,s,l),Le=d,di=g,Le!==null)if(di)try{(Le.nodeType===9?Le.body:Le.nodeName==="HTML"?Le.ownerDocument.body:Le).removeChild(l.stateNode)}catch(y){xe(l,s,y)}else try{Le.removeChild(l.stateNode)}catch(y){xe(l,s,y)}break;case 18:Le!==null&&(di?(n=Le,g_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),Ru(n)):g_(Le,l.stateNode));break;case 4:d=Le,g=di,Le=l.stateNode.containerInfo,di=!0,Lr(n,s,l),Le=d,di=g;break;case 0:case 11:case 14:case 15:qe||ba(2,l,s),qe||ba(4,l,s),Lr(n,s,l);break;case 1:qe||(zs(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"&&_y(l,s,d)),Lr(n,s,l);break;case 21:Lr(n,s,l);break;case 22:qe=(d=qe)||l.memoizedState!==null,Lr(n,s,l),qe=d;break;default:Lr(n,s,l)}}function Dy(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ru(n)}catch(l){xe(s,s.return,l)}}function wT(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new wy),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new wy),s;default:throw Error(i(435,n.tag))}}function cg(n,s){var l=wT(n);s.forEach(function(d){var g=LT.bind(null,n,d);l.has(d)||(l.add(d),d.then(g,g))})}function Si(n,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var g=l[d],y=n,w=s,D=w;t:for(;D!==null;){switch(D.tag){case 27:if(Ta(D.type)){Le=D.stateNode,di=!1;break t}break;case 5:Le=D.stateNode,di=!1;break t;case 3:case 4:Le=D.stateNode.containerInfo,di=!0;break t}D=D.return}if(Le===null)throw Error(i(160));Cy(y,w,g),Le=null,di=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Oy(s,n),s=s.sibling}var vs=null;function Oy(n,s){var l=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Si(s,n),wi(n),d&4&&(ba(3,n,n.return),hu(3,n),ba(5,n,n.return));break;case 1:Si(s,n),wi(n),d&512&&(qe||l===null||zs(l,l.return)),d&64&&Mr&&(n=n.updateQueue,n!==null&&(d=n.callbacks,d!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var g=vs;if(Si(s,n),wi(n),d&512&&(qe||l===null||zs(l,l.return)),d&4){var y=l!==null?l.memoizedState:null;if(d=n.memoizedState,l===null)if(d===null)if(n.stateNode===null){t:{d=n.type,l=n.memoizedProps,g=g.ownerDocument||g;e:switch(d){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Ts]||y[cn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(d),g.head.insertBefore(y,g.querySelector("head > title"))),En(y,d,l),y[cn]=n,le(y),d=y;break t;case"link":var w=S_("link","href",g).get(d+(l.href||""));if(w){for(var D=0;D<w.length;D++)if(y=w[D],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){w.splice(D,1);break e}}y=g.createElement(d),En(y,d,l),g.head.appendChild(y);break;case"meta":if(w=S_("meta","content",g).get(d+(l.content||""))){for(D=0;D<w.length;D++)if(y=w[D],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){w.splice(D,1);break e}}y=g.createElement(d),En(y,d,l),g.head.appendChild(y);break;default:throw Error(i(468,d))}y[cn]=n,le(y),d=y}n.stateNode=d}else w_(g,n.type,n.stateNode);else n.stateNode=E_(g,d,n.memoizedProps);else y!==d?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,d===null?w_(g,n.type,n.stateNode):E_(g,d,n.memoizedProps)):d===null&&n.stateNode!==null&&rg(n,n.memoizedProps,l.memoizedProps)}break;case 27:Si(s,n),wi(n),d&512&&(qe||l===null||zs(l,l.return)),l!==null&&d&4&&rg(n,n.memoizedProps,l.memoizedProps);break;case 5:if(Si(s,n),wi(n),d&512&&(qe||l===null||zs(l,l.return)),n.flags&32){g=n.stateNode;try{yi(g,"")}catch(Q){xe(n,n.return,Q)}}d&4&&n.stateNode!=null&&(g=n.memoizedProps,rg(n,g,l!==null?l.memoizedProps:g)),d&1024&&(lg=!0);break;case 6:if(Si(s,n),wi(n),d&4){if(n.stateNode===null)throw Error(i(162));d=n.memoizedProps,l=n.stateNode;try{l.nodeValue=d}catch(Q){xe(n,n.return,Q)}}break;case 3:if(ef=null,g=vs,vs=Jh(s.containerInfo),Si(s,n),vs=g,wi(n),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Ru(s.containerInfo)}catch(Q){xe(n,n.return,Q)}lg&&(lg=!1,Ry(n));break;case 4:d=vs,vs=Jh(n.stateNode.containerInfo),Si(s,n),wi(n),vs=d;break;case 12:Si(s,n),wi(n);break;case 13:Si(s,n),wi(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(gg=Ce()),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,cg(n,d)));break;case 22:g=n.memoizedState!==null;var k=l!==null&&l.memoizedState!==null,W=Mr,it=qe;if(Mr=W||g,qe=it||k,Si(s,n),qe=it,Mr=W,wi(n),d&8192)t:for(s=n.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||k||Mr||qe||fo(n)),l=null,s=n;;){if(s.tag===5||s.tag===26){if(l===null){k=l=s;try{if(y=k.stateNode,g)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{D=k.stateNode;var at=k.memoizedProps.style,X=at!=null&&at.hasOwnProperty("display")?at.display:null;D.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Q){xe(k,k.return,Q)}}}else if(s.tag===6){if(l===null){k=s;try{k.stateNode.nodeValue=g?"":k.memoizedProps}catch(Q){xe(k,k.return,Q)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=n.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,cg(n,l))));break;case 19:Si(s,n),wi(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,cg(n,d)));break;case 30:break;case 21:break;default:Si(s,n),wi(n)}}function wi(n){var s=n.flags;if(s&2){try{for(var l,d=n.return;d!==null;){if(Ey(d)){l=d;break}d=d.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,y=ag(n);jh(n,y,g);break;case 5:var w=l.stateNode;l.flags&32&&(yi(w,""),l.flags&=-33);var D=ag(n);jh(n,D,w);break;case 3:case 4:var k=l.stateNode.containerInfo,W=ag(n);og(n,W,k);break;default:throw Error(i(161))}}catch(it){xe(n,n.return,it)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Ry(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Ry(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function va(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Ty(n,s.alternate,s),s=s.sibling}function fo(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:ba(4,s,s.return),fo(s);break;case 1:zs(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&_y(s,s.return,l),fo(s);break;case 27:Eu(s.stateNode);case 26:case 5:zs(s,s.return),fo(s);break;case 22:s.memoizedState===null&&fo(s);break;case 30:fo(s);break;default:fo(s)}n=n.sibling}}function ya(n,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,g=n,y=s,w=y.flags;switch(y.tag){case 0:case 11:case 15:ya(g,y,l),hu(4,y);break;case 1:if(ya(g,y,l),d=y,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(W){xe(d,d.return,W)}if(d=y,g=d.updateQueue,g!==null){var D=d.stateNode;try{var k=g.shared.hiddenCallbacks;if(k!==null)for(g.shared.hiddenCallbacks=null,g=0;g<k.length;g++)Gt(k[g],D)}catch(W){xe(d,d.return,W)}}l&&w&64&&yy(y),fu(y,y.return);break;case 27:Sy(y);case 26:case 5:ya(g,y,l),l&&d===null&&w&4&&Ay(y),fu(y,y.return);break;case 12:ya(g,y,l);break;case 13:ya(g,y,l),l&&w&4&&Dy(g,y);break;case 22:y.memoizedState===null&&ya(g,y,l),fu(y,y.return);break;case 30:break;default:ya(g,y,l)}s=s.sibling}}function ug(n,s){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&fa(l))}function dg(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&fa(n))}function $s(n,s,l,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ny(n,s,l,d),s=s.sibling}function Ny(n,s,l,d){var g=s.flags;switch(s.tag){case 0:case 11:case 15:$s(n,s,l,d),g&2048&&hu(9,s);break;case 1:$s(n,s,l,d);break;case 3:$s(n,s,l,d),g&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&fa(n)));break;case 12:if(g&2048){$s(n,s,l,d),n=s.stateNode;try{var y=s.memoizedProps,w=y.id,D=y.onPostCommit;typeof D=="function"&&D(w,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(k){xe(s,s.return,k)}}else $s(n,s,l,d);break;case 13:$s(n,s,l,d);break;case 23:break;case 22:y=s.stateNode,w=s.alternate,s.memoizedState!==null?y._visibility&2?$s(n,s,l,d):pu(n,s):y._visibility&2?$s(n,s,l,d):(y._visibility|=2,ml(n,s,l,d,(s.subtreeFlags&10256)!==0)),g&2048&&ug(w,s);break;case 24:$s(n,s,l,d),g&2048&&dg(s.alternate,s);break;default:$s(n,s,l,d)}}function ml(n,s,l,d,g){for(g=g&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=n,w=s,D=l,k=d,W=w.flags;switch(w.tag){case 0:case 11:case 15:ml(y,w,D,k,g),hu(8,w);break;case 23:break;case 22:var it=w.stateNode;w.memoizedState!==null?it._visibility&2?ml(y,w,D,k,g):pu(y,w):(it._visibility|=2,ml(y,w,D,k,g)),g&&W&2048&&ug(w.alternate,w);break;case 24:ml(y,w,D,k,g),g&&W&2048&&dg(w.alternate,w);break;default:ml(y,w,D,k,g)}s=s.sibling}}function pu(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=n,d=s,g=d.flags;switch(d.tag){case 22:pu(l,d),g&2048&&ug(d.alternate,d);break;case 24:pu(l,d),g&2048&&dg(d.alternate,d);break;default:pu(l,d)}s=s.sibling}}var gu=8192;function bl(n){if(n.subtreeFlags&gu)for(n=n.child;n!==null;)My(n),n=n.sibling}function My(n){switch(n.tag){case 26:bl(n),n.flags&gu&&n.memoizedState!==null&&cx(vs,n.memoizedState,n.memoizedProps);break;case 5:bl(n);break;case 3:case 4:var s=vs;vs=Jh(n.stateNode.containerInfo),bl(n),vs=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=gu,gu=16777216,bl(n),gu=s):bl(n));break;default:bl(n)}}function Ly(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function mu(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var d=s[l];dn=d,Iy(d,n)}Ly(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Py(n),n=n.sibling}function Py(n){switch(n.tag){case 0:case 11:case 15:mu(n),n.flags&2048&&ba(9,n,n.return);break;case 3:mu(n);break;case 12:mu(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,zh(n)):mu(n);break;default:mu(n)}}function zh(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var d=s[l];dn=d,Iy(d,n)}Ly(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:ba(8,s,s.return),zh(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,zh(s));break;default:zh(s)}n=n.sibling}}function Iy(n,s){for(;dn!==null;){var l=dn;switch(l.tag){case 0:case 11:case 15:ba(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:fa(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,dn=d;else t:for(l=n;dn!==null;){d=dn;var g=d.sibling,y=d.return;if(xy(d),d===l){dn=null;break t}if(g!==null){g.return=y,dn=g;break t}dn=y}}}var TT={getCacheForType:function(n){var s=en(ze),l=s.data.get(n);return l===void 0&&(l=n(),s.data.set(n,l)),l}},xT=typeof WeakMap=="function"?WeakMap:Map,ye=0,Oe=null,ee=null,ue=0,_e=0,Ti=null,_a=!1,vl=!1,hg=!1,Pr=0,$e=0,Aa=0,po=0,fg=0,Wi=0,yl=0,bu=null,hi=null,pg=!1,gg=0,$h=1/0,Uh=null,Ea=null,An=0,Sa=null,_l=null,Al=0,mg=0,bg=null,ky=null,vu=0,vg=null;function xi(){if((ye&2)!==0&&ue!==0)return ue&-ue;if(B.T!==null){var n=oi;return n!==0?n:Tg()}return Nd()}function By(){Wi===0&&(Wi=(ue&536870912)===0||fe?Cd():536870912);var n=Yi.current;return n!==null&&(n.flags|=32),Wi}function Ci(n,s,l){(n===Oe&&(_e===2||_e===9)||n.cancelPendingCommit!==null)&&(El(n,0),wa(n,ue,Wi,!1)),ws(n,l),((ye&2)===0||n!==Oe)&&(n===Oe&&((ye&2)===0&&(po|=l),$e===4&&wa(n,ue,Wi,!1)),Us(n))}function Fy(n,s,l){if((ye&6)!==0)throw Error(i(327));var d=!l&&(s&124)===0&&(s&n.expiredLanes)===0||Ga(n,s),g=d?OT(n,s):Ag(n,s,!0),y=d;do{if(g===0){vl&&!d&&wa(n,s,0,!1);break}else{if(l=n.current.alternate,y&&!CT(l)){g=Ag(n,s,!1),y=!1;continue}if(g===2){if(y=s,n.errorRecoveryDisabledLanes&y)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;t:{var D=n;g=bu;var k=D.current.memoizedState.isDehydrated;if(k&&(El(D,w).flags|=256),w=Ag(D,w,!1),w!==2){if(hg&&!k){D.errorRecoveryDisabledLanes|=y,po|=y,g=4;break t}y=hi,hi=g,y!==null&&(hi===null?hi=y:hi.push.apply(hi,y))}g=w}if(y=!1,g!==2)continue}}if(g===1){El(n,0),wa(n,s,0,!0);break}t:{switch(d=n,y=g,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:wa(d,s,Wi,!_a);break t;case 2:hi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(g=gg+300-Ce(),10<g)){if(wa(d,s,Wi,!_a),jo(d,0,!0)!==0)break t;d.timeoutHandle=f_(Hy.bind(null,d,l,hi,Uh,pg,s,Wi,po,yl,_a,y,2,-0,0),g);break t}Hy(d,l,hi,Uh,pg,s,Wi,po,yl,_a,y,0,-0,0)}}break}while(!0);Us(n)}function Hy(n,s,l,d,g,y,w,D,k,W,it,at,X,Q){if(n.timeoutHandle=-1,at=s.subtreeFlags,(at&8192||(at&16785408)===16785408)&&(Tu={stylesheets:null,count:0,unsuspend:lx},My(s),at=ux(),at!==null)){n.cancelPendingCommit=at(qy.bind(null,n,s,y,l,d,g,w,D,k,it,1,X,Q)),wa(n,y,w,!W);return}qy(n,s,y,l,d,g,w,D,k)}function CT(n){for(var s=n;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var g=l[d],y=g.getSnapshot;g=g.value;try{if(!Nn(y(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function wa(n,s,l,d){s&=~fg,s&=~po,n.suspendedLanes|=s,n.pingedLanes&=~s,d&&(n.warmLanes|=s),d=n.expirationTimes;for(var g=s;0<g;){var y=31-Me(g),w=1<<y;d[y]=-1,g&=~w}l!==0&&lc(n,l,s)}function Gh(){return(ye&6)===0?(yu(0),!1):!0}function yg(){if(ee!==null){if(_e===0)var n=ee.return;else n=ee,ms=Er=null,qi(n),pl=null,cu=0,n=ee;for(;n!==null;)vy(n.alternate,n),n=n.return;ee=null}}function El(n,s){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,VT(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),yg(),Oe=n,ee=l=hs(n.current,null),ue=s,_e=0,Ti=null,_a=!1,vl=Ga(n,s),hg=!1,yl=Wi=fg=po=Aa=$e=0,hi=bu=null,pg=!1,(s&8)!==0&&(s|=s&32);var d=n.entangledLanes;if(d!==0)for(n=n.entanglements,d&=s;0<d;){var g=31-Me(d),y=1<<g;s|=n[g],d&=~y}return Pr=s,el(),l}function jy(n,s){_t=null,B.H=Nh,s===pa||s===Cr?(s=A(),_e=3):s===co?(s=A(),_e=4):_e=s===sy?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ti=s,ee===null&&($e=1,kh(n,qn(s,n.current)))}function zy(){var n=B.H;return B.H=Nh,n===null?Nh:n}function $y(){var n=B.A;return B.A=TT,n}function _g(){$e=4,_a||(ue&4194048)!==ue&&Yi.current!==null||(vl=!0),(Aa&134217727)===0&&(po&134217727)===0||Oe===null||wa(Oe,ue,Wi,!1)}function Ag(n,s,l){var d=ye;ye|=2;var g=zy(),y=$y();(Oe!==n||ue!==s)&&(Uh=null,El(n,s)),s=!1;var w=$e;t:do try{if(_e!==0&&ee!==null){var D=ee,k=Ti;switch(_e){case 8:yg(),w=6;break t;case 3:case 2:case 9:case 6:Yi.current===null&&(s=!0);var W=_e;if(_e=0,Ti=null,Sl(n,D,k,W),l&&vl){w=0;break t}break;default:W=_e,_e=0,Ti=null,Sl(n,D,k,W)}}DT(),w=$e;break}catch(it){jy(n,it)}while(!0);return s&&n.shellSuspendCounter++,ms=Er=null,ye=d,B.H=g,B.A=y,ee===null&&(Oe=null,ue=0,el()),w}function DT(){for(;ee!==null;)Uy(ee)}function OT(n,s){var l=ye;ye|=2;var d=zy(),g=$y();Oe!==n||ue!==s?(Uh=null,$h=Ce()+500,El(n,s)):vl=Ga(n,s);t:do try{if(_e!==0&&ee!==null){s=ee;var y=Ti;e:switch(_e){case 1:_e=0,Ti=null,Sl(n,s,y,1);break;case 2:case 9:if(Sh(y)){_e=0,Ti=null,Gy(s);break}s=function(){_e!==2&&_e!==9||Oe!==n||(_e=7),Us(n)},y.then(s,s);break t;case 3:_e=7;break t;case 4:_e=5;break t;case 7:Sh(y)?(_e=0,Ti=null,Gy(s)):(_e=0,Ti=null,Sl(n,s,y,7));break;case 5:var w=null;switch(ee.tag){case 26:w=ee.memoizedState;case 5:case 27:var D=ee;if(!w||T_(w)){_e=0,Ti=null;var k=D.sibling;if(k!==null)ee=k;else{var W=D.return;W!==null?(ee=W,Vh(W)):ee=null}break e}}_e=0,Ti=null,Sl(n,s,y,5);break;case 6:_e=0,Ti=null,Sl(n,s,y,6);break;case 8:yg(),$e=6;break t;default:throw Error(i(462))}}RT();break}catch(it){jy(n,it)}while(!0);return ms=Er=null,B.H=d,B.A=g,ye=l,ee!==null?0:(Oe=null,ue=0,el(),$e)}function RT(){for(;ee!==null&&!he();)Uy(ee)}function Uy(n){var s=my(n.alternate,n,Pr);n.memoizedProps=n.pendingProps,s===null?Vh(n):ee=s}function Gy(n){var s=n,l=s.alternate;switch(s.tag){case 15:case 0:s=uy(l,s,s.pendingProps,s.type,void 0,ue);break;case 11:s=uy(l,s,s.pendingProps,s.type.render,s.ref,ue);break;case 5:qi(s);default:vy(l,s),s=ee=mh(s,Pr),s=my(l,s,Pr)}n.memoizedProps=n.pendingProps,s===null?Vh(n):ee=s}function Sl(n,s,l,d){ms=Er=null,qi(s),pl=null,cu=0;var g=s.return;try{if(yT(n,g,s,l,ue)){$e=1,kh(n,qn(l,n.current)),ee=null;return}}catch(y){if(g!==null)throw ee=g,y;$e=1,kh(n,qn(l,n.current)),ee=null;return}s.flags&32768?(fe||d===1?n=!0:vl||(ue&536870912)!==0?n=!1:(_a=n=!0,(d===2||d===9||d===3||d===6)&&(d=Yi.current,d!==null&&d.tag===13&&(d.flags|=16384))),Vy(s,n)):Vh(s)}function Vh(n){var s=n;do{if((s.flags&32768)!==0){Vy(s,_a);return}n=s.return;var l=AT(s.alternate,s,Pr);if(l!==null){ee=l;return}if(s=s.sibling,s!==null){ee=s;return}ee=s=n}while(s!==null);$e===0&&($e=5)}function Vy(n,s){do{var l=ET(n.alternate,n);if(l!==null){l.flags&=32767,ee=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(n=n.sibling,n!==null)){ee=n;return}ee=n=l}while(n!==null);$e=6,ee=null}function qy(n,s,l,d,g,y,w,D,k){n.cancelPendingCommit=null;do qh();while(An!==0);if((ye&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=Ic,Od(n,l,y,w,D,k),n===Oe&&(ee=Oe=null,ue=0),_l=s,Sa=n,Al=l,mg=y,bg=g,ky=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,PT(xn,function(){return Qy(),null})):(n.callbackNode=null,n.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=B.T,B.T=null,g=G.p,G.p=2,w=ye,ye|=4;try{ST(n,s,l)}finally{ye=w,G.p=g,B.T=d}}An=1,Yy(),Wy(),Xy()}}function Yy(){if(An===1){An=0;var n=Sa,s=_l,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=B.T,B.T=null;var d=G.p;G.p=2;var g=ye;ye|=4;try{Oy(s,n);var y=Lg,w=Dc(n.containerInfo),D=y.focusedElem,k=y.selectionRange;if(w!==D&&D&&D.ownerDocument&&uh(D.ownerDocument.documentElement,D)){if(k!==null&&tl(D)){var W=k.start,it=k.end;if(it===void 0&&(it=W),"selectionStart"in D)D.selectionStart=W,D.selectionEnd=Math.min(it,D.value.length);else{var at=D.ownerDocument||document,X=at&&at.defaultView||window;if(X.getSelection){var Q=X.getSelection(),$t=D.textContent.length,kt=Math.min(k.start,$t),Se=k.end===void 0?kt:Math.min(k.end,$t);!Q.extend&&kt>Se&&(w=Se,Se=kt,kt=w);var U=ch(D,kt),H=ch(D,Se);if(U&&H&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==H.node||Q.focusOffset!==H.offset)){var Y=at.createRange();Y.setStart(U.node,U.offset),Q.removeAllRanges(),kt>Se?(Q.addRange(Y),Q.extend(H.node,H.offset)):(Y.setEnd(H.node,H.offset),Q.addRange(Y))}}}}for(at=[],Q=D;Q=Q.parentNode;)Q.nodeType===1&&at.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<at.length;D++){var rt=at[D];rt.element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}}rf=!!Mg,Lg=Mg=null}finally{ye=g,G.p=d,B.T=l}}n.current=s,An=2}}function Wy(){if(An===2){An=0;var n=Sa,s=_l,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=B.T,B.T=null;var d=G.p;G.p=2;var g=ye;ye|=4;try{Ty(n,s.alternate,s)}finally{ye=g,G.p=d,B.T=l}}An=3}}function Xy(){if(An===4||An===3){An=0,se();var n=Sa,s=_l,l=Al,d=ky;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?An=5:(An=0,_l=Sa=null,Ky(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(Ea=null),uc(l),s=s.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(bi,s,void 0,(s.current.flags&128)===128)}catch{}if(d!==null){s=B.T,g=G.p,G.p=2,B.T=null;try{for(var y=n.onRecoverableError,w=0;w<d.length;w++){var D=d[w];y(D.value,{componentStack:D.stack})}}finally{B.T=s,G.p=g}}(Al&3)!==0&&qh(),Us(n),g=n.pendingLanes,(l&4194090)!==0&&(g&42)!==0?n===vg?vu++:(vu=0,vg=n):vu=0,yu(0)}}function Ky(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,fa(s)))}function qh(n){return Yy(),Wy(),Xy(),Qy()}function Qy(){if(An!==5)return!1;var n=Sa,s=mg;mg=0;var l=uc(Al),d=B.T,g=G.p;try{G.p=32>l?32:l,B.T=null,l=bg,bg=null;var y=Sa,w=Al;if(An=0,_l=Sa=null,Al=0,(ye&6)!==0)throw Error(i(331));var D=ye;if(ye|=4,Py(y.current),Ny(y,y.current,w,l),ye=D,yu(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(bi,y)}catch{}return!0}finally{G.p=g,B.T=d,Ky(n,s)}}function Zy(n,s,l){s=qn(l,s),s=Kp(n.stateNode,s,2),n=ft(n,s,2),n!==null&&(ws(n,2),Us(n))}function xe(n,s,l){if(n.tag===3)Zy(n,n,l);else for(;s!==null;){if(s.tag===3){Zy(s,n,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ea===null||!Ea.has(d))){n=qn(l,n),l=ny(2),d=ft(s,l,2),d!==null&&(iy(l,d,s,n),ws(d,2),Us(d));break}}s=s.return}}function Eg(n,s,l){var d=n.pingCache;if(d===null){d=n.pingCache=new xT;var g=new Set;d.set(s,g)}else g=d.get(s),g===void 0&&(g=new Set,d.set(s,g));g.has(l)||(hg=!0,g.add(l),n=NT.bind(null,n,s,l),s.then(n,n))}function NT(n,s,l){var d=n.pingCache;d!==null&&d.delete(s),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Oe===n&&(ue&l)===l&&($e===4||$e===3&&(ue&62914560)===ue&&300>Ce()-gg?(ye&2)===0&&El(n,0):fg|=l,yl===ue&&(yl=0)),Us(n)}function Jy(n,s){s===0&&(s=Dd()),n=Mn(n,s),n!==null&&(ws(n,s),Us(n))}function MT(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),Jy(n,l)}function LT(n,s){var l=0;switch(n.tag){case 13:var d=n.stateNode,g=n.memoizedState;g!==null&&(l=g.retryLane);break;case 19:d=n.stateNode;break;case 22:d=n.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(s),Jy(n,l)}function PT(n,s){return Zt(n,s)}var Yh=null,wl=null,Sg=!1,Wh=!1,wg=!1,go=0;function Us(n){n!==wl&&n.next===null&&(wl===null?Yh=wl=n:wl=wl.next=n),Wh=!0,Sg||(Sg=!0,kT())}function yu(n,s){if(!wg&&Wh){wg=!0;do for(var l=!1,d=Yh;d!==null;){if(n!==0){var g=d.pendingLanes;if(g===0)var y=0;else{var w=d.suspendedLanes,D=d.pingedLanes;y=(1<<31-Me(42|n)+1)-1,y&=g&~(w&~D),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,i_(d,y))}else y=ue,y=jo(d,d===Oe?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||Ga(d,y)||(l=!0,i_(d,y));d=d.next}while(l);wg=!1}}function IT(){t_()}function t_(){Wh=Sg=!1;var n=0;go!==0&&(GT()&&(n=go),go=0);for(var s=Ce(),l=null,d=Yh;d!==null;){var g=d.next,y=e_(d,s);y===0?(d.next=null,l===null?Yh=g:l.next=g,g===null&&(wl=l)):(l=d,(n!==0||(y&3)!==0)&&(Wh=!0)),d=g}yu(n)}function e_(n,s){for(var l=n.suspendedLanes,d=n.pingedLanes,g=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var w=31-Me(y),D=1<<w,k=g[w];k===-1?((D&l)===0||(D&d)!==0)&&(g[w]=wp(D,s)):k<=s&&(n.expiredLanes|=D),y&=~D}if(s=Oe,l=ue,l=jo(n,n===s?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d=n.callbackNode,l===0||n===s&&(_e===2||_e===9)||n.cancelPendingCommit!==null)return d!==null&&d!==null&&Jt(d),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Ga(n,l)){if(s=l&-l,s===n.callbackPriority)return s;switch(d!==null&&Jt(d),uc(l)){case 2:case 8:l=Tn;break;case 32:l=xn;break;case 268435456:l=er;break;default:l=xn}return d=n_.bind(null,n),l=Zt(l,d),n.callbackPriority=s,n.callbackNode=l,s}return d!==null&&d!==null&&Jt(d),n.callbackPriority=2,n.callbackNode=null,2}function n_(n,s){if(An!==0&&An!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(qh()&&n.callbackNode!==l)return null;var d=ue;return d=jo(n,n===Oe?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d===0?null:(Fy(n,d,s),e_(n,Ce()),n.callbackNode!=null&&n.callbackNode===l?n_.bind(null,n):null)}function i_(n,s){if(qh())return null;Fy(n,s,!0)}function kT(){qT(function(){(ye&6)!==0?Zt(ii,IT):t_()})}function Tg(){return go===0&&(go=Cd()),go}function s_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:qo(""+n)}function r_(n,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,n.id&&l.setAttribute("form",n.id),s.parentNode.insertBefore(l,s),n=new FormData(n),l.parentNode.removeChild(l),n}function BT(n,s,l,d,g){if(s==="submit"&&l&&l.stateNode===g){var y=s_((g[Cn]||null).action),w=d.submitter;w&&(s=(s=w[Cn]||null)?s_(s.formAction):w.getAttribute("formAction"),s!==null&&(y=s,w=null));var D=new ta("action","action",null,d,g);n.push({event:D,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(go!==0){var k=w?r_(g,w):new FormData(g);Vp(l,{pending:!0,data:k,method:g.method,action:y},null,k)}}else typeof y=="function"&&(D.preventDefault(),k=w?r_(g,w):new FormData(g),Vp(l,{pending:!0,data:k,method:g.method,action:y},y,k))},currentTarget:g}]})}}for(var xg=0;xg<Pc.length;xg++){var Cg=Pc[xg],FT=Cg.toLowerCase(),HT=Cg[0].toUpperCase()+Cg.slice(1);_i(FT,"on"+HT)}_i(Ms,"onAnimationEnd"),_i(Gi,"onAnimationIteration"),_i(Nc,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(Hp,"onTransitionRun"),_i(fh,"onTransitionStart"),_i(ph,"onTransitionCancel"),_i(Mc,"onTransitionEnd"),os("onMouseEnter",["mouseout","mouseover"]),os("onMouseLeave",["mouseout","mouseover"]),os("onPointerEnter",["pointerout","pointerover"]),os("onPointerLeave",["pointerout","pointerover"]),ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_u));function a_(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var d=n[l],g=d.event;d=d.listeners;t:{var y=void 0;if(s)for(var w=d.length-1;0<=w;w--){var D=d[w],k=D.instance,W=D.currentTarget;if(D=D.listener,k!==y&&g.isPropagationStopped())break t;y=D,g.currentTarget=W;try{y(g)}catch(it){Ih(it)}g.currentTarget=null,y=k}else for(w=0;w<d.length;w++){if(D=d[w],k=D.instance,W=D.currentTarget,D=D.listener,k!==y&&g.isPropagationStopped())break t;y=D,g.currentTarget=W;try{y(g)}catch(it){Ih(it)}g.currentTarget=null,y=k}}}}function ne(n,s){var l=s[dc];l===void 0&&(l=s[dc]=new Set);var d=n+"__bubble";l.has(d)||(o_(s,n,2,!1),l.add(d))}function Dg(n,s,l){var d=0;s&&(d|=4),o_(l,n,d,s)}var Xh="_reactListening"+Math.random().toString(36).slice(2);function Og(n){if(!n[Xh]){n[Xh]=!0,Dn.forEach(function(l){l!=="selectionchange"&&(jT.has(l)||Dg(l,!1,n),Dg(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Xh]||(s[Xh]=!0,Dg("selectionchange",!1,s))}}function o_(n,s,l,d){switch(N_(s)){case 2:var g=fx;break;case 8:g=px;break;default:g=Ug}l=g.bind(null,s,l,n),g=void 0,!Os||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),d?g!==void 0?n.addEventListener(s,l,{capture:!0,passive:g}):n.addEventListener(s,l,!0):g!==void 0?n.addEventListener(s,l,{passive:g}):n.addEventListener(s,l,!1)}function Rg(n,s,l,d,g){var y=d;if((s&1)===0&&(s&2)===0&&d!==null)t:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var D=d.stateNode.containerInfo;if(D===g)break;if(w===4)for(w=d.return;w!==null;){var k=w.tag;if((k===3||k===4)&&w.stateNode.containerInfo===g)return;w=w.return}for(;D!==null;){if(w=xs(D),w===null)return;if(k=w.tag,k===5||k===6||k===26||k===27){d=y=w;continue t}D=D.parentNode}}d=d.return}yc(function(){var W=y,it=Zr(l),at=[];t:{var X=Lc.get(n);if(X!==void 0){var Q=ta,$t=n;switch(n){case"keypress":if(Xo(l)===0)break t;case"keydown":case"keyup":Q=qd;break;case"focusin":$t="focus",Q=Ko;break;case"focusout":$t="blur",Q=Ko;break;case"beforeblur":case"afterblur":Q=Ko;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Fd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Op;break;case Ms:case Gi:case Nc:Q=zd;break;case Mc:Q=Rp;break;case"scroll":case"scrollend":Q=Bd;break;case"wheel":Q=Mp;break;case"copy":case"cut":case"paste":Q=$d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Rs;break;case"toggle":case"beforetoggle":Q=Xd}var kt=(s&4)!==0,Se=!kt&&(n==="scroll"||n==="scrollend"),U=kt?X!==null?X+"Capture":null:X;kt=[];for(var H=W,Y;H!==null;){var rt=H;if(Y=rt.stateNode,rt=rt.tag,rt!==5&&rt!==26&&rt!==27||Y===null||U===null||(rt=Jr(H,U),rt!=null&&kt.push(Au(H,rt,Y))),Se)break;H=H.return}0<kt.length&&(X=new Q(X,$t,null,l,it),at.push({event:X,listeners:kt}))}}if((s&7)===0){t:{if(X=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",X&&l!==ji&&($t=l.relatedTarget||l.fromElement)&&(xs($t)||$t[Wr]))break t;if((Q||X)&&(X=it.window===it?it:(X=it.ownerDocument)?X.defaultView||X.parentWindow:window,Q?($t=l.relatedTarget||l.toElement,Q=W,$t=$t?xs($t):null,$t!==null&&(Se=o($t),kt=$t.tag,$t!==Se||kt!==5&&kt!==27&&kt!==6)&&($t=null)):(Q=null,$t=W),Q!==$t)){if(kt=fr,rt="onMouseLeave",U="onMouseEnter",H="mouse",(n==="pointerout"||n==="pointerover")&&(kt=Rs,rt="onPointerLeave",U="onPointerEnter",H="pointer"),Se=Q==null?X:Va(Q),Y=$t==null?X:Va($t),X=new kt(rt,H+"leave",Q,l,it),X.target=Se,X.relatedTarget=Y,rt=null,xs(it)===W&&(kt=new kt(U,H+"enter",$t,l,it),kt.target=Y,kt.relatedTarget=Se,rt=kt),Se=rt,Q&&$t)e:{for(kt=Q,U=$t,H=0,Y=kt;Y;Y=Tl(Y))H++;for(Y=0,rt=U;rt;rt=Tl(rt))Y++;for(;0<H-Y;)kt=Tl(kt),H--;for(;0<Y-H;)U=Tl(U),Y--;for(;H--;){if(kt===U||U!==null&&kt===U.alternate)break e;kt=Tl(kt),U=Tl(U)}kt=null}else kt=null;Q!==null&&l_(at,X,Q,kt,!1),$t!==null&&Se!==null&&l_(at,Se,$t,kt,!0)}}t:{if(X=W?Va(W):window,Q=X.nodeName&&X.nodeName.toLowerCase(),Q==="select"||Q==="input"&&X.type==="file")var Tt=ih;else if(eh(X))if(Tc)Tt=lh;else{Tt=ah;var te=Bp}else Q=X.nodeName,!Q||Q.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?W&&Ka(W.elementType)&&(Tt=ih):Tt=oh;if(Tt&&(Tt=Tt(n,W))){ri(at,Tt,l,it);break t}te&&te(n,X,W),n==="focusout"&&W&&X.type==="number"&&W.memoizedProps.value!=null&&Wa(X,"number",X.value)}switch(te=W?Va(W):window,n){case"focusin":(eh(te)||te.contentEditable==="true")&&(aa=te,Oc=W,no=null);break;case"focusout":no=Oc=aa=null;break;case"mousedown":Rc=!0;break;case"contextmenu":case"mouseup":case"dragend":Rc=!1,dh(at,l,it);break;case"selectionchange":if(Fp)break;case"keydown":case"keyup":dh(at,l,it)}var Ot;if(wc)t:{switch(n){case"compositionstart":var Bt="onCompositionStart";break t;case"compositionend":Bt="onCompositionEnd";break t;case"compositionupdate":Bt="onCompositionUpdate";break t}Bt=void 0}else na?Jd(n,l)&&(Bt="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Bt="onCompositionStart");Bt&&(Qd&&l.locale!=="ko"&&(na||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&na&&(Ot=Wo()):(us=it,Za="value"in us?us.value:us.textContent,na=!0)),te=Kh(W,Bt),0<te.length&&(Bt=new Ud(Bt,n,null,l,it),at.push({event:Bt,listeners:te}),Ot?Bt.data=Ot:(Ot=th(l),Ot!==null&&(Bt.data=Ot)))),(Ot=pr?Pp(n,l):Ip(n,l))&&(Bt=Kh(W,"onBeforeInput"),0<Bt.length&&(te=new Ud("onBeforeInput","beforeinput",null,l,it),at.push({event:te,listeners:Bt}),te.data=Ot)),BT(at,n,W,l,it)}a_(at,s)})}function Au(n,s,l){return{instance:n,listener:s,currentTarget:l}}function Kh(n,s){for(var l=s+"Capture",d=[];n!==null;){var g=n,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Jr(n,l),g!=null&&d.unshift(Au(n,g,y)),g=Jr(n,s),g!=null&&d.push(Au(n,g,y))),n.tag===3)return d;n=n.return}return[]}function Tl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function l_(n,s,l,d,g){for(var y=s._reactName,w=[];l!==null&&l!==d;){var D=l,k=D.alternate,W=D.stateNode;if(D=D.tag,k!==null&&k===d)break;D!==5&&D!==26&&D!==27||W===null||(k=W,g?(W=Jr(l,y),W!=null&&w.unshift(Au(l,W,k))):g||(W=Jr(l,y),W!=null&&w.push(Au(l,W,k)))),l=l.return}w.length!==0&&n.push({event:s,listeners:w})}var zT=/\r\n?/g,$T=/\u0000|\uFFFD/g;function c_(n){return(typeof n=="string"?n:""+n).replace(zT,`
`).replace($T,"")}function u_(n,s){return s=c_(s),c_(n)===s}function Qh(){}function Ee(n,s,l,d,g,y){switch(l){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||yi(n,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&yi(n,""+d);break;case"className":ls(n,"class",d);break;case"tabIndex":ls(n,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ls(n,l,d);break;case"style":ar(n,d,y);break;case"data":if(s!=="object"){ls(n,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||l!=="href")){n.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(l);break}d=qo(""+d),n.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(s!=="input"&&Ee(n,s,"name",g.name,g,null),Ee(n,s,"formEncType",g.formEncType,g,null),Ee(n,s,"formMethod",g.formMethod,g,null),Ee(n,s,"formTarget",g.formTarget,g,null)):(Ee(n,s,"encType",g.encType,g,null),Ee(n,s,"method",g.method,g,null),Ee(n,s,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(l);break}d=qo(""+d),n.setAttribute(l,d);break;case"onClick":d!=null&&(n.onclick=Qh);break;case"onScroll":d!=null&&ne("scroll",n);break;case"onScrollEnd":d!=null&&ne("scrollend",n);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(g.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":n.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){n.removeAttribute("xlink:href");break}l=qo(""+d),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(l,""+d):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":d===!0?n.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(l,d):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?n.setAttribute(l,d):n.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?n.removeAttribute(l):n.setAttribute(l,d);break;case"popover":ne("beforetoggle",n),ne("toggle",n),Qr(n,"popover",d);break;case"xlinkActuate":Hi(n,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Hi(n,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Hi(n,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Hi(n,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Hi(n,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Hi(n,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Hi(n,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Hi(n,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Hi(n,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Qr(n,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Id.get(l)||l,Qr(n,l,d))}}function Ng(n,s,l,d,g,y){switch(l){case"style":ar(n,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(g.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof d=="string"?yi(n,d):(typeof d=="number"||typeof d=="bigint")&&yi(n,""+d);break;case"onScroll":d!=null&&ne("scroll",n);break;case"onScrollEnd":d!=null&&ne("scrollend",n);break;case"onClick":d!=null&&(n.onclick=Qh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!On.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),y=n[Cn]||null,y=y!=null?y[l]:null,typeof y=="function"&&n.removeEventListener(s,y,g),typeof d=="function")){typeof y!="function"&&y!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(s,d,g);break t}l in n?n[l]=d:d===!0?n.setAttribute(l,""):Qr(n,l,d)}}}function En(n,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ne("error",n),ne("load",n);var d=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var w=l[y];if(w!=null)switch(y){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ee(n,s,y,w,l,null)}}g&&Ee(n,s,"srcSet",l.srcSet,l,null),d&&Ee(n,s,"src",l.src,l,null);return;case"input":ne("invalid",n);var D=y=w=g=null,k=null,W=null;for(d in l)if(l.hasOwnProperty(d)){var it=l[d];if(it!=null)switch(d){case"name":g=it;break;case"type":w=it;break;case"checked":k=it;break;case"defaultChecked":W=it;break;case"value":y=it;break;case"defaultValue":D=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(i(137,s));break;default:Ee(n,s,d,it,l,null)}}Vo(n,y,D,k,W,w,g,!1),Ya(n);return;case"select":ne("invalid",n),d=w=y=null;for(g in l)if(l.hasOwnProperty(g)&&(D=l[g],D!=null))switch(g){case"value":y=D;break;case"defaultValue":w=D;break;case"multiple":d=D;default:Ee(n,s,g,D,l,null)}s=y,l=w,n.multiple=!!d,s!=null?bn(n,!!d,s,!1):l!=null&&bn(n,!!d,l,!0);return;case"textarea":ne("invalid",n),y=g=d=null;for(w in l)if(l.hasOwnProperty(w)&&(D=l[w],D!=null))switch(w){case"value":d=D;break;case"defaultValue":g=D;break;case"children":y=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(91));break;default:Ee(n,s,w,D,l,null)}Xa(n,d,g,y),Ya(n);return;case"option":for(k in l)if(l.hasOwnProperty(k)&&(d=l[k],d!=null))switch(k){case"selected":n.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Ee(n,s,k,d,l,null)}return;case"dialog":ne("beforetoggle",n),ne("toggle",n),ne("cancel",n),ne("close",n);break;case"iframe":case"object":ne("load",n);break;case"video":case"audio":for(d=0;d<_u.length;d++)ne(_u[d],n);break;case"image":ne("error",n),ne("load",n);break;case"details":ne("toggle",n);break;case"embed":case"source":case"link":ne("error",n),ne("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in l)if(l.hasOwnProperty(W)&&(d=l[W],d!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ee(n,s,W,d,l,null)}return;default:if(Ka(s)){for(it in l)l.hasOwnProperty(it)&&(d=l[it],d!==void 0&&Ng(n,s,it,d,l,void 0));return}}for(D in l)l.hasOwnProperty(D)&&(d=l[D],d!=null&&Ee(n,s,D,d,l,null))}function UT(n,s,l,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,w=null,D=null,k=null,W=null,it=null;for(Q in l){var at=l[Q];if(l.hasOwnProperty(Q)&&at!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":k=at;default:d.hasOwnProperty(Q)||Ee(n,s,Q,null,d,at)}}for(var X in d){var Q=d[X];if(at=l[X],d.hasOwnProperty(X)&&(Q!=null||at!=null))switch(X){case"type":y=Q;break;case"name":g=Q;break;case"checked":W=Q;break;case"defaultChecked":it=Q;break;case"value":w=Q;break;case"defaultValue":D=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,s));break;default:Q!==at&&Ee(n,s,X,Q,d,at)}}Rn(n,w,D,k,W,it,y,g);return;case"select":Q=w=D=X=null;for(y in l)if(k=l[y],l.hasOwnProperty(y)&&k!=null)switch(y){case"value":break;case"multiple":Q=k;default:d.hasOwnProperty(y)||Ee(n,s,y,null,d,k)}for(g in d)if(y=d[g],k=l[g],d.hasOwnProperty(g)&&(y!=null||k!=null))switch(g){case"value":X=y;break;case"defaultValue":D=y;break;case"multiple":w=y;default:y!==k&&Ee(n,s,g,y,d,k)}s=D,l=w,d=Q,X!=null?bn(n,!!l,X,!1):!!d!=!!l&&(s!=null?bn(n,!!l,s,!0):bn(n,!!l,l?[]:"",!1));return;case"textarea":Q=X=null;for(D in l)if(g=l[D],l.hasOwnProperty(D)&&g!=null&&!d.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Ee(n,s,D,null,d,g)}for(w in d)if(g=d[w],y=l[w],d.hasOwnProperty(w)&&(g!=null||y!=null))switch(w){case"value":X=g;break;case"defaultValue":Q=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==y&&Ee(n,s,w,g,d,y)}Ds(n,X,Q);return;case"option":for(var $t in l)if(X=l[$t],l.hasOwnProperty($t)&&X!=null&&!d.hasOwnProperty($t))switch($t){case"selected":n.selected=!1;break;default:Ee(n,s,$t,null,d,X)}for(k in d)if(X=d[k],Q=l[k],d.hasOwnProperty(k)&&X!==Q&&(X!=null||Q!=null))switch(k){case"selected":n.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:Ee(n,s,k,X,d,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var kt in l)X=l[kt],l.hasOwnProperty(kt)&&X!=null&&!d.hasOwnProperty(kt)&&Ee(n,s,kt,null,d,X);for(W in d)if(X=d[W],Q=l[W],d.hasOwnProperty(W)&&X!==Q&&(X!=null||Q!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:Ee(n,s,W,X,d,Q)}return;default:if(Ka(s)){for(var Se in l)X=l[Se],l.hasOwnProperty(Se)&&X!==void 0&&!d.hasOwnProperty(Se)&&Ng(n,s,Se,void 0,d,X);for(it in d)X=d[it],Q=l[it],!d.hasOwnProperty(it)||X===Q||X===void 0&&Q===void 0||Ng(n,s,it,X,d,Q);return}}for(var U in l)X=l[U],l.hasOwnProperty(U)&&X!=null&&!d.hasOwnProperty(U)&&Ee(n,s,U,null,d,X);for(at in d)X=d[at],Q=l[at],!d.hasOwnProperty(at)||X===Q||X==null&&Q==null||Ee(n,s,at,X,d,Q)}var Mg=null,Lg=null;function Zh(n){return n.nodeType===9?n:n.ownerDocument}function d_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h_(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Pg(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ig=null;function GT(){var n=window.event;return n&&n.type==="popstate"?n===Ig?!1:(Ig=n,!0):(Ig=null,!1)}var f_=typeof setTimeout=="function"?setTimeout:void 0,VT=typeof clearTimeout=="function"?clearTimeout:void 0,p_=typeof Promise=="function"?Promise:void 0,qT=typeof queueMicrotask=="function"?queueMicrotask:typeof p_<"u"?function(n){return p_.resolve(null).then(n).catch(YT)}:f_;function YT(n){setTimeout(function(){throw n})}function Ta(n){return n==="head"}function g_(n,s){var l=s,d=0,g=0;do{var y=l.nextSibling;if(n.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<d&&8>d){l=d;var w=n.ownerDocument;if(l&1&&Eu(w.documentElement),l&2&&Eu(w.body),l&4)for(l=w.head,Eu(l),w=l.firstChild;w;){var D=w.nextSibling,k=w.nodeName;w[Ts]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=D}}if(g===0){n.removeChild(y),Ru(s);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:d=l.charCodeAt(0)-48;else d=0;l=y}while(l);Ru(s)}function kg(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":kg(l),fc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function WT(n,s,l,d){for(;n.nodeType===1;){var g=l;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(d){if(!n[Ts])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=ys(n.nextSibling),n===null)break}return null}function XT(n,s,l){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=ys(n.nextSibling),n===null))return null;return n}function Bg(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function KT(n,s){var l=n.ownerDocument;if(n.data!=="$?"||l.readyState==="complete")s();else{var d=function(){s(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),n._reactRetry=d}}function ys(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var Fg=null;function m_(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return n;s--}else l==="/$"&&s++}n=n.previousSibling}return null}function b_(n,s,l){switch(s=Zh(l),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function Eu(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);fc(n)}var Xi=new Map,v_=new Set;function Jh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ir=G.d;G.d={f:QT,r:ZT,D:JT,C:tx,L:ex,m:nx,X:sx,S:ix,M:rx};function QT(){var n=Ir.f(),s=Gh();return n||s}function ZT(n){var s=Xr(n);s!==null&&s.tag===5&&s.type==="form"?Fv(s):Ir.r(n)}var xl=typeof document>"u"?null:document;function y_(n,s,l){var d=xl;if(d&&typeof s=="string"&&s){var g=Qe(s);g='link[rel="'+n+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),v_.has(g)||(v_.add(g),n={rel:n,crossOrigin:l,href:s},d.querySelector(g)===null&&(s=d.createElement("link"),En(s,"link",n),le(s),d.head.appendChild(s)))}}function JT(n){Ir.D(n),y_("dns-prefetch",n,null)}function tx(n,s){Ir.C(n,s),y_("preconnect",n,s)}function ex(n,s,l){Ir.L(n,s,l);var d=xl;if(d&&n&&s){var g='link[rel="preload"][as="'+Qe(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Qe(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Qe(l.imageSizes)+'"]')):g+='[href="'+Qe(n)+'"]';var y=g;switch(s){case"style":y=Cl(n);break;case"script":y=Dl(n)}Xi.has(y)||(n=p({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:n,as:s},l),Xi.set(y,n),d.querySelector(g)!==null||s==="style"&&d.querySelector(Su(y))||s==="script"&&d.querySelector(wu(y))||(s=d.createElement("link"),En(s,"link",n),le(s),d.head.appendChild(s)))}}function nx(n,s){Ir.m(n,s);var l=xl;if(l&&n){var d=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+Qe(d)+'"][href="'+Qe(n)+'"]',y=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Dl(n)}if(!Xi.has(y)&&(n=p({rel:"modulepreload",href:n},s),Xi.set(y,n),l.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(wu(y)))return}d=l.createElement("link"),En(d,"link",n),le(d),l.head.appendChild(d)}}}function ix(n,s,l){Ir.S(n,s,l);var d=xl;if(d&&n){var g=vi(d).hoistableStyles,y=Cl(n);s=s||"default";var w=g.get(y);if(!w){var D={loading:0,preload:null};if(w=d.querySelector(Su(y)))D.loading=5;else{n=p({rel:"stylesheet",href:n,"data-precedence":s},l),(l=Xi.get(y))&&Hg(n,l);var k=w=d.createElement("link");le(k),En(k,"link",n),k._p=new Promise(function(W,it){k.onload=W,k.onerror=it}),k.addEventListener("load",function(){D.loading|=1}),k.addEventListener("error",function(){D.loading|=2}),D.loading|=4,tf(w,s,d)}w={type:"stylesheet",instance:w,count:1,state:D},g.set(y,w)}}}function sx(n,s){Ir.X(n,s);var l=xl;if(l&&n){var d=vi(l).hoistableScripts,g=Dl(n),y=d.get(g);y||(y=l.querySelector(wu(g)),y||(n=p({src:n,async:!0},s),(s=Xi.get(g))&&jg(n,s),y=l.createElement("script"),le(y),En(y,"link",n),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(g,y))}}function rx(n,s){Ir.M(n,s);var l=xl;if(l&&n){var d=vi(l).hoistableScripts,g=Dl(n),y=d.get(g);y||(y=l.querySelector(wu(g)),y||(n=p({src:n,async:!0,type:"module"},s),(s=Xi.get(g))&&jg(n,s),y=l.createElement("script"),le(y),En(y,"link",n),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(g,y))}}function __(n,s,l,d){var g=(g=dt.current)?Jh(g):null;if(!g)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Cl(l.href),l=vi(g).hoistableStyles,d=l.get(s),d||(d={type:"style",instance:null,count:0,state:null},l.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=Cl(l.href);var y=vi(g).hoistableStyles,w=y.get(n);if(w||(g=g.ownerDocument||g,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,w),(y=g.querySelector(Su(n)))&&!y._p&&(w.instance=y,w.state.loading=5),Xi.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Xi.set(n,l),y||ax(g,n,l,w.state))),s&&d===null)throw Error(i(528,""));return w}if(s&&d!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Dl(l),l=vi(g).hoistableScripts,d=l.get(s),d||(d={type:"script",instance:null,count:0,state:null},l.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Cl(n){return'href="'+Qe(n)+'"'}function Su(n){return'link[rel="stylesheet"]['+n+"]"}function A_(n){return p({},n,{"data-precedence":n.precedence,precedence:null})}function ax(n,s,l,d){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=n.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),En(s,"link",l),le(s),n.head.appendChild(s))}function Dl(n){return'[src="'+Qe(n)+'"]'}function wu(n){return"script[async]"+n}function E_(n,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var d=n.querySelector('style[data-href~="'+Qe(l.href)+'"]');if(d)return s.instance=d,le(d),d;var g=p({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(n.ownerDocument||n).createElement("style"),le(d),En(d,"style",g),tf(d,l.precedence,n),s.instance=d;case"stylesheet":g=Cl(l.href);var y=n.querySelector(Su(g));if(y)return s.state.loading|=4,s.instance=y,le(y),y;d=A_(l),(g=Xi.get(g))&&Hg(d,g),y=(n.ownerDocument||n).createElement("link"),le(y);var w=y;return w._p=new Promise(function(D,k){w.onload=D,w.onerror=k}),En(y,"link",d),s.state.loading|=4,tf(y,l.precedence,n),s.instance=y;case"script":return y=Dl(l.src),(g=n.querySelector(wu(y)))?(s.instance=g,le(g),g):(d=l,(g=Xi.get(y))&&(d=p({},l),jg(d,g)),n=n.ownerDocument||n,g=n.createElement("script"),le(g),En(g,"link",d),n.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,tf(d,l.precedence,n));return s.instance}function tf(n,s,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,y=g,w=0;w<d.length;w++){var D=d[w];if(D.dataset.precedence===s)y=D;else if(y!==g)break}y?y.parentNode.insertBefore(n,y.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(n,s.firstChild))}function Hg(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function jg(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var ef=null;function S_(n,s,l){if(ef===null){var d=new Map,g=ef=new Map;g.set(l,d)}else g=ef,d=g.get(l),d||(d=new Map,g.set(l,d));if(d.has(n))return d;for(d.set(n,null),l=l.getElementsByTagName(n),g=0;g<l.length;g++){var y=l[g];if(!(y[Ts]||y[cn]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(s)||"";w=n+w;var D=d.get(w);D?D.push(y):d.set(w,[y])}}return d}function w_(n,s,l){n=n.ownerDocument||n,n.head.insertBefore(l,s==="title"?n.querySelector("head > title"):null)}function ox(n,s,l){if(l===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function T_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Tu=null;function lx(){}function cx(n,s,l){if(Tu===null)throw Error(i(475));var d=Tu;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=Cl(l.href),y=n.querySelector(Su(g));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(d.count++,d=nf.bind(d),n.then(d,d)),s.state.loading|=4,s.instance=y,le(y);return}y=n.ownerDocument||n,l=A_(l),(g=Xi.get(g))&&Hg(l,g),y=y.createElement("link"),le(y);var w=y;w._p=new Promise(function(D,k){w.onload=D,w.onerror=k}),En(y,"link",l),s.instance=y}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(d.count++,s=nf.bind(d),n.addEventListener("load",s),n.addEventListener("error",s))}}function ux(){if(Tu===null)throw Error(i(475));var n=Tu;return n.stylesheets&&n.count===0&&zg(n,n.stylesheets),0<n.count?function(s){var l=setTimeout(function(){if(n.stylesheets&&zg(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(l)}}:null}function nf(){if(this.count--,this.count===0){if(this.stylesheets)zg(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var sf=null;function zg(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,sf=new Map,s.forEach(dx,n),sf=null,nf.call(n))}function dx(n,s){if(!(s.state.loading&4)){var l=sf.get(n);if(l)var d=l.get(null);else{l=new Map,sf.set(n,l);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var w=g[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(l.set(w.dataset.precedence,w),d=w)}d&&l.set(null,d)}g=s.instance,w=g.getAttribute("data-precedence"),y=l.get(w)||d,y===d&&l.set(null,g),l.set(w,g),this.count++,d=nf.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),y?y.parentNode.insertBefore(g,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),s.state.loading|=4}}var xu={$$typeof:L,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function hx(n,s,l,d,g,y,w,D){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zo(0),this.hiddenUpdates=zo(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function x_(n,s,l,d,g,y,w,D,k,W,it,at){return n=new hx(n,s,l,w,D,k,W,at),s=1,y===!0&&(s|=24),y=Wn(3,null,null,s),n.current=y,y.stateNode=n,s=lo(),s.refCount++,n.pooledCache=s,s.refCount++,y.memoizedState={element:d,isDehydrated:l,cache:s},z(y),n}function C_(n){return n?(n=la,n):la}function D_(n,s,l,d,g,y){g=C_(g),d.context===null?d.context=g:d.pendingContext=g,d=st(s),d.payload={element:l},y=y===void 0?null:y,y!==null&&(d.callback=y),l=ft(n,d,s),l!==null&&(Ci(l,n,s),At(l,n,s))}function O_(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function $g(n,s){O_(n,s),(n=n.alternate)&&O_(n,s)}function R_(n){if(n.tag===13){var s=Mn(n,67108864);s!==null&&Ci(s,n,67108864),$g(n,67108864)}}var rf=!0;function fx(n,s,l,d){var g=B.T;B.T=null;var y=G.p;try{G.p=2,Ug(n,s,l,d)}finally{G.p=y,B.T=g}}function px(n,s,l,d){var g=B.T;B.T=null;var y=G.p;try{G.p=8,Ug(n,s,l,d)}finally{G.p=y,B.T=g}}function Ug(n,s,l,d){if(rf){var g=Gg(d);if(g===null)Rg(n,s,d,af,l),M_(n,d);else if(mx(g,n,s,l,d))d.stopPropagation();else if(M_(n,d),s&4&&-1<gx.indexOf(n)){for(;g!==null;){var y=Xr(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=nr(y.pendingLanes);if(w!==0){var D=y;for(D.pendingLanes|=2,D.entangledLanes|=2;w;){var k=1<<31-Me(w);D.entanglements[1]|=k,w&=~k}Us(y),(ye&6)===0&&($h=Ce()+500,yu(0))}}break;case 13:D=Mn(y,2),D!==null&&Ci(D,y,2),Gh(),$g(y,2)}if(y=Gg(d),y===null&&Rg(n,s,d,af,l),y===g)break;g=y}g!==null&&d.stopPropagation()}else Rg(n,s,d,null,l)}}function Gg(n){return n=Zr(n),Vg(n)}var af=null;function Vg(n){if(af=null,n=xs(n),n!==null){var s=o(n);if(s===null)n=null;else{var l=s.tag;if(l===13){if(n=c(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return af=n,null}function N_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ni()){case ii:return 2;case Tn:return 8;case xn:case Gr:return 32;case er:return 268435456;default:return 32}default:return 32}}var qg=!1,xa=null,Ca=null,Da=null,Cu=new Map,Du=new Map,Oa=[],gx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M_(n,s){switch(n){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":Da=null;break;case"pointerover":case"pointerout":Cu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Du.delete(s.pointerId)}}function Ou(n,s,l,d,g,y){return n===null||n.nativeEvent!==y?(n={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[g]},s!==null&&(s=Xr(s),s!==null&&R_(s)),n):(n.eventSystemFlags|=d,s=n.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),n)}function mx(n,s,l,d,g){switch(s){case"focusin":return xa=Ou(xa,n,s,l,d,g),!0;case"dragenter":return Ca=Ou(Ca,n,s,l,d,g),!0;case"mouseover":return Da=Ou(Da,n,s,l,d,g),!0;case"pointerover":var y=g.pointerId;return Cu.set(y,Ou(Cu.get(y)||null,n,s,l,d,g)),!0;case"gotpointercapture":return y=g.pointerId,Du.set(y,Ou(Du.get(y)||null,n,s,l,d,g)),!0}return!1}function L_(n){var s=xs(n.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){n.blockedOn=s,Yr(n.priority,function(){if(l.tag===13){var d=xi();d=cc(d);var g=Mn(l,d);g!==null&&Ci(g,l,d),$g(l,d)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function of(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=Gg(n.nativeEvent);if(l===null){l=n.nativeEvent;var d=new l.constructor(l.type,l);ji=d,l.target.dispatchEvent(d),ji=null}else return s=Xr(l),s!==null&&R_(s),n.blockedOn=l,!1;s.shift()}return!0}function P_(n,s,l){of(n)&&l.delete(s)}function bx(){qg=!1,xa!==null&&of(xa)&&(xa=null),Ca!==null&&of(Ca)&&(Ca=null),Da!==null&&of(Da)&&(Da=null),Cu.forEach(P_),Du.forEach(P_)}function lf(n,s){n.blockedOn===s&&(n.blockedOn=null,qg||(qg=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,bx)))}var cf=null;function I_(n){cf!==n&&(cf=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){cf===n&&(cf=null);for(var s=0;s<n.length;s+=3){var l=n[s],d=n[s+1],g=n[s+2];if(typeof d!="function"){if(Vg(d||l)===null)continue;break}var y=Xr(l);y!==null&&(n.splice(s,3),s-=3,Vp(y,{pending:!0,data:g,method:l.method,action:d},d,g))}}))}function Ru(n){function s(k){return lf(k,n)}xa!==null&&lf(xa,n),Ca!==null&&lf(Ca,n),Da!==null&&lf(Da,n),Cu.forEach(s),Du.forEach(s);for(var l=0;l<Oa.length;l++){var d=Oa[l];d.blockedOn===n&&(d.blockedOn=null)}for(;0<Oa.length&&(l=Oa[0],l.blockedOn===null);)L_(l),l.blockedOn===null&&Oa.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var g=l[d],y=l[d+1],w=g[Cn]||null;if(typeof y=="function")w||I_(l);else if(w){var D=null;if(y&&y.hasAttribute("formAction")){if(g=y,w=y[Cn]||null)D=w.formAction;else if(Vg(g)!==null)continue}else D=w.action;typeof D=="function"?l[d+1]=D:(l.splice(d,3),d-=3),I_(l)}}}function Yg(n){this._internalRoot=n}uf.prototype.render=Yg.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,d=xi();D_(l,d,n,s,null,null)},uf.prototype.unmount=Yg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;D_(n.current,2,null,n,null,null),Gh(),s[Wr]=null}};function uf(n){this._internalRoot=n}uf.prototype.unstable_scheduleHydration=function(n){if(n){var s=Nd();n={blockedOn:null,target:n,priority:s};for(var l=0;l<Oa.length&&s!==0&&s<Oa[l].priority;l++);Oa.splice(l,0,n),l===0&&L_(n)}};var k_=t.version;if(k_!=="19.1.0")throw Error(i(527,k_,"19.1.0"));G.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=h(s),n=n!==null?f(n):null,n=n===null?null:n.stateNode,n};var vx={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!df.isDisabled&&df.supportsFiber)try{bi=df.inject(vx),Ne=df}catch{}}return Mu.createRoot=function(n,s){if(!a(n))throw Error(i(299));var l=!1,d="",g=Zv,y=Jv,w=ty,D=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(D=s.unstable_transitionCallbacks)),s=x_(n,1,!1,null,null,l,d,g,y,w,D,null),n[Wr]=s.current,Og(n),new Yg(s)},Mu.hydrateRoot=function(n,s,l){if(!a(n))throw Error(i(299));var d=!1,g="",y=Zv,w=Jv,D=ty,k=null,W=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(k=l.unstable_transitionCallbacks),l.formState!==void 0&&(W=l.formState)),s=x_(n,1,!0,s,l??null,d,g,y,w,D,k,W),s.context=C_(null),l=s.current,d=xi(),d=cc(d),g=st(d),g.callback=null,ft(l,g,d),l=d,s.current.lanes=l,ws(s,l),Us(s),n[Wr]=s.current,Og(n),new uf(s)},Mu.version="19.1.0",Mu}var W_;function Cx(){if(W_)return Qg.exports;W_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Qg.exports=xx(),Qg.exports}var Dx=Cx(),Of={exports:{}};/*!
  * Bootstrap v5.3.7 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Ox=Of.exports,X_;function Rx(){return X_||(X_=1,function(r,t){(function(e,i){r.exports=i()})(Ox,function(){const e=new Map,i={set(x,b,A){e.has(x)||e.set(x,new Map);const R=e.get(x);R.has(b)||R.size===0?R.set(b,A):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(R.keys())[0]}.`)},get:(x,b)=>e.has(x)&&e.get(x).get(b)||null,remove(x,b){if(!e.has(x))return;const A=e.get(x);A.delete(b),A.size===0&&e.delete(x)}},a="transitionend",o=x=>(x&&window.CSS&&window.CSS.escape&&(x=x.replace(/#([^\s"#']+)/g,(b,A)=>`#${CSS.escape(A)}`)),x),c=x=>{x.dispatchEvent(new Event(a))},u=x=>!(!x||typeof x!="object")&&(x.jquery!==void 0&&(x=x[0]),x.nodeType!==void 0),h=x=>u(x)?x.jquery?x[0]:x:typeof x=="string"&&x.length>0?document.querySelector(o(x)):null,f=x=>{if(!u(x)||x.getClientRects().length===0)return!1;const b=getComputedStyle(x).getPropertyValue("visibility")==="visible",A=x.closest("details:not([open])");if(!A)return b;if(A!==x){const R=x.closest("summary");if(R&&R.parentNode!==A||R===null)return!1}return b},p=x=>!x||x.nodeType!==Node.ELEMENT_NODE||!!x.classList.contains("disabled")||(x.disabled!==void 0?x.disabled:x.hasAttribute("disabled")&&x.getAttribute("disabled")!=="false"),m=x=>{if(!document.documentElement.attachShadow)return null;if(typeof x.getRootNode=="function"){const b=x.getRootNode();return b instanceof ShadowRoot?b:null}return x instanceof ShadowRoot?x:x.parentNode?m(x.parentNode):null},v=()=>{},_=x=>{x.offsetHeight},S=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,E=[],T=()=>document.documentElement.dir==="rtl",C=x=>{var b;b=()=>{const A=S();if(A){const R=x.NAME,j=A.fn[R];A.fn[R]=x.jQueryInterface,A.fn[R].Constructor=x,A.fn[R].noConflict=()=>(A.fn[R]=j,x.jQueryInterface)}},document.readyState==="loading"?(E.length||document.addEventListener("DOMContentLoaded",()=>{for(const A of E)A()}),E.push(b)):b()},N=(x,b=[],A=x)=>typeof x=="function"?x.call(...b):A,L=(x,b,A=!0)=>{if(!A)return void N(x);const R=(J=>{if(!J)return 0;let{transitionDuration:st,transitionDelay:ft}=window.getComputedStyle(J);const At=Number.parseFloat(st),St=Number.parseFloat(ft);return At||St?(st=st.split(",")[0],ft=ft.split(",")[0],1e3*(Number.parseFloat(st)+Number.parseFloat(ft))):0})(b)+5;let j=!1;const z=({target:J})=>{J===b&&(j=!0,b.removeEventListener(a,z),N(x))};b.addEventListener(a,z),setTimeout(()=>{j||c(b)},R)},P=(x,b,A,R)=>{const j=x.length;let z=x.indexOf(b);return z===-1?!A&&R?x[j-1]:x[0]:(z+=A?1:-1,R&&(z=(z+j)%j),x[Math.max(0,Math.min(z,j-1))])},M=/[^.]*(?=\..*)\.|.*/,I=/\..*/,F=/::\d+$/,q={};let Z=1;const nt={mouseenter:"mouseover",mouseleave:"mouseout"},tt=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ht(x,b){return b&&`${b}::${Z++}`||x.uidEvent||Z++}function vt(x){const b=ht(x);return x.uidEvent=b,q[b]=q[b]||{},q[b]}function Et(x,b,A=null){return Object.values(x).find(R=>R.callable===b&&R.delegationSelector===A)}function bt(x,b,A){const R=typeof b=="string",j=R?A:b||A;let z=xt(x);return tt.has(z)||(z=x),[R,j,z]}function B(x,b,A,R,j){if(typeof b!="string"||!x)return;let[z,J,st]=bt(b,A,R);b in nt&&(J=(Gt=>function(Ht){if(!Ht.relatedTarget||Ht.relatedTarget!==Ht.delegateTarget&&!Ht.delegateTarget.contains(Ht.relatedTarget))return Gt.call(this,Ht)})(J));const ft=vt(x),At=ft[st]||(ft[st]={}),St=Et(At,J,z?A:null);if(St)return void(St.oneOff=St.oneOff&&j);const yt=ht(J,b.replace(M,"")),Ut=z?function(Mt,Gt,Ht){return function It(pe){const be=Mt.querySelectorAll(Gt);for(let{target:Xt}=pe;Xt&&Xt!==this;Xt=Xt.parentNode)for(const oe of be)if(oe===Xt)return et(pe,{delegateTarget:Xt}),It.oneOff&&O.off(Mt,pe.type,Gt,Ht),Ht.apply(Xt,[pe])}}(x,A,J):function(Mt,Gt){return function Ht(It){return et(It,{delegateTarget:Mt}),Ht.oneOff&&O.off(Mt,It.type,Gt),Gt.apply(Mt,[It])}}(x,J);Ut.delegationSelector=z?A:null,Ut.callable=J,Ut.oneOff=j,Ut.uidEvent=yt,At[yt]=Ut,x.addEventListener(st,Ut,z)}function G(x,b,A,R,j){const z=Et(b[A],R,j);z&&(x.removeEventListener(A,z,!!j),delete b[A][z.uidEvent])}function pt(x,b,A,R){const j=b[A]||{};for(const[z,J]of Object.entries(j))z.includes(R)&&G(x,b,A,J.callable,J.delegationSelector)}function xt(x){return x=x.replace(I,""),nt[x]||x}const O={on(x,b,A,R){B(x,b,A,R,!1)},one(x,b,A,R){B(x,b,A,R,!0)},off(x,b,A,R){if(typeof b!="string"||!x)return;const[j,z,J]=bt(b,A,R),st=J!==b,ft=vt(x),At=ft[J]||{},St=b.startsWith(".");if(z===void 0){if(St)for(const yt of Object.keys(ft))pt(x,ft,yt,b.slice(1));for(const[yt,Ut]of Object.entries(At)){const Mt=yt.replace(F,"");st&&!b.includes(Mt)||G(x,ft,J,Ut.callable,Ut.delegationSelector)}}else{if(!Object.keys(At).length)return;G(x,ft,J,z,j?A:null)}},trigger(x,b,A){if(typeof b!="string"||!x)return null;const R=S();let j=null,z=!0,J=!0,st=!1;b!==xt(b)&&R&&(j=R.Event(b,A),R(x).trigger(j),z=!j.isPropagationStopped(),J=!j.isImmediatePropagationStopped(),st=j.isDefaultPrevented());const ft=et(new Event(b,{bubbles:z,cancelable:!0}),A);return st&&ft.preventDefault(),J&&x.dispatchEvent(ft),ft.defaultPrevented&&j&&j.preventDefault(),ft}};function et(x,b={}){for(const[A,R]of Object.entries(b))try{x[A]=R}catch{Object.defineProperty(x,A,{configurable:!0,get:()=>R})}return x}function ot(x){if(x==="true")return!0;if(x==="false")return!1;if(x===Number(x).toString())return Number(x);if(x===""||x==="null")return null;if(typeof x!="string")return x;try{return JSON.parse(decodeURIComponent(x))}catch{return x}}function K(x){return x.replace(/[A-Z]/g,b=>`-${b.toLowerCase()}`)}const ct={setDataAttribute(x,b,A){x.setAttribute(`data-bs-${K(b)}`,A)},removeDataAttribute(x,b){x.removeAttribute(`data-bs-${K(b)}`)},getDataAttributes(x){if(!x)return{};const b={},A=Object.keys(x.dataset).filter(R=>R.startsWith("bs")&&!R.startsWith("bsConfig"));for(const R of A){let j=R.replace(/^bs/,"");j=j.charAt(0).toLowerCase()+j.slice(1),b[j]=ot(x.dataset[R])}return b},getDataAttribute:(x,b)=>ot(x.getAttribute(`data-bs-${K(b)}`))};class mt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(b){return b=this._mergeConfigObj(b),b=this._configAfterMerge(b),this._typeCheckConfig(b),b}_configAfterMerge(b){return b}_mergeConfigObj(b,A){const R=u(A)?ct.getDataAttribute(A,"config"):{};return{...this.constructor.Default,...typeof R=="object"?R:{},...u(A)?ct.getDataAttributes(A):{},...typeof b=="object"?b:{}}}_typeCheckConfig(b,A=this.constructor.DefaultType){for(const[j,z]of Object.entries(A)){const J=b[j],st=u(J)?"element":(R=J)==null?`${R}`:Object.prototype.toString.call(R).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(z).test(st))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${j}" provided type "${st}" but expected type "${z}".`)}var R}}class dt extends mt{constructor(b,A){super(),(b=h(b))&&(this._element=b,this._config=this._getConfig(A),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i.remove(this._element,this.constructor.DATA_KEY),O.off(this._element,this.constructor.EVENT_KEY);for(const b of Object.getOwnPropertyNames(this))this[b]=null}_queueCallback(b,A,R=!0){L(b,A,R)}_getConfig(b){return b=this._mergeConfigObj(b,this._element),b=this._configAfterMerge(b),this._typeCheckConfig(b),b}static getInstance(b){return i.get(h(b),this.DATA_KEY)}static getOrCreateInstance(b,A={}){return this.getInstance(b)||new this(b,typeof A=="object"?A:null)}static get VERSION(){return"5.3.7"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(b){return`${b}${this.EVENT_KEY}`}}const Ct=x=>{let b=x.getAttribute("data-bs-target");if(!b||b==="#"){let A=x.getAttribute("href");if(!A||!A.includes("#")&&!A.startsWith("."))return null;A.includes("#")&&!A.startsWith("#")&&(A=`#${A.split("#")[1]}`),b=A&&A!=="#"?A.trim():null}return b?b.split(",").map(A=>o(A)).join(","):null},lt={find:(x,b=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(b,x)),findOne:(x,b=document.documentElement)=>Element.prototype.querySelector.call(b,x),children:(x,b)=>[].concat(...x.children).filter(A=>A.matches(b)),parents(x,b){const A=[];let R=x.parentNode.closest(b);for(;R;)A.push(R),R=R.parentNode.closest(b);return A},prev(x,b){let A=x.previousElementSibling;for(;A;){if(A.matches(b))return[A];A=A.previousElementSibling}return[]},next(x,b){let A=x.nextElementSibling;for(;A;){if(A.matches(b))return[A];A=A.nextElementSibling}return[]},focusableChildren(x){const b=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(A=>`${A}:not([tabindex^="-"])`).join(",");return this.find(b,x).filter(A=>!p(A)&&f(A))},getSelectorFromElement(x){const b=Ct(x);return b&&lt.findOne(b)?b:null},getElementFromSelector(x){const b=Ct(x);return b?lt.findOne(b):null},getMultipleElementsFromSelector(x){const b=Ct(x);return b?lt.find(b):[]}},Kt=(x,b="hide")=>{const A=`click.dismiss${x.EVENT_KEY}`,R=x.NAME;O.on(document,A,`[data-bs-dismiss="${R}"]`,function(j){if(["A","AREA"].includes(this.tagName)&&j.preventDefault(),p(this))return;const z=lt.getElementFromSelector(this)||this.closest(`.${R}`);x.getOrCreateInstance(z)[b]()})},Wt=".bs.alert",Re=`close${Wt}`,ae=`closed${Wt}`;class Zt extends dt{static get NAME(){return"alert"}close(){if(O.trigger(this._element,Re).defaultPrevented)return;this._element.classList.remove("show");const b=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,b)}_destroyElement(){this._element.remove(),O.trigger(this._element,ae),this.dispose()}static jQueryInterface(b){return this.each(function(){const A=Zt.getOrCreateInstance(this);if(typeof b=="string"){if(A[b]===void 0||b.startsWith("_")||b==="constructor")throw new TypeError(`No method named "${b}"`);A[b](this)}})}}Kt(Zt,"close"),C(Zt);const Jt='[data-bs-toggle="button"]';class he extends dt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(b){return this.each(function(){const A=he.getOrCreateInstance(this);b==="toggle"&&A[b]()})}}O.on(document,"click.bs.button.data-api",Jt,x=>{x.preventDefault();const b=x.target.closest(Jt);he.getOrCreateInstance(b).toggle()}),C(he);const se=".bs.swipe",Ce=`touchstart${se}`,ni=`touchmove${se}`,ii=`touchend${se}`,Tn=`pointerdown${se}`,xn=`pointerup${se}`,Gr={endCallback:null,leftCallback:null,rightCallback:null},er={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Bi extends mt{constructor(b,A){super(),this._element=b,b&&Bi.isSupported()&&(this._config=this._getConfig(A),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Gr}static get DefaultType(){return er}static get NAME(){return"swipe"}dispose(){O.off(this._element,se)}_start(b){this._supportPointerEvents?this._eventIsPointerPenTouch(b)&&(this._deltaX=b.clientX):this._deltaX=b.touches[0].clientX}_end(b){this._eventIsPointerPenTouch(b)&&(this._deltaX=b.clientX-this._deltaX),this._handleSwipe(),N(this._config.endCallback)}_move(b){this._deltaX=b.touches&&b.touches.length>1?0:b.touches[0].clientX-this._deltaX}_handleSwipe(){const b=Math.abs(this._deltaX);if(b<=40)return;const A=b/this._deltaX;this._deltaX=0,A&&N(A>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(O.on(this._element,Tn,b=>this._start(b)),O.on(this._element,xn,b=>this._end(b)),this._element.classList.add("pointer-event")):(O.on(this._element,Ce,b=>this._start(b)),O.on(this._element,ni,b=>this._move(b)),O.on(this._element,ii,b=>this._end(b)))}_eventIsPointerPenTouch(b){return this._supportPointerEvents&&(b.pointerType==="pen"||b.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const zn=".bs.carousel",bi=".data-api",Ne="ArrowLeft",ln="ArrowRight",Me="next",Fi="prev",Vr="left",Fo="right",Ho=`slide${zn}`,qr=`slid${zn}`,nr=`keydown${zn}`,jo=`mouseenter${zn}`,Ga=`mouseleave${zn}`,wp=`dragstart${zn}`,Cd=`load${zn}${bi}`,Dd=`click${zn}${bi}`,zo="carousel",ws="active",Od=".active",lc=".carousel-item",Rd=Od+lc,cc={[Ne]:Fo,[ln]:Vr},uc={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Nd={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Yr extends dt{constructor(b,A){super(b,A),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=lt.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===zo&&this.cycle()}static get Default(){return uc}static get DefaultType(){return Nd}static get NAME(){return"carousel"}next(){this._slide(Me)}nextWhenVisible(){!document.hidden&&f(this._element)&&this.next()}prev(){this._slide(Fi)}pause(){this._isSliding&&c(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?O.one(this._element,qr,()=>this.cycle()):this.cycle())}to(b){const A=this._getItems();if(b>A.length-1||b<0)return;if(this._isSliding)return void O.one(this._element,qr,()=>this.to(b));const R=this._getItemIndex(this._getActive());if(R===b)return;const j=b>R?Me:Fi;this._slide(j,A[b])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(b){return b.defaultInterval=b.interval,b}_addEventListeners(){this._config.keyboard&&O.on(this._element,nr,b=>this._keydown(b)),this._config.pause==="hover"&&(O.on(this._element,jo,()=>this.pause()),O.on(this._element,Ga,()=>this._maybeEnableCycle())),this._config.touch&&Bi.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const A of lt.find(".carousel-item img",this._element))O.on(A,wp,R=>R.preventDefault());const b={leftCallback:()=>this._slide(this._directionToOrder(Vr)),rightCallback:()=>this._slide(this._directionToOrder(Fo)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Bi(this._element,b)}_keydown(b){if(/input|textarea/i.test(b.target.tagName))return;const A=cc[b.key];A&&(b.preventDefault(),this._slide(this._directionToOrder(A)))}_getItemIndex(b){return this._getItems().indexOf(b)}_setActiveIndicatorElement(b){if(!this._indicatorsElement)return;const A=lt.findOne(Od,this._indicatorsElement);A.classList.remove(ws),A.removeAttribute("aria-current");const R=lt.findOne(`[data-bs-slide-to="${b}"]`,this._indicatorsElement);R&&(R.classList.add(ws),R.setAttribute("aria-current","true"))}_updateInterval(){const b=this._activeElement||this._getActive();if(!b)return;const A=Number.parseInt(b.getAttribute("data-bs-interval"),10);this._config.interval=A||this._config.defaultInterval}_slide(b,A=null){if(this._isSliding)return;const R=this._getActive(),j=b===Me,z=A||P(this._getItems(),R,j,this._config.wrap);if(z===R)return;const J=this._getItemIndex(z),st=yt=>O.trigger(this._element,yt,{relatedTarget:z,direction:this._orderToDirection(b),from:this._getItemIndex(R),to:J});if(st(Ho).defaultPrevented||!R||!z)return;const ft=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(J),this._activeElement=z;const At=j?"carousel-item-start":"carousel-item-end",St=j?"carousel-item-next":"carousel-item-prev";z.classList.add(St),_(z),R.classList.add(At),z.classList.add(At),this._queueCallback(()=>{z.classList.remove(At,St),z.classList.add(ws),R.classList.remove(ws,St,At),this._isSliding=!1,st(qr)},R,this._isAnimated()),ft&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return lt.findOne(Rd,this._element)}_getItems(){return lt.find(lc,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(b){return T()?b===Vr?Fi:Me:b===Vr?Me:Fi}_orderToDirection(b){return T()?b===Fi?Vr:Fo:b===Fi?Fo:Vr}static jQueryInterface(b){return this.each(function(){const A=Yr.getOrCreateInstance(this,b);if(typeof b!="number"){if(typeof b=="string"){if(A[b]===void 0||b.startsWith("_")||b==="constructor")throw new TypeError(`No method named "${b}"`);A[b]()}}else A.to(b)})}}O.on(document,Dd,"[data-bs-slide], [data-bs-slide-to]",function(x){const b=lt.getElementFromSelector(this);if(!b||!b.classList.contains(zo))return;x.preventDefault();const A=Yr.getOrCreateInstance(b),R=this.getAttribute("data-bs-slide-to");return R?(A.to(R),void A._maybeEnableCycle()):ct.getDataAttribute(this,"slide")==="next"?(A.next(),void A._maybeEnableCycle()):(A.prev(),void A._maybeEnableCycle())}),O.on(window,Cd,()=>{const x=lt.find('[data-bs-ride="carousel"]');for(const b of x)Yr.getOrCreateInstance(b)}),C(Yr);const si=".bs.collapse",cn=`show${si}`,Cn=`shown${si}`,Wr=`hide${si}`,dc=`hidden${si}`,Tp=`click${si}.data-api`,hc="show",ir="collapse",Ts="collapsing",fc=`:scope .${ir} .${ir}`,xs='[data-bs-toggle="collapse"]',Xr={parent:null,toggle:!0},Va={parent:"(null|element)",toggle:"boolean"};class vi extends dt{constructor(b,A){super(b,A),this._isTransitioning=!1,this._triggerArray=[];const R=lt.find(xs);for(const j of R){const z=lt.getSelectorFromElement(j),J=lt.find(z).filter(st=>st===this._element);z!==null&&J.length&&this._triggerArray.push(j)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Xr}static get DefaultType(){return Va}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let b=[];if(this._config.parent&&(b=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(j=>j!==this._element).map(j=>vi.getOrCreateInstance(j,{toggle:!1}))),b.length&&b[0]._isTransitioning||O.trigger(this._element,cn).defaultPrevented)return;for(const j of b)j.hide();const A=this._getDimension();this._element.classList.remove(ir),this._element.classList.add(Ts),this._element.style[A]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const R=`scroll${A[0].toUpperCase()+A.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ts),this._element.classList.add(ir,hc),this._element.style[A]="",O.trigger(this._element,Cn)},this._element,!0),this._element.style[A]=`${this._element[R]}px`}hide(){if(this._isTransitioning||!this._isShown()||O.trigger(this._element,Wr).defaultPrevented)return;const b=this._getDimension();this._element.style[b]=`${this._element.getBoundingClientRect()[b]}px`,_(this._element),this._element.classList.add(Ts),this._element.classList.remove(ir,hc);for(const A of this._triggerArray){const R=lt.getElementFromSelector(A);R&&!this._isShown(R)&&this._addAriaAndCollapsedClass([A],!1)}this._isTransitioning=!0,this._element.style[b]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ts),this._element.classList.add(ir),O.trigger(this._element,dc)},this._element,!0)}_isShown(b=this._element){return b.classList.contains(hc)}_configAfterMerge(b){return b.toggle=!!b.toggle,b.parent=h(b.parent),b}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const b=this._getFirstLevelChildren(xs);for(const A of b){const R=lt.getElementFromSelector(A);R&&this._addAriaAndCollapsedClass([A],this._isShown(R))}}_getFirstLevelChildren(b){const A=lt.find(fc,this._config.parent);return lt.find(b,this._config.parent).filter(R=>!A.includes(R))}_addAriaAndCollapsedClass(b,A){if(b.length)for(const R of b)R.classList.toggle("collapsed",!A),R.setAttribute("aria-expanded",A)}static jQueryInterface(b){const A={};return typeof b=="string"&&/show|hide/.test(b)&&(A.toggle=!1),this.each(function(){const R=vi.getOrCreateInstance(this,A);if(typeof b=="string"){if(R[b]===void 0)throw new TypeError(`No method named "${b}"`);R[b]()}})}}O.on(document,Tp,xs,function(x){(x.target.tagName==="A"||x.delegateTarget&&x.delegateTarget.tagName==="A")&&x.preventDefault();for(const b of lt.getMultipleElementsFromSelector(this))vi.getOrCreateInstance(b,{toggle:!1}).toggle()}),C(vi);var le="top",Dn="bottom",On="right",ke="left",os="auto",Kr=[le,Dn,On,ke],Cs="start",sr="end",Md="clippingParents",Qr="viewport",ls="popper",Hi="reference",qa=Kr.reduce(function(x,b){return x.concat([b+"-"+Cs,b+"-"+sr])},[]),$o=[].concat(Kr,[os]).reduce(function(x,b){return x.concat([b,b+"-"+Cs,b+"-"+sr])},[]),rr="beforeRead",Uo="read",Go="afterRead",Ld="beforeMain",pc="main",$n="afterMain",gc="beforeWrite",Pd="write",Ya="afterWrite",mc=[rr,Uo,Go,Ld,pc,$n,gc,Pd,Ya];function Un(x){return x?(x.nodeName||"").toLowerCase():null}function Gn(x){if(x==null)return window;if(x.toString()!=="[object Window]"){var b=x.ownerDocument;return b&&b.defaultView||window}return x}function Qe(x){return x instanceof Gn(x).Element||x instanceof Element}function Rn(x){return x instanceof Gn(x).HTMLElement||x instanceof HTMLElement}function Vo(x){return typeof ShadowRoot<"u"&&(x instanceof Gn(x).ShadowRoot||x instanceof ShadowRoot)}const Wa={name:"applyStyles",enabled:!0,phase:"write",fn:function(x){var b=x.state;Object.keys(b.elements).forEach(function(A){var R=b.styles[A]||{},j=b.attributes[A]||{},z=b.elements[A];Rn(z)&&Un(z)&&(Object.assign(z.style,R),Object.keys(j).forEach(function(J){var st=j[J];st===!1?z.removeAttribute(J):z.setAttribute(J,st===!0?"":st)}))})},effect:function(x){var b=x.state,A={popper:{position:b.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(b.elements.popper.style,A.popper),b.styles=A,b.elements.arrow&&Object.assign(b.elements.arrow.style,A.arrow),function(){Object.keys(b.elements).forEach(function(R){var j=b.elements[R],z=b.attributes[R]||{},J=Object.keys(b.styles.hasOwnProperty(R)?b.styles[R]:A[R]).reduce(function(st,ft){return st[ft]="",st},{});Rn(j)&&Un(j)&&(Object.assign(j.style,J),Object.keys(z).forEach(function(st){j.removeAttribute(st)}))})}},requires:["computeStyles"]};function bn(x){return x.split("-")[0]}var Ds=Math.max,Xa=Math.min,yi=Math.round;function bc(){var x=navigator.userAgentData;return x!=null&&x.brands&&Array.isArray(x.brands)?x.brands.map(function(b){return b.brand+"/"+b.version}).join(" "):navigator.userAgent}function vc(){return!/^((?!chrome|android).)*safari/i.test(bc())}function ar(x,b,A){b===void 0&&(b=!1),A===void 0&&(A=!1);var R=x.getBoundingClientRect(),j=1,z=1;b&&Rn(x)&&(j=x.offsetWidth>0&&yi(R.width)/x.offsetWidth||1,z=x.offsetHeight>0&&yi(R.height)/x.offsetHeight||1);var J=(Qe(x)?Gn(x):window).visualViewport,st=!vc()&&A,ft=(R.left+(st&&J?J.offsetLeft:0))/j,At=(R.top+(st&&J?J.offsetTop:0))/z,St=R.width/j,yt=R.height/z;return{width:St,height:yt,top:At,right:ft+St,bottom:At+yt,left:ft,x:ft,y:At}}function Ka(x){var b=ar(x),A=x.offsetWidth,R=x.offsetHeight;return Math.abs(b.width-A)<=1&&(A=b.width),Math.abs(b.height-R)<=1&&(R=b.height),{x:x.offsetLeft,y:x.offsetTop,width:A,height:R}}function Id(x,b){var A=b.getRootNode&&b.getRootNode();if(x.contains(b))return!0;if(A&&Vo(A)){var R=b;do{if(R&&x.isSameNode(R))return!0;R=R.parentNode||R.host}while(R)}return!1}function cs(x){return Gn(x).getComputedStyle(x)}function qo(x){return["table","td","th"].indexOf(Un(x))>=0}function ji(x){return((Qe(x)?x.ownerDocument:x.document)||window.document).documentElement}function Zr(x){return Un(x)==="html"?x:x.assignedSlot||x.parentNode||(Vo(x)?x.host:null)||ji(x)}function or(x){return Rn(x)&&cs(x).position!=="fixed"?x.offsetParent:null}function zi(x){for(var b=Gn(x),A=or(x);A&&qo(A)&&cs(A).position==="static";)A=or(A);return A&&(Un(A)==="html"||Un(A)==="body"&&cs(A).position==="static")?b:A||function(R){var j=/firefox/i.test(bc());if(/Trident/i.test(bc())&&Rn(R)&&cs(R).position==="fixed")return null;var z=Zr(R);for(Vo(z)&&(z=z.host);Rn(z)&&["html","body"].indexOf(Un(z))<0;){var J=cs(z);if(J.transform!=="none"||J.perspective!=="none"||J.contain==="paint"||["transform","perspective"].indexOf(J.willChange)!==-1||j&&J.willChange==="filter"||j&&J.filter&&J.filter!=="none")return z;z=z.parentNode}return null}(x)||b}function Yo(x){return["top","bottom"].indexOf(x)>=0?"x":"y"}function lr(x,b,A){return Ds(x,Xa(b,A))}function yc(x){return Object.assign({},{top:0,right:0,bottom:0,left:0},x)}function Jr(x,b){return b.reduce(function(A,R){return A[R]=x,A},{})}const $i={name:"arrow",enabled:!0,phase:"main",fn:function(x){var b,A=x.state,R=x.name,j=x.options,z=A.elements.arrow,J=A.modifiersData.popperOffsets,st=bn(A.placement),ft=Yo(st),At=[ke,On].indexOf(st)>=0?"height":"width";if(z&&J){var St=function(zt,ce){return yc(typeof(zt=typeof zt=="function"?zt(Object.assign({},ce.rects,{placement:ce.placement})):zt)!="number"?zt:Jr(zt,Kr))}(j.padding,A),yt=Ka(z),Ut=ft==="y"?le:ke,Mt=ft==="y"?Dn:On,Gt=A.rects.reference[At]+A.rects.reference[ft]-J[ft]-A.rects.popper[At],Ht=J[ft]-A.rects.reference[ft],It=zi(z),pe=It?ft==="y"?It.clientHeight||0:It.clientWidth||0:0,be=Gt/2-Ht/2,Xt=St[Ut],oe=pe-yt[At]-St[Mt],jt=pe/2-yt[At]/2+be,_t=lr(Xt,jt,oe),Dt=ft;A.modifiersData[R]=((b={})[Dt]=_t,b.centerOffset=_t-jt,b)}},effect:function(x){var b=x.state,A=x.options.element,R=A===void 0?"[data-popper-arrow]":A;R!=null&&(typeof R!="string"||(R=b.elements.popper.querySelector(R)))&&Id(b.elements.popper,R)&&(b.elements.arrow=R)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Os(x){return x.split("-")[1]}var Qa={top:"auto",right:"auto",bottom:"auto",left:"auto"};function us(x){var b,A=x.popper,R=x.popperRect,j=x.placement,z=x.variation,J=x.offsets,st=x.position,ft=x.gpuAcceleration,At=x.adaptive,St=x.roundOffsets,yt=x.isFixed,Ut=J.x,Mt=Ut===void 0?0:Ut,Gt=J.y,Ht=Gt===void 0?0:Gt,It=typeof St=="function"?St({x:Mt,y:Ht}):{x:Mt,y:Ht};Mt=It.x,Ht=It.y;var pe=J.hasOwnProperty("x"),be=J.hasOwnProperty("y"),Xt=ke,oe=le,jt=window;if(At){var _t=zi(A),Dt="clientHeight",zt="clientWidth";_t===Gn(A)&&cs(_t=ji(A)).position!=="static"&&st==="absolute"&&(Dt="scrollHeight",zt="scrollWidth"),(j===le||(j===ke||j===On)&&z===sr)&&(oe=Dn,Ht-=(yt&&_t===jt&&jt.visualViewport?jt.visualViewport.height:_t[Dt])-R.height,Ht*=ft?1:-1),j!==ke&&(j!==le&&j!==Dn||z!==sr)||(Xt=On,Mt-=(yt&&_t===jt&&jt.visualViewport?jt.visualViewport.width:_t[zt])-R.width,Mt*=ft?1:-1)}var ce,Ae=Object.assign({position:st},At&&Qa),Ue=St===!0?function(Pn,Ge){var nn=Pn.x,li=Pn.y,qt=Ge.devicePixelRatio||1;return{x:yi(nn*qt)/qt||0,y:yi(li*qt)/qt||0}}({x:Mt,y:Ht},Gn(A)):{x:Mt,y:Ht};return Mt=Ue.x,Ht=Ue.y,ft?Object.assign({},Ae,((ce={})[oe]=be?"0":"",ce[Xt]=pe?"0":"",ce.transform=(jt.devicePixelRatio||1)<=1?"translate("+Mt+"px, "+Ht+"px)":"translate3d("+Mt+"px, "+Ht+"px, 0)",ce)):Object.assign({},Ae,((b={})[oe]=be?Ht+"px":"",b[Xt]=pe?Mt+"px":"",b.transform="",b))}const Za={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(x){var b=x.state,A=x.options,R=A.gpuAcceleration,j=R===void 0||R,z=A.adaptive,J=z===void 0||z,st=A.roundOffsets,ft=st===void 0||st,At={placement:bn(b.placement),variation:Os(b.placement),popper:b.elements.popper,popperRect:b.rects.popper,gpuAcceleration:j,isFixed:b.options.strategy==="fixed"};b.modifiersData.popperOffsets!=null&&(b.styles.popper=Object.assign({},b.styles.popper,us(Object.assign({},At,{offsets:b.modifiersData.popperOffsets,position:b.options.strategy,adaptive:J,roundOffsets:ft})))),b.modifiersData.arrow!=null&&(b.styles.arrow=Object.assign({},b.styles.arrow,us(Object.assign({},At,{offsets:b.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ft})))),b.attributes.popper=Object.assign({},b.attributes.popper,{"data-popper-placement":b.placement})},data:{}};var cr={passive:!0};const Wo={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(x){var b=x.state,A=x.instance,R=x.options,j=R.scroll,z=j===void 0||j,J=R.resize,st=J===void 0||J,ft=Gn(b.elements.popper),At=[].concat(b.scrollParents.reference,b.scrollParents.popper);return z&&At.forEach(function(St){St.addEventListener("scroll",A.update,cr)}),st&&ft.addEventListener("resize",A.update,cr),function(){z&&At.forEach(function(St){St.removeEventListener("scroll",A.update,cr)}),st&&ft.removeEventListener("resize",A.update,cr)}},data:{}};var Xo={left:"right",right:"left",bottom:"top",top:"bottom"};function ur(x){return x.replace(/left|right|bottom|top/g,function(b){return Xo[b]})}var kd={start:"end",end:"start"};function vn(x){return x.replace(/start|end/g,function(b){return kd[b]})}function ds(x){var b=Gn(x);return{scrollLeft:b.pageXOffset,scrollTop:b.pageYOffset}}function ta(x){return ar(ji(x)).left+ds(x).scrollLeft}function dr(x){var b=cs(x),A=b.overflow,R=b.overflowX,j=b.overflowY;return/auto|scroll|overlay|hidden/.test(A+j+R)}function Bd(x){return["html","body","#document"].indexOf(Un(x))>=0?x.ownerDocument.body:Rn(x)&&dr(x)?x:Bd(Zr(x))}function hr(x,b){var A;b===void 0&&(b=[]);var R=Bd(x),j=R===((A=x.ownerDocument)==null?void 0:A.body),z=Gn(R),J=j?[z].concat(z.visualViewport||[],dr(R)?R:[]):R,st=b.concat(J);return j?st:st.concat(hr(Zr(J)))}function Ja(x){return Object.assign({},x,{left:x.x,top:x.y,right:x.x+x.width,bottom:x.y+x.height})}function ea(x,b,A){return b===Qr?Ja(function(R,j){var z=Gn(R),J=ji(R),st=z.visualViewport,ft=J.clientWidth,At=J.clientHeight,St=0,yt=0;if(st){ft=st.width,At=st.height;var Ut=vc();(Ut||!Ut&&j==="fixed")&&(St=st.offsetLeft,yt=st.offsetTop)}return{width:ft,height:At,x:St+ta(R),y:yt}}(x,A)):Qe(b)?function(R,j){var z=ar(R,!1,j==="fixed");return z.top=z.top+R.clientTop,z.left=z.left+R.clientLeft,z.bottom=z.top+R.clientHeight,z.right=z.left+R.clientWidth,z.width=R.clientWidth,z.height=R.clientHeight,z.x=z.left,z.y=z.top,z}(b,A):Ja(function(R){var j,z=ji(R),J=ds(R),st=(j=R.ownerDocument)==null?void 0:j.body,ft=Ds(z.scrollWidth,z.clientWidth,st?st.scrollWidth:0,st?st.clientWidth:0),At=Ds(z.scrollHeight,z.clientHeight,st?st.scrollHeight:0,st?st.clientHeight:0),St=-J.scrollLeft+ta(R),yt=-J.scrollTop;return cs(st||z).direction==="rtl"&&(St+=Ds(z.clientWidth,st?st.clientWidth:0)-ft),{width:ft,height:At,x:St,y:yt}}(ji(x)))}function to(x){var b,A=x.reference,R=x.element,j=x.placement,z=j?bn(j):null,J=j?Os(j):null,st=A.x+A.width/2-R.width/2,ft=A.y+A.height/2-R.height/2;switch(z){case le:b={x:st,y:A.y-R.height};break;case Dn:b={x:st,y:A.y+A.height};break;case On:b={x:A.x+A.width,y:ft};break;case ke:b={x:A.x-R.width,y:ft};break;default:b={x:A.x,y:A.y}}var At=z?Yo(z):null;if(At!=null){var St=At==="y"?"height":"width";switch(J){case Cs:b[At]=b[At]-(A[St]/2-R[St]/2);break;case sr:b[At]=b[At]+(A[St]/2-R[St]/2)}}return b}function fr(x,b){b===void 0&&(b={});var A=b,R=A.placement,j=R===void 0?x.placement:R,z=A.strategy,J=z===void 0?x.strategy:z,st=A.boundary,ft=st===void 0?Md:st,At=A.rootBoundary,St=At===void 0?Qr:At,yt=A.elementContext,Ut=yt===void 0?ls:yt,Mt=A.altBoundary,Gt=Mt!==void 0&&Mt,Ht=A.padding,It=Ht===void 0?0:Ht,pe=yc(typeof It!="number"?It:Jr(It,Kr)),be=Ut===ls?Hi:ls,Xt=x.rects.popper,oe=x.elements[Gt?be:Ut],jt=function(Ge,nn,li,qt){var ci=nn==="clippingParents"?function(ve){var sn=hr(Zr(ve)),In=["absolute","fixed"].indexOf(cs(ve).position)>=0&&Rn(ve)?zi(ve):ve;return Qe(In)?sn.filter(function(qi){return Qe(qi)&&Id(qi,In)&&Un(qi)!=="body"}):[]}(Ge):[].concat(nn),ui=[].concat(ci,[li]),Dr=ui[0],Ve=ui.reduce(function(ve,sn){var In=ea(Ge,sn,qt);return ve.top=Ds(In.top,ve.top),ve.right=Xa(In.right,ve.right),ve.bottom=Xa(In.bottom,ve.bottom),ve.left=Ds(In.left,ve.left),ve},ea(Ge,Dr,qt));return Ve.width=Ve.right-Ve.left,Ve.height=Ve.bottom-Ve.top,Ve.x=Ve.left,Ve.y=Ve.top,Ve}(Qe(oe)?oe:oe.contextElement||ji(x.elements.popper),ft,St,J),_t=ar(x.elements.reference),Dt=to({reference:_t,element:Xt,placement:j}),zt=Ja(Object.assign({},Xt,Dt)),ce=Ut===ls?zt:_t,Ae={top:jt.top-ce.top+pe.top,bottom:ce.bottom-jt.bottom+pe.bottom,left:jt.left-ce.left+pe.left,right:ce.right-jt.right+pe.right},Ue=x.modifiersData.offset;if(Ut===ls&&Ue){var Pn=Ue[j];Object.keys(Ae).forEach(function(Ge){var nn=[On,Dn].indexOf(Ge)>=0?1:-1,li=[le,Dn].indexOf(Ge)>=0?"y":"x";Ae[Ge]+=Pn[li]*nn})}return Ae}function xp(x,b){b===void 0&&(b={});var A=b,R=A.placement,j=A.boundary,z=A.rootBoundary,J=A.padding,st=A.flipVariations,ft=A.allowedAutoPlacements,At=ft===void 0?$o:ft,St=Os(R),yt=St?st?qa:qa.filter(function(Gt){return Os(Gt)===St}):Kr,Ut=yt.filter(function(Gt){return At.indexOf(Gt)>=0});Ut.length===0&&(Ut=yt);var Mt=Ut.reduce(function(Gt,Ht){return Gt[Ht]=fr(x,{placement:Ht,boundary:j,rootBoundary:z,padding:J})[bn(Ht)],Gt},{});return Object.keys(Mt).sort(function(Gt,Ht){return Mt[Gt]-Mt[Ht]})}const Fd={name:"flip",enabled:!0,phase:"main",fn:function(x){var b=x.state,A=x.options,R=x.name;if(!b.modifiersData[R]._skip){for(var j=A.mainAxis,z=j===void 0||j,J=A.altAxis,st=J===void 0||J,ft=A.fallbackPlacements,At=A.padding,St=A.boundary,yt=A.rootBoundary,Ut=A.altBoundary,Mt=A.flipVariations,Gt=Mt===void 0||Mt,Ht=A.allowedAutoPlacements,It=b.options.placement,pe=bn(It),be=ft||(pe!==It&&Gt?function(ve){if(bn(ve)===os)return[];var sn=ur(ve);return[vn(ve),sn,vn(sn)]}(It):[ur(It)]),Xt=[It].concat(be).reduce(function(ve,sn){return ve.concat(bn(sn)===os?xp(b,{placement:sn,boundary:St,rootBoundary:yt,padding:At,flipVariations:Gt,allowedAutoPlacements:Ht}):sn)},[]),oe=b.rects.reference,jt=b.rects.popper,_t=new Map,Dt=!0,zt=Xt[0],ce=0;ce<Xt.length;ce++){var Ae=Xt[ce],Ue=bn(Ae),Pn=Os(Ae)===Cs,Ge=[le,Dn].indexOf(Ue)>=0,nn=Ge?"width":"height",li=fr(b,{placement:Ae,boundary:St,rootBoundary:yt,altBoundary:Ut,padding:At}),qt=Ge?Pn?On:ke:Pn?Dn:le;oe[nn]>jt[nn]&&(qt=ur(qt));var ci=ur(qt),ui=[];if(z&&ui.push(li[Ue]<=0),st&&ui.push(li[qt]<=0,li[ci]<=0),ui.every(function(ve){return ve})){zt=Ae,Dt=!1;break}_t.set(Ae,ui)}if(Dt)for(var Dr=function(ve){var sn=Xt.find(function(In){var qi=_t.get(In);if(qi)return qi.slice(0,ve).every(function(rn){return rn})});if(sn)return zt=sn,"break"},Ve=Gt?3:1;Ve>0&&Dr(Ve)!=="break";Ve--);b.placement!==zt&&(b.modifiersData[R]._skip=!0,b.placement=zt,b.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Hd(x,b,A){return A===void 0&&(A={x:0,y:0}),{top:x.top-b.height-A.y,right:x.right-b.width+A.x,bottom:x.bottom-b.height+A.y,left:x.left-b.width-A.x}}function Ko(x){return[le,On,Dn,ke].some(function(b){return x[b]>=0})}const jd={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(x){var b=x.state,A=x.name,R=b.rects.reference,j=b.rects.popper,z=b.modifiersData.preventOverflow,J=fr(b,{elementContext:"reference"}),st=fr(b,{altBoundary:!0}),ft=Hd(J,R),At=Hd(st,j,z),St=Ko(ft),yt=Ko(At);b.modifiersData[A]={referenceClippingOffsets:ft,popperEscapeOffsets:At,isReferenceHidden:St,hasPopperEscaped:yt},b.attributes.popper=Object.assign({},b.attributes.popper,{"data-popper-reference-hidden":St,"data-popper-escaped":yt})}},zd={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(x){var b=x.state,A=x.options,R=x.name,j=A.offset,z=j===void 0?[0,0]:j,J=$o.reduce(function(St,yt){return St[yt]=function(Ut,Mt,Gt){var Ht=bn(Ut),It=[ke,le].indexOf(Ht)>=0?-1:1,pe=typeof Gt=="function"?Gt(Object.assign({},Mt,{placement:Ut})):Gt,be=pe[0],Xt=pe[1];return be=be||0,Xt=(Xt||0)*It,[ke,On].indexOf(Ht)>=0?{x:Xt,y:be}:{x:be,y:Xt}}(yt,b.rects,z),St},{}),st=J[b.placement],ft=st.x,At=st.y;b.modifiersData.popperOffsets!=null&&(b.modifiersData.popperOffsets.x+=ft,b.modifiersData.popperOffsets.y+=At),b.modifiersData[R]=J}},_c={name:"popperOffsets",enabled:!0,phase:"read",fn:function(x){var b=x.state,A=x.name;b.modifiersData[A]=to({reference:b.rects.reference,element:b.rects.popper,placement:b.placement})},data:{}},$d={name:"preventOverflow",enabled:!0,phase:"main",fn:function(x){var b=x.state,A=x.options,R=x.name,j=A.mainAxis,z=j===void 0||j,J=A.altAxis,st=J!==void 0&&J,ft=A.boundary,At=A.rootBoundary,St=A.altBoundary,yt=A.padding,Ut=A.tether,Mt=Ut===void 0||Ut,Gt=A.tetherOffset,Ht=Gt===void 0?0:Gt,It=fr(b,{boundary:ft,rootBoundary:At,padding:yt,altBoundary:St}),pe=bn(b.placement),be=Os(b.placement),Xt=!be,oe=Yo(pe),jt=oe==="x"?"y":"x",_t=b.modifiersData.popperOffsets,Dt=b.rects.reference,zt=b.rects.popper,ce=typeof Ht=="function"?Ht(Object.assign({},b.rects,{placement:b.placement})):Ht,Ae=typeof ce=="number"?{mainAxis:ce,altAxis:ce}:Object.assign({mainAxis:0,altAxis:0},ce),Ue=b.modifiersData.offset?b.modifiersData.offset[b.placement]:null,Pn={x:0,y:0};if(_t){if(z){var Ge,nn=oe==="y"?le:ke,li=oe==="y"?Dn:On,qt=oe==="y"?"height":"width",ci=_t[oe],ui=ci+It[nn],Dr=ci-It[li],Ve=Mt?-zt[qt]/2:0,ve=be===Cs?Dt[qt]:zt[qt],sn=be===Cs?-zt[qt]:-Dt[qt],In=b.elements.arrow,qi=Mt&&In?Ka(In):{width:0,height:0},rn=b.modifiersData["arrow#persistent"]?b.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Be=rn[nn],al=rn[li],Fs=lr(0,Dt[qt],qi[qt]),ol=Xt?Dt[qt]/2-Ve-Fs-Be-Ae.mainAxis:ve-Fs-Be-Ae.mainAxis,Qc=Xt?-Dt[qt]/2+Ve+Fs+al+Ae.mainAxis:sn+Fs+al+Ae.mainAxis,Ei=b.elements.arrow&&zi(b.elements.arrow),ll=Ei?oe==="y"?Ei.clientTop||0:Ei.clientLeft||0:0,cl=(Ge=Ue?.[oe])!=null?Ge:0,Zc=ci+Qc-cl,Jc=lr(Mt?Xa(ui,ci+ol-cl-ll):ui,ci,Mt?Ds(Dr,Zc):Dr);_t[oe]=Jc,Pn[oe]=Jc-ci}if(st){var tu,wh=oe==="x"?le:ke,Th=oe==="x"?Dn:On,Hs=_t[jt],uo=jt==="y"?"height":"width",ul=Hs+It[wh],eu=Hs-It[Th],nu=[le,ke].indexOf(pe)!==-1,iu=(tu=Ue?.[jt])!=null?tu:0,su=nu?ul:Hs-Dt[uo]-zt[uo]-iu+Ae.altAxis,ru=nu?Hs+Dt[uo]+zt[uo]-iu-Ae.altAxis:eu,dl=Mt&&nu?function(xh,Ch,hl){var au=lr(xh,Ch,hl);return au>hl?hl:au}(su,Hs,ru):lr(Mt?su:ul,Hs,Mt?ru:eu);_t[jt]=dl,Pn[jt]=dl-Hs}b.modifiersData[R]=Pn}},requiresIfExists:["offset"]};function Cp(x,b,A){A===void 0&&(A=!1);var R,j,z=Rn(b),J=Rn(b)&&function(yt){var Ut=yt.getBoundingClientRect(),Mt=yi(Ut.width)/yt.offsetWidth||1,Gt=yi(Ut.height)/yt.offsetHeight||1;return Mt!==1||Gt!==1}(b),st=ji(b),ft=ar(x,J,A),At={scrollLeft:0,scrollTop:0},St={x:0,y:0};return(z||!z&&!A)&&((Un(b)!=="body"||dr(st))&&(At=(R=b)!==Gn(R)&&Rn(R)?{scrollLeft:(j=R).scrollLeft,scrollTop:j.scrollTop}:ds(R)),Rn(b)?((St=ar(b,!0)).x+=b.clientLeft,St.y+=b.clientTop):st&&(St.x=ta(st))),{x:ft.left+At.scrollLeft-St.x,y:ft.top+At.scrollTop-St.y,width:ft.width,height:ft.height}}function Ud(x){var b=new Map,A=new Set,R=[];function j(z){A.add(z.name),[].concat(z.requires||[],z.requiresIfExists||[]).forEach(function(J){if(!A.has(J)){var st=b.get(J);st&&j(st)}}),R.push(z)}return x.forEach(function(z){b.set(z.name,z)}),x.forEach(function(z){A.has(z.name)||j(z)}),R}var Gd={placement:"bottom",modifiers:[],strategy:"absolute"};function Vd(){for(var x=arguments.length,b=new Array(x),A=0;A<x;A++)b[A]=arguments[A];return!b.some(function(R){return!(R&&typeof R.getBoundingClientRect=="function")})}function Qo(x){x===void 0&&(x={});var b=x,A=b.defaultModifiers,R=A===void 0?[]:A,j=b.defaultOptions,z=j===void 0?Gd:j;return function(J,st,ft){ft===void 0&&(ft=z);var At,St,yt={placement:"bottom",orderedModifiers:[],options:Object.assign({},Gd,z),modifiersData:{},elements:{reference:J,popper:st},attributes:{},styles:{}},Ut=[],Mt=!1,Gt={state:yt,setOptions:function(It){var pe=typeof It=="function"?It(yt.options):It;Ht(),yt.options=Object.assign({},z,yt.options,pe),yt.scrollParents={reference:Qe(J)?hr(J):J.contextElement?hr(J.contextElement):[],popper:hr(st)};var be,Xt,oe=function(jt){var _t=Ud(jt);return mc.reduce(function(Dt,zt){return Dt.concat(_t.filter(function(ce){return ce.phase===zt}))},[])}((be=[].concat(R,yt.options.modifiers),Xt=be.reduce(function(jt,_t){var Dt=jt[_t.name];return jt[_t.name]=Dt?Object.assign({},Dt,_t,{options:Object.assign({},Dt.options,_t.options),data:Object.assign({},Dt.data,_t.data)}):_t,jt},{}),Object.keys(Xt).map(function(jt){return Xt[jt]})));return yt.orderedModifiers=oe.filter(function(jt){return jt.enabled}),yt.orderedModifiers.forEach(function(jt){var _t=jt.name,Dt=jt.options,zt=Dt===void 0?{}:Dt,ce=jt.effect;if(typeof ce=="function"){var Ae=ce({state:yt,name:_t,instance:Gt,options:zt});Ut.push(Ae||function(){})}}),Gt.update()},forceUpdate:function(){if(!Mt){var It=yt.elements,pe=It.reference,be=It.popper;if(Vd(pe,be)){yt.rects={reference:Cp(pe,zi(be),yt.options.strategy==="fixed"),popper:Ka(be)},yt.reset=!1,yt.placement=yt.options.placement,yt.orderedModifiers.forEach(function(ce){return yt.modifiersData[ce.name]=Object.assign({},ce.data)});for(var Xt=0;Xt<yt.orderedModifiers.length;Xt++)if(yt.reset!==!0){var oe=yt.orderedModifiers[Xt],jt=oe.fn,_t=oe.options,Dt=_t===void 0?{}:_t,zt=oe.name;typeof jt=="function"&&(yt=jt({state:yt,options:Dt,name:zt,instance:Gt})||yt)}else yt.reset=!1,Xt=-1}}},update:(At=function(){return new Promise(function(It){Gt.forceUpdate(),It(yt)})},function(){return St||(St=new Promise(function(It){Promise.resolve().then(function(){St=void 0,It(At())})})),St}),destroy:function(){Ht(),Mt=!0}};if(!Vd(J,st))return Gt;function Ht(){Ut.forEach(function(It){return It()}),Ut=[]}return Gt.setOptions(ft).then(function(It){!Mt&&ft.onFirstUpdate&&ft.onFirstUpdate(It)}),Gt}}var Dp=Qo(),Ac=Qo({defaultModifiers:[Wo,_c,Za,Wa]}),Ec=Qo({defaultModifiers:[Wo,_c,Za,Wa,zd,Fd,$d,$i,jd]});const qd=Object.freeze(Object.defineProperty({__proto__:null,afterMain:$n,afterRead:Go,afterWrite:Ya,applyStyles:Wa,arrow:$i,auto:os,basePlacements:Kr,beforeMain:Ld,beforeRead:rr,beforeWrite:gc,bottom:Dn,clippingParents:Md,computeStyles:Za,createPopper:Ec,createPopperBase:Dp,createPopperLite:Ac,detectOverflow:fr,end:sr,eventListeners:Wo,flip:Fd,hide:jd,left:ke,main:pc,modifierPhases:mc,offset:zd,placements:$o,popper:ls,popperGenerator:Qo,popperOffsets:_c,preventOverflow:$d,read:Uo,reference:Hi,right:On,start:Cs,top:le,variationPlacements:qa,viewport:Qr,write:Pd},Symbol.toStringTag,{value:"Module"})),Yd="dropdown",Rs=".bs.dropdown",Sc=".data-api",Op="ArrowUp",Wd="ArrowDown",Rp=`hide${Rs}`,Np=`hidden${Rs}`,Mp=`show${Rs}`,Lp=`shown${Rs}`,Xd=`click${Rs}${Sc}`,Kd=`keydown${Rs}${Sc}`,wc=`keyup${Rs}${Sc}`,Ui="show",pr='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Qd=`${pr}.${Ui}`,eo=".dropdown-menu",Zd=T()?"top-end":"top-start",Jd=T()?"top-start":"top-end",th=T()?"bottom-end":"bottom-start",na=T()?"bottom-start":"bottom-end",Pp=T()?"left-start":"right-start",Ip=T()?"right-start":"left-start",kp={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},eh={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ri extends dt{constructor(b,A){super(b,A),this._popper=null,this._parent=this._element.parentNode,this._menu=lt.next(this._element,eo)[0]||lt.prev(this._element,eo)[0]||lt.findOne(eo,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return kp}static get DefaultType(){return eh}static get NAME(){return Yd}toggle(){return this._isShown()?this.hide():this.show()}show(){if(p(this._element)||this._isShown())return;const b={relatedTarget:this._element};if(!O.trigger(this._element,Mp,b).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const A of[].concat(...document.body.children))O.on(A,"mouseover",v);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ui),this._element.classList.add(Ui),O.trigger(this._element,Lp,b)}}hide(){if(p(this._element)||!this._isShown())return;const b={relatedTarget:this._element};this._completeHide(b)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(b){if(!O.trigger(this._element,Rp,b).defaultPrevented){if("ontouchstart"in document.documentElement)for(const A of[].concat(...document.body.children))O.off(A,"mouseover",v);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ui),this._element.classList.remove(Ui),this._element.setAttribute("aria-expanded","false"),ct.removeDataAttribute(this._menu,"popper"),O.trigger(this._element,Np,b),this._element.focus()}}_getConfig(b){if(typeof(b=super._getConfig(b)).reference=="object"&&!u(b.reference)&&typeof b.reference.getBoundingClientRect!="function")throw new TypeError(`${Yd.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return b}_createPopper(){if(qd===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let b=this._element;this._config.reference==="parent"?b=this._parent:u(this._config.reference)?b=h(this._config.reference):typeof this._config.reference=="object"&&(b=this._config.reference);const A=this._getPopperConfig();this._popper=Ec(b,this._menu,A)}_isShown(){return this._menu.classList.contains(Ui)}_getPlacement(){const b=this._parent;if(b.classList.contains("dropend"))return Pp;if(b.classList.contains("dropstart"))return Ip;if(b.classList.contains("dropup-center"))return"top";if(b.classList.contains("dropdown-center"))return"bottom";const A=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return b.classList.contains("dropup")?A?Jd:Zd:A?na:th}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:b}=this._config;return typeof b=="string"?b.split(",").map(A=>Number.parseInt(A,10)):typeof b=="function"?A=>b(A,this._element):b}_getPopperConfig(){const b={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ct.setDataAttribute(this._menu,"popper","static"),b.modifiers=[{name:"applyStyles",enabled:!1}]),{...b,...N(this._config.popperConfig,[void 0,b])}}_selectMenuItem({key:b,target:A}){const R=lt.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(j=>f(j));R.length&&P(R,A,b===Wd,!R.includes(A)).focus()}static jQueryInterface(b){return this.each(function(){const A=ri.getOrCreateInstance(this,b);if(typeof b=="string"){if(A[b]===void 0)throw new TypeError(`No method named "${b}"`);A[b]()}})}static clearMenus(b){if(b.button===2||b.type==="keyup"&&b.key!=="Tab")return;const A=lt.find(Qd);for(const R of A){const j=ri.getInstance(R);if(!j||j._config.autoClose===!1)continue;const z=b.composedPath(),J=z.includes(j._menu);if(z.includes(j._element)||j._config.autoClose==="inside"&&!J||j._config.autoClose==="outside"&&J||j._menu.contains(b.target)&&(b.type==="keyup"&&b.key==="Tab"||/input|select|option|textarea|form/i.test(b.target.tagName)))continue;const st={relatedTarget:j._element};b.type==="click"&&(st.clickEvent=b),j._completeHide(st)}}static dataApiKeydownHandler(b){const A=/input|textarea/i.test(b.target.tagName),R=b.key==="Escape",j=[Op,Wd].includes(b.key);if(!j&&!R||A&&!R)return;b.preventDefault();const z=this.matches(pr)?this:lt.prev(this,pr)[0]||lt.next(this,pr)[0]||lt.findOne(pr,b.delegateTarget.parentNode),J=ri.getOrCreateInstance(z);if(j)return b.stopPropagation(),J.show(),void J._selectMenuItem(b);J._isShown()&&(b.stopPropagation(),J.hide(),z.focus())}}O.on(document,Kd,pr,ri.dataApiKeydownHandler),O.on(document,Kd,eo,ri.dataApiKeydownHandler),O.on(document,Xd,ri.clearMenus),O.on(document,wc,ri.clearMenus),O.on(document,Xd,pr,function(x){x.preventDefault(),ri.getOrCreateInstance(this).toggle()}),C(ri);const ia="backdrop",sa="show",nh=`mousedown.bs.${ia}`,Zo={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ih={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Tc extends mt{constructor(b){super(),this._config=this._getConfig(b),this._isAppended=!1,this._element=null}static get Default(){return Zo}static get DefaultType(){return ih}static get NAME(){return ia}show(b){if(!this._config.isVisible)return void N(b);this._append();const A=this._getElement();this._config.isAnimated&&_(A),A.classList.add(sa),this._emulateAnimation(()=>{N(b)})}hide(b){this._config.isVisible?(this._getElement().classList.remove(sa),this._emulateAnimation(()=>{this.dispose(),N(b)})):N(b)}dispose(){this._isAppended&&(O.off(this._element,nh),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const b=document.createElement("div");b.className=this._config.className,this._config.isAnimated&&b.classList.add("fade"),this._element=b}return this._element}_configAfterMerge(b){return b.rootElement=h(b.rootElement),b}_append(){if(this._isAppended)return;const b=this._getElement();this._config.rootElement.append(b),O.on(b,nh,()=>{N(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(b){L(b,this._getElement(),this._config.isAnimated)}}const ra=".bs.focustrap",xc=`focusin${ra}`,sh=`keydown.tab${ra}`,Cc="backward",rh={autofocus:!0,trapElement:null},Bp={autofocus:"boolean",trapElement:"element"};class ah extends mt{constructor(b){super(),this._config=this._getConfig(b),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return rh}static get DefaultType(){return Bp}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),O.off(document,ra),O.on(document,xc,b=>this._handleFocusin(b)),O.on(document,sh,b=>this._handleKeydown(b)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,O.off(document,ra))}_handleFocusin(b){const{trapElement:A}=this._config;if(b.target===document||b.target===A||A.contains(b.target))return;const R=lt.focusableChildren(A);R.length===0?A.focus():this._lastTabNavDirection===Cc?R[R.length-1].focus():R[0].focus()}_handleKeydown(b){b.key==="Tab"&&(this._lastTabNavDirection=b.shiftKey?Cc:"forward")}}const oh=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",lh=".sticky-top",Jo="padding-right",Nn="margin-right";class gr{constructor(){this._element=document.body}getWidth(){const b=document.documentElement.clientWidth;return Math.abs(window.innerWidth-b)}hide(){const b=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Jo,A=>A+b),this._setElementAttributes(oh,Jo,A=>A+b),this._setElementAttributes(lh,Nn,A=>A-b)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Jo),this._resetElementAttributes(oh,Jo),this._resetElementAttributes(lh,Nn)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(b,A,R){const j=this.getWidth();this._applyManipulationCallback(b,z=>{if(z!==this._element&&window.innerWidth>z.clientWidth+j)return;this._saveInitialAttribute(z,A);const J=window.getComputedStyle(z).getPropertyValue(A);z.style.setProperty(A,`${R(Number.parseFloat(J))}px`)})}_saveInitialAttribute(b,A){const R=b.style.getPropertyValue(A);R&&ct.setDataAttribute(b,A,R)}_resetElementAttributes(b,A){this._applyManipulationCallback(b,R=>{const j=ct.getDataAttribute(R,A);j!==null?(ct.removeDataAttribute(R,A),R.style.setProperty(A,j)):R.style.removeProperty(A)})}_applyManipulationCallback(b,A){if(u(b))A(b);else for(const R of lt.find(b,this._element))A(R)}}const Vn=".bs.modal",ch=`hide${Vn}`,uh=`hidePrevented${Vn}`,Dc=`hidden${Vn}`,tl=`show${Vn}`,Fp=`shown${Vn}`,aa=`resize${Vn}`,Oc=`click.dismiss${Vn}`,no=`mousedown.dismiss${Vn}`,Rc=`keydown.dismiss${Vn}`,dh=`click${Vn}.data-api`,Ns="modal-open",mr="show",io="modal-static",hh={backdrop:!0,focus:!0,keyboard:!0},br={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ms extends dt{constructor(b,A){super(b,A),this._dialog=lt.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new gr,this._addEventListeners()}static get Default(){return hh}static get DefaultType(){return br}static get NAME(){return"modal"}toggle(b){return this._isShown?this.hide():this.show(b)}show(b){this._isShown||this._isTransitioning||O.trigger(this._element,tl,{relatedTarget:b}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Ns),this._adjustDialog(),this._backdrop.show(()=>this._showElement(b)))}hide(){this._isShown&&!this._isTransitioning&&(O.trigger(this._element,ch).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(mr),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){O.off(window,Vn),O.off(this._dialog,Vn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Tc({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new ah({trapElement:this._element})}_showElement(b){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const A=lt.findOne(".modal-body",this._dialog);A&&(A.scrollTop=0),_(this._element),this._element.classList.add(mr),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,O.trigger(this._element,Fp,{relatedTarget:b})},this._dialog,this._isAnimated())}_addEventListeners(){O.on(this._element,Rc,b=>{b.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),O.on(window,aa,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),O.on(this._element,no,b=>{O.one(this._element,Oc,A=>{this._element===b.target&&this._element===A.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Ns),this._resetAdjustments(),this._scrollBar.reset(),O.trigger(this._element,Dc)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(O.trigger(this._element,uh).defaultPrevented)return;const b=this._element.scrollHeight>document.documentElement.clientHeight,A=this._element.style.overflowY;A==="hidden"||this._element.classList.contains(io)||(b||(this._element.style.overflowY="hidden"),this._element.classList.add(io),this._queueCallback(()=>{this._element.classList.remove(io),this._queueCallback(()=>{this._element.style.overflowY=A},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const b=this._element.scrollHeight>document.documentElement.clientHeight,A=this._scrollBar.getWidth(),R=A>0;if(R&&!b){const j=T()?"paddingLeft":"paddingRight";this._element.style[j]=`${A}px`}if(!R&&b){const j=T()?"paddingRight":"paddingLeft";this._element.style[j]=`${A}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(b,A){return this.each(function(){const R=Ms.getOrCreateInstance(this,b);if(typeof b=="string"){if(R[b]===void 0)throw new TypeError(`No method named "${b}"`);R[b](A)}})}}O.on(document,dh,'[data-bs-toggle="modal"]',function(x){const b=lt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&x.preventDefault(),O.one(b,tl,R=>{R.defaultPrevented||O.one(b,Dc,()=>{f(this)&&this.focus()})});const A=lt.findOne(".modal.show");A&&Ms.getInstance(A).hide(),Ms.getOrCreateInstance(b).toggle(this)}),Kt(Ms),C(Ms);const Gi=".bs.offcanvas",Nc=".data-api",Hp=`load${Gi}${Nc}`,fh="show",ph="showing",Mc="hiding",Lc=".offcanvas.show",Pc=`show${Gi}`,_i=`shown${Gi}`,gh=`hide${Gi}`,qn=`hidePrevented${Gi}`,Yn=`hidden${Gi}`,oa=`resize${Gi}`,Ic=`click${Gi}${Nc}`,el=`keydown.dismiss${Gi}`,nl={backdrop:!0,keyboard:!0,scroll:!1},kc={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Mn extends dt{constructor(b,A){super(b,A),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return nl}static get DefaultType(){return kc}static get NAME(){return"offcanvas"}toggle(b){return this._isShown?this.hide():this.show(b)}show(b){this._isShown||O.trigger(this._element,Pc,{relatedTarget:b}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new gr().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ph),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(fh),this._element.classList.remove(ph),O.trigger(this._element,_i,{relatedTarget:b})},this._element,!0))}hide(){this._isShown&&(O.trigger(this._element,gh).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Mc),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(fh,Mc),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new gr().reset(),O.trigger(this._element,Yn)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const b=!!this._config.backdrop;return new Tc({className:"offcanvas-backdrop",isVisible:b,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:b?()=>{this._config.backdrop!=="static"?this.hide():O.trigger(this._element,qn)}:null})}_initializeFocusTrap(){return new ah({trapElement:this._element})}_addEventListeners(){O.on(this._element,el,b=>{b.key==="Escape"&&(this._config.keyboard?this.hide():O.trigger(this._element,qn))})}static jQueryInterface(b){return this.each(function(){const A=Mn.getOrCreateInstance(this,b);if(typeof b=="string"){if(A[b]===void 0||b.startsWith("_")||b==="constructor")throw new TypeError(`No method named "${b}"`);A[b](this)}})}}O.on(document,Ic,'[data-bs-toggle="offcanvas"]',function(x){const b=lt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&x.preventDefault(),p(this))return;O.one(b,Yn,()=>{f(this)&&this.focus()});const A=lt.findOne(Lc);A&&A!==b&&Mn.getInstance(A).hide(),Mn.getOrCreateInstance(b).toggle(this)}),O.on(window,Hp,()=>{for(const x of lt.find(Lc))Mn.getOrCreateInstance(x).show()}),O.on(window,oa,()=>{for(const x of lt.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(x).position!=="fixed"&&Mn.getOrCreateInstance(x).hide()}),Kt(Mn),C(Mn);const Bc={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},il=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),la=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,jp=(x,b)=>{const A=x.nodeName.toLowerCase();return b.includes(A)?!il.has(A)||!!la.test(x.nodeValue):b.filter(R=>R instanceof RegExp).some(R=>R.test(A))},Wn={allowList:Bc,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Fc={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},hs={entry:"(string|element|function|null)",selector:"(string|element)"};class mh extends mt{constructor(b){super(),this._config=this._getConfig(b)}static get Default(){return Wn}static get DefaultType(){return Fc}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(b=>this._resolvePossibleFunction(b)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(b){return this._checkContent(b),this._config.content={...this._config.content,...b},this}toHtml(){const b=document.createElement("div");b.innerHTML=this._maybeSanitize(this._config.template);for(const[j,z]of Object.entries(this._config.content))this._setContent(b,z,j);const A=b.children[0],R=this._resolvePossibleFunction(this._config.extraClass);return R&&A.classList.add(...R.split(" ")),A}_typeCheckConfig(b){super._typeCheckConfig(b),this._checkContent(b.content)}_checkContent(b){for(const[A,R]of Object.entries(b))super._typeCheckConfig({selector:A,entry:R},hs)}_setContent(b,A,R){const j=lt.findOne(R,b);j&&((A=this._resolvePossibleFunction(A))?u(A)?this._putElementInTemplate(h(A),j):this._config.html?j.innerHTML=this._maybeSanitize(A):j.textContent=A:j.remove())}_maybeSanitize(b){return this._config.sanitize?function(A,R,j){if(!A.length)return A;if(j&&typeof j=="function")return j(A);const z=new window.DOMParser().parseFromString(A,"text/html"),J=[].concat(...z.body.querySelectorAll("*"));for(const st of J){const ft=st.nodeName.toLowerCase();if(!Object.keys(R).includes(ft)){st.remove();continue}const At=[].concat(...st.attributes),St=[].concat(R["*"]||[],R[ft]||[]);for(const yt of At)jp(yt,St)||st.removeAttribute(yt.nodeName)}return z.body.innerHTML}(b,this._config.allowList,this._config.sanitizeFn):b}_resolvePossibleFunction(b){return N(b,[void 0,this])}_putElementInTemplate(b,A){if(this._config.html)return A.innerHTML="",void A.append(b);A.textContent=b.textContent}}const sl=new Set(["sanitize","allowList","sanitizeFn"]),fs="fade",ca="show",Hc=".tooltip-inner",vr=".modal",yr="hide.bs.modal",Ls="hover",ua="focus",Ln="click",ai={AUTO:"auto",TOP:"top",RIGHT:T()?"left":"right",BOTTOM:"bottom",LEFT:T()?"right":"left"},_r={allowList:Bc,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},ps={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class yn extends dt{constructor(b,A){if(qd===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(b,A),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return _r}static get DefaultType(){return ps}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),O.off(this._element.closest(vr),yr,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const b=O.trigger(this._element,this.constructor.eventName("show")),A=(m(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(b.defaultPrevented||!A)return;this._disposePopper();const R=this._getTipElement();this._element.setAttribute("aria-describedby",R.getAttribute("id"));const{container:j}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(j.append(R),O.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(R),R.classList.add(ca),"ontouchstart"in document.documentElement)for(const z of[].concat(...document.body.children))O.on(z,"mouseover",v);this._queueCallback(()=>{O.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!O.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(ca),"ontouchstart"in document.documentElement)for(const b of[].concat(...document.body.children))O.off(b,"mouseover",v);this._activeTrigger[Ln]=!1,this._activeTrigger[ua]=!1,this._activeTrigger[Ls]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),O.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(b){const A=this._getTemplateFactory(b).toHtml();if(!A)return null;A.classList.remove(fs,ca),A.classList.add(`bs-${this.constructor.NAME}-auto`);const R=(j=>{do j+=Math.floor(1e6*Math.random());while(document.getElementById(j));return j})(this.constructor.NAME).toString();return A.setAttribute("id",R),this._isAnimated()&&A.classList.add(fs),A}setContent(b){this._newContent=b,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(b){return this._templateFactory?this._templateFactory.changeContent(b):this._templateFactory=new mh({...this._config,content:b,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Hc]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(b){return this.constructor.getOrCreateInstance(b.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(fs)}_isShown(){return this.tip&&this.tip.classList.contains(ca)}_createPopper(b){const A=N(this._config.placement,[this,b,this._element]),R=ai[A.toUpperCase()];return Ec(this._element,b,this._getPopperConfig(R))}_getOffset(){const{offset:b}=this._config;return typeof b=="string"?b.split(",").map(A=>Number.parseInt(A,10)):typeof b=="function"?A=>b(A,this._element):b}_resolvePossibleFunction(b){return N(b,[this._element,this._element])}_getPopperConfig(b){const A={placement:b,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:R=>{this._getTipElement().setAttribute("data-popper-placement",R.state.placement)}}]};return{...A,...N(this._config.popperConfig,[void 0,A])}}_setListeners(){const b=this._config.trigger.split(" ");for(const A of b)if(A==="click")O.on(this._element,this.constructor.eventName("click"),this._config.selector,R=>{const j=this._initializeOnDelegatedTarget(R);j._activeTrigger[Ln]=!(j._isShown()&&j._activeTrigger[Ln]),j.toggle()});else if(A!=="manual"){const R=A===Ls?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),j=A===Ls?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");O.on(this._element,R,this._config.selector,z=>{const J=this._initializeOnDelegatedTarget(z);J._activeTrigger[z.type==="focusin"?ua:Ls]=!0,J._enter()}),O.on(this._element,j,this._config.selector,z=>{const J=this._initializeOnDelegatedTarget(z);J._activeTrigger[z.type==="focusout"?ua:Ls]=J._element.contains(z.relatedTarget),J._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},O.on(this._element.closest(vr),yr,this._hideModalHandler)}_fixTitle(){const b=this._element.getAttribute("title");b&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",b),this._element.setAttribute("data-bs-original-title",b),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(b,A){clearTimeout(this._timeout),this._timeout=setTimeout(b,A)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(b){const A=ct.getDataAttributes(this._element);for(const R of Object.keys(A))sl.has(R)&&delete A[R];return b={...A,...typeof b=="object"&&b?b:{}},b=this._mergeConfigObj(b),b=this._configAfterMerge(b),this._typeCheckConfig(b),b}_configAfterMerge(b){return b.container=b.container===!1?document.body:h(b.container),typeof b.delay=="number"&&(b.delay={show:b.delay,hide:b.delay}),typeof b.title=="number"&&(b.title=b.title.toString()),typeof b.content=="number"&&(b.content=b.content.toString()),b}_getDelegateConfig(){const b={};for(const[A,R]of Object.entries(this._config))this.constructor.Default[A]!==R&&(b[A]=R);return b.selector=!1,b.trigger="manual",b}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(b){return this.each(function(){const A=yn.getOrCreateInstance(this,b);if(typeof b=="string"){if(A[b]===void 0)throw new TypeError(`No method named "${b}"`);A[b]()}})}}C(yn);const Ar=".popover-header",bh=".popover-body",jc={...yn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},zc={...yn.DefaultType,content:"(null|string|element|function)"};class Ze extends yn{static get Default(){return jc}static get DefaultType(){return zc}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Ar]:this._getTitle(),[bh]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(b){return this.each(function(){const A=Ze.getOrCreateInstance(this,b);if(typeof b=="string"){if(A[b]===void 0)throw new TypeError(`No method named "${b}"`);A[b]()}})}}C(Ze);const De=".bs.scrollspy",fe=`activate${De}`,Ps=`click${De}`,Vi=`load${De}.data-api`,Is="active",gs="[href]",$c=".nav-link",vh=`${$c}, .nav-item > ${$c}, .list-group-item`,so={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ro={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class da extends dt{constructor(b,A){super(b,A),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return so}static get DefaultType(){return ro}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const b of this._observableSections.values())this._observer.observe(b)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(b){return b.target=h(b.target)||document.body,b.rootMargin=b.offset?`${b.offset}px 0px -30%`:b.rootMargin,typeof b.threshold=="string"&&(b.threshold=b.threshold.split(",").map(A=>Number.parseFloat(A))),b}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(O.off(this._config.target,Ps),O.on(this._config.target,Ps,gs,b=>{const A=this._observableSections.get(b.target.hash);if(A){b.preventDefault();const R=this._rootElement||window,j=A.offsetTop-this._element.offsetTop;if(R.scrollTo)return void R.scrollTo({top:j,behavior:"smooth"});R.scrollTop=j}}))}_getNewObserver(){const b={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(A=>this._observerCallback(A),b)}_observerCallback(b){const A=J=>this._targetLinks.get(`#${J.target.id}`),R=J=>{this._previousScrollData.visibleEntryTop=J.target.offsetTop,this._process(A(J))},j=(this._rootElement||document.documentElement).scrollTop,z=j>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=j;for(const J of b){if(!J.isIntersecting){this._activeTarget=null,this._clearActiveClass(A(J));continue}const st=J.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(z&&st){if(R(J),!j)return}else z||st||R(J)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const b=lt.find(gs,this._config.target);for(const A of b){if(!A.hash||p(A))continue;const R=lt.findOne(decodeURI(A.hash),this._element);f(R)&&(this._targetLinks.set(decodeURI(A.hash),A),this._observableSections.set(A.hash,R))}}_process(b){this._activeTarget!==b&&(this._clearActiveClass(this._config.target),this._activeTarget=b,b.classList.add(Is),this._activateParents(b),O.trigger(this._element,fe,{relatedTarget:b}))}_activateParents(b){if(b.classList.contains("dropdown-item"))lt.findOne(".dropdown-toggle",b.closest(".dropdown")).classList.add(Is);else for(const A of lt.parents(b,".nav, .list-group"))for(const R of lt.prev(A,vh))R.classList.add(Is)}_clearActiveClass(b){b.classList.remove(Is);const A=lt.find(`${gs}.${Is}`,b);for(const R of A)R.classList.remove(Is)}static jQueryInterface(b){return this.each(function(){const A=da.getOrCreateInstance(this,b);if(typeof b=="string"){if(A[b]===void 0||b.startsWith("_")||b==="constructor")throw new TypeError(`No method named "${b}"`);A[b]()}})}}O.on(window,Vi,()=>{for(const x of lt.find('[data-bs-spy="scroll"]'))da.getOrCreateInstance(x)}),C(da);const Ai=".bs.tab",Uc=`hide${Ai}`,Er=`hidden${Ai}`,ms=`show${Ai}`,ks=`shown${Ai}`,bs=`click${Ai}`,Gc=`keydown${Ai}`,Vc=`load${Ai}`,ao="ArrowLeft",oo="ArrowRight",Sr="ArrowUp",en="ArrowDown",ha="Home",qc="End",wr="active",yh="fade",Yc="show",ze=".dropdown-toggle",lo=`:not(${ze})`,fa='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Tr=`.nav-link${lo}, .list-group-item${lo}, [role="tab"]${lo}, ${fa}`,Wc=`.${wr}[data-bs-toggle="tab"], .${wr}[data-bs-toggle="pill"], .${wr}[data-bs-toggle="list"]`;class oi extends dt{constructor(b){super(b),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),O.on(this._element,Gc,A=>this._keydown(A)))}static get NAME(){return"tab"}show(){const b=this._element;if(this._elemIsActive(b))return;const A=this._getActiveElem(),R=A?O.trigger(A,Uc,{relatedTarget:b}):null;O.trigger(b,ms,{relatedTarget:A}).defaultPrevented||R&&R.defaultPrevented||(this._deactivate(A,b),this._activate(b,A))}_activate(b,A){b&&(b.classList.add(wr),this._activate(lt.getElementFromSelector(b)),this._queueCallback(()=>{b.getAttribute("role")==="tab"?(b.removeAttribute("tabindex"),b.setAttribute("aria-selected",!0),this._toggleDropDown(b,!0),O.trigger(b,ks,{relatedTarget:A})):b.classList.add(Yc)},b,b.classList.contains(yh)))}_deactivate(b,A){b&&(b.classList.remove(wr),b.blur(),this._deactivate(lt.getElementFromSelector(b)),this._queueCallback(()=>{b.getAttribute("role")==="tab"?(b.setAttribute("aria-selected",!1),b.setAttribute("tabindex","-1"),this._toggleDropDown(b,!1),O.trigger(b,Er,{relatedTarget:A})):b.classList.remove(Yc)},b,b.classList.contains(yh)))}_keydown(b){if(![ao,oo,Sr,en,ha,qc].includes(b.key))return;b.stopPropagation(),b.preventDefault();const A=this._getChildren().filter(j=>!p(j));let R;if([ha,qc].includes(b.key))R=A[b.key===ha?0:A.length-1];else{const j=[oo,en].includes(b.key);R=P(A,b.target,j,!0)}R&&(R.focus({preventScroll:!0}),oi.getOrCreateInstance(R).show())}_getChildren(){return lt.find(Tr,this._parent)}_getActiveElem(){return this._getChildren().find(b=>this._elemIsActive(b))||null}_setInitialAttributes(b,A){this._setAttributeIfNotExists(b,"role","tablist");for(const R of A)this._setInitialAttributesOnChild(R)}_setInitialAttributesOnChild(b){b=this._getInnerElement(b);const A=this._elemIsActive(b),R=this._getOuterElement(b);b.setAttribute("aria-selected",A),R!==b&&this._setAttributeIfNotExists(R,"role","presentation"),A||b.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(b,"role","tab"),this._setInitialAttributesOnTargetPanel(b)}_setInitialAttributesOnTargetPanel(b){const A=lt.getElementFromSelector(b);A&&(this._setAttributeIfNotExists(A,"role","tabpanel"),b.id&&this._setAttributeIfNotExists(A,"aria-labelledby",`${b.id}`))}_toggleDropDown(b,A){const R=this._getOuterElement(b);if(!R.classList.contains("dropdown"))return;const j=(z,J)=>{const st=lt.findOne(z,R);st&&st.classList.toggle(J,A)};j(ze,wr),j(".dropdown-menu",Yc),R.setAttribute("aria-expanded",A)}_setAttributeIfNotExists(b,A,R){b.hasAttribute(A)||b.setAttribute(A,R)}_elemIsActive(b){return b.classList.contains(wr)}_getInnerElement(b){return b.matches(Tr)?b:lt.findOne(Tr,b)}_getOuterElement(b){return b.closest(".nav-item, .list-group-item")||b}static jQueryInterface(b){return this.each(function(){const A=oi.getOrCreateInstance(this);if(typeof b=="string"){if(A[b]===void 0||b.startsWith("_")||b==="constructor")throw new TypeError(`No method named "${b}"`);A[b]()}})}}O.on(document,bs,fa,function(x){["A","AREA"].includes(this.tagName)&&x.preventDefault(),p(this)||oi.getOrCreateInstance(this).show()}),O.on(window,Vc,()=>{for(const x of lt.find(Wc))oi.getOrCreateInstance(x)}),C(oi);const Xn=".bs.toast",zp=`mouseover${Xn}`,_h=`mouseout${Xn}`,$p=`focusin${Xn}`,Ah=`focusout${Xn}`,xr=`hide${Xn}`,Xc=`hidden${Xn}`,rl=`show${Xn}`,Eh=`shown${Xn}`,pa="hide",co="show",Cr="showing",Kc={animation:"boolean",autohide:"boolean",delay:"number"},Sh={animation:!0,autohide:!0,delay:5e3};class Bs extends dt{constructor(b,A){super(b,A),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Sh}static get DefaultType(){return Kc}static get NAME(){return"toast"}show(){O.trigger(this._element,rl).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(pa),_(this._element),this._element.classList.add(co,Cr),this._queueCallback(()=>{this._element.classList.remove(Cr),O.trigger(this._element,Eh),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(O.trigger(this._element,xr).defaultPrevented||(this._element.classList.add(Cr),this._queueCallback(()=>{this._element.classList.add(pa),this._element.classList.remove(Cr,co),O.trigger(this._element,Xc)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(co),super.dispose()}isShown(){return this._element.classList.contains(co)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(b,A){switch(b.type){case"mouseover":case"mouseout":this._hasMouseInteraction=A;break;case"focusin":case"focusout":this._hasKeyboardInteraction=A}if(A)return void this._clearTimeout();const R=b.relatedTarget;this._element===R||this._element.contains(R)||this._maybeScheduleHide()}_setListeners(){O.on(this._element,zp,b=>this._onInteraction(b,!0)),O.on(this._element,_h,b=>this._onInteraction(b,!1)),O.on(this._element,$p,b=>this._onInteraction(b,!0)),O.on(this._element,Ah,b=>this._onInteraction(b,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(b){return this.each(function(){const A=Bs.getOrCreateInstance(this,b);if(typeof b=="string"){if(A[b]===void 0)throw new TypeError(`No method named "${b}"`);A[b](this)}})}}return Kt(Bs),C(Bs),{Alert:Zt,Button:he,Carousel:Yr,Collapse:vi,Dropdown:ri,Modal:Ms,Offcanvas:Mn,Popover:Ze,ScrollSpy:da,Tab:oi,Toast:Bs,Tooltip:yn}})}(Of)),Of.exports}Rx();var ti="top",Pi="bottom",Ii="right",ei="left",Jf="auto",tc=[ti,Pi,Ii,ei],Co="start",Ul="end",t0="clippingParents",mb="viewport",Nl="popper",e0="reference",Gm=tc.reduce(function(r,t){return r.concat([t+"-"+Co,t+"-"+Ul])},[]),bb=[].concat(tc,[Jf]).reduce(function(r,t){return r.concat([t,t+"-"+Co,t+"-"+Ul])},[]),n0="beforeRead",i0="read",s0="afterRead",r0="beforeMain",a0="main",o0="afterMain",l0="beforeWrite",c0="write",u0="afterWrite",d0=[n0,i0,s0,r0,a0,o0,l0,c0,u0];function tr(r){return r?(r.nodeName||"").toLowerCase():null}function ki(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var t=r.ownerDocument;return t&&t.defaultView||window}return r}function Do(r){var t=ki(r).Element;return r instanceof t||r instanceof Element}function es(r){var t=ki(r).HTMLElement;return r instanceof t||r instanceof HTMLElement}function vb(r){if(typeof ShadowRoot>"u")return!1;var t=ki(r).ShadowRoot;return r instanceof t||r instanceof ShadowRoot}function Nx(r){var t=r.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},a=t.attributes[e]||{},o=t.elements[e];!es(o)||!tr(o)||(Object.assign(o.style,i),Object.keys(a).forEach(function(c){var u=a[c];u===!1?o.removeAttribute(c):o.setAttribute(c,u===!0?"":u)}))})}function Mx(r){var t=r.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var a=t.elements[i],o=t.attributes[i]||{},c=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]),u=c.reduce(function(h,f){return h[f]="",h},{});!es(a)||!tr(a)||(Object.assign(a.style,u),Object.keys(o).forEach(function(h){a.removeAttribute(h)}))})}}const yb={name:"applyStyles",enabled:!0,phase:"write",fn:Nx,effect:Mx,requires:["computeStyles"]};function Zs(r){return r.split("-")[0]}var xo=Math.max,kf=Math.min,Gl=Math.round;function Vm(){var r=navigator.userAgentData;return r!=null&&r.brands&&Array.isArray(r.brands)?r.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function h0(){return!/^((?!chrome|android).)*safari/i.test(Vm())}function Vl(r,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var i=r.getBoundingClientRect(),a=1,o=1;t&&es(r)&&(a=r.offsetWidth>0&&Gl(i.width)/r.offsetWidth||1,o=r.offsetHeight>0&&Gl(i.height)/r.offsetHeight||1);var c=Do(r)?ki(r):window,u=c.visualViewport,h=!h0()&&e,f=(i.left+(h&&u?u.offsetLeft:0))/a,p=(i.top+(h&&u?u.offsetTop:0))/o,m=i.width/a,v=i.height/o;return{width:m,height:v,top:p,right:f+m,bottom:p+v,left:f,x:f,y:p}}function _b(r){var t=Vl(r),e=r.offsetWidth,i=r.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:r.offsetLeft,y:r.offsetTop,width:e,height:i}}function f0(r,t){var e=t.getRootNode&&t.getRootNode();if(r.contains(t))return!0;if(e&&vb(e)){var i=t;do{if(i&&r.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function jr(r){return ki(r).getComputedStyle(r)}function Lx(r){return["table","td","th"].indexOf(tr(r))>=0}function za(r){return((Do(r)?r.ownerDocument:r.document)||window.document).documentElement}function tp(r){return tr(r)==="html"?r:r.assignedSlot||r.parentNode||(vb(r)?r.host:null)||za(r)}function K_(r){return!es(r)||jr(r).position==="fixed"?null:r.offsetParent}function Px(r){var t=/firefox/i.test(Vm()),e=/Trident/i.test(Vm());if(e&&es(r)){var i=jr(r);if(i.position==="fixed")return null}var a=tp(r);for(vb(a)&&(a=a.host);es(a)&&["html","body"].indexOf(tr(a))<0;){var o=jr(a);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return a;a=a.parentNode}return null}function ud(r){for(var t=ki(r),e=K_(r);e&&Lx(e)&&jr(e).position==="static";)e=K_(e);return e&&(tr(e)==="html"||tr(e)==="body"&&jr(e).position==="static")?t:e||Px(r)||t}function Ab(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function Vu(r,t,e){return xo(r,kf(t,e))}function Ix(r,t,e){var i=Vu(r,t,e);return i>e?e:i}function p0(){return{top:0,right:0,bottom:0,left:0}}function g0(r){return Object.assign({},p0(),r)}function m0(r,t){return t.reduce(function(e,i){return e[i]=r,e},{})}var kx=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,g0(typeof t!="number"?t:m0(t,tc))};function Bx(r){var t,e=r.state,i=r.name,a=r.options,o=e.elements.arrow,c=e.modifiersData.popperOffsets,u=Zs(e.placement),h=Ab(u),f=[ei,Ii].indexOf(u)>=0,p=f?"height":"width";if(!(!o||!c)){var m=kx(a.padding,e),v=_b(o),_=h==="y"?ti:ei,S=h==="y"?Pi:Ii,E=e.rects.reference[p]+e.rects.reference[h]-c[h]-e.rects.popper[p],T=c[h]-e.rects.reference[h],C=ud(o),N=C?h==="y"?C.clientHeight||0:C.clientWidth||0:0,L=E/2-T/2,P=m[_],M=N-v[p]-m[S],I=N/2-v[p]/2+L,F=Vu(P,I,M),q=h;e.modifiersData[i]=(t={},t[q]=F,t.centerOffset=F-I,t)}}function Fx(r){var t=r.state,e=r.options,i=e.element,a=i===void 0?"[data-popper-arrow]":i;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||f0(t.elements.popper,a)&&(t.elements.arrow=a))}const b0={name:"arrow",enabled:!0,phase:"main",fn:Bx,effect:Fx,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ql(r){return r.split("-")[1]}var Hx={top:"auto",right:"auto",bottom:"auto",left:"auto"};function jx(r,t){var e=r.x,i=r.y,a=t.devicePixelRatio||1;return{x:Gl(e*a)/a||0,y:Gl(i*a)/a||0}}function Q_(r){var t,e=r.popper,i=r.popperRect,a=r.placement,o=r.variation,c=r.offsets,u=r.position,h=r.gpuAcceleration,f=r.adaptive,p=r.roundOffsets,m=r.isFixed,v=c.x,_=v===void 0?0:v,S=c.y,E=S===void 0?0:S,T=typeof p=="function"?p({x:_,y:E}):{x:_,y:E};_=T.x,E=T.y;var C=c.hasOwnProperty("x"),N=c.hasOwnProperty("y"),L=ei,P=ti,M=window;if(f){var I=ud(e),F="clientHeight",q="clientWidth";if(I===ki(e)&&(I=za(e),jr(I).position!=="static"&&u==="absolute"&&(F="scrollHeight",q="scrollWidth")),I=I,a===ti||(a===ei||a===Ii)&&o===Ul){P=Pi;var Z=m&&I===M&&M.visualViewport?M.visualViewport.height:I[F];E-=Z-i.height,E*=h?1:-1}if(a===ei||(a===ti||a===Pi)&&o===Ul){L=Ii;var nt=m&&I===M&&M.visualViewport?M.visualViewport.width:I[q];_-=nt-i.width,_*=h?1:-1}}var tt=Object.assign({position:u},f&&Hx),ht=p===!0?jx({x:_,y:E},ki(e)):{x:_,y:E};if(_=ht.x,E=ht.y,h){var vt;return Object.assign({},tt,(vt={},vt[P]=N?"0":"",vt[L]=C?"0":"",vt.transform=(M.devicePixelRatio||1)<=1?"translate("+_+"px, "+E+"px)":"translate3d("+_+"px, "+E+"px, 0)",vt))}return Object.assign({},tt,(t={},t[P]=N?E+"px":"",t[L]=C?_+"px":"",t.transform="",t))}function zx(r){var t=r.state,e=r.options,i=e.gpuAcceleration,a=i===void 0?!0:i,o=e.adaptive,c=o===void 0?!0:o,u=e.roundOffsets,h=u===void 0?!0:u,f={placement:Zs(t.placement),variation:ql(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Q_(Object.assign({},f,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:c,roundOffsets:h})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Q_(Object.assign({},f,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Eb={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:zx,data:{}};var hf={passive:!0};function $x(r){var t=r.state,e=r.instance,i=r.options,a=i.scroll,o=a===void 0?!0:a,c=i.resize,u=c===void 0?!0:c,h=ki(t.elements.popper),f=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&f.forEach(function(p){p.addEventListener("scroll",e.update,hf)}),u&&h.addEventListener("resize",e.update,hf),function(){o&&f.forEach(function(p){p.removeEventListener("scroll",e.update,hf)}),u&&h.removeEventListener("resize",e.update,hf)}}const Sb={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:$x,data:{}};var Ux={left:"right",right:"left",bottom:"top",top:"bottom"};function Rf(r){return r.replace(/left|right|bottom|top/g,function(t){return Ux[t]})}var Gx={start:"end",end:"start"};function Z_(r){return r.replace(/start|end/g,function(t){return Gx[t]})}function wb(r){var t=ki(r),e=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:e,scrollTop:i}}function Tb(r){return Vl(za(r)).left+wb(r).scrollLeft}function Vx(r,t){var e=ki(r),i=za(r),a=e.visualViewport,o=i.clientWidth,c=i.clientHeight,u=0,h=0;if(a){o=a.width,c=a.height;var f=h0();(f||!f&&t==="fixed")&&(u=a.offsetLeft,h=a.offsetTop)}return{width:o,height:c,x:u+Tb(r),y:h}}function qx(r){var t,e=za(r),i=wb(r),a=(t=r.ownerDocument)==null?void 0:t.body,o=xo(e.scrollWidth,e.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),c=xo(e.scrollHeight,e.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),u=-i.scrollLeft+Tb(r),h=-i.scrollTop;return jr(a||e).direction==="rtl"&&(u+=xo(e.clientWidth,a?a.clientWidth:0)-o),{width:o,height:c,x:u,y:h}}function xb(r){var t=jr(r),e=t.overflow,i=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+a+i)}function v0(r){return["html","body","#document"].indexOf(tr(r))>=0?r.ownerDocument.body:es(r)&&xb(r)?r:v0(tp(r))}function qu(r,t){var e;t===void 0&&(t=[]);var i=v0(r),a=i===((e=r.ownerDocument)==null?void 0:e.body),o=ki(i),c=a?[o].concat(o.visualViewport||[],xb(i)?i:[]):i,u=t.concat(c);return a?u:u.concat(qu(tp(c)))}function qm(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function Yx(r,t){var e=Vl(r,!1,t==="fixed");return e.top=e.top+r.clientTop,e.left=e.left+r.clientLeft,e.bottom=e.top+r.clientHeight,e.right=e.left+r.clientWidth,e.width=r.clientWidth,e.height=r.clientHeight,e.x=e.left,e.y=e.top,e}function J_(r,t,e){return t===mb?qm(Vx(r,e)):Do(t)?Yx(t,e):qm(qx(za(r)))}function Wx(r){var t=qu(tp(r)),e=["absolute","fixed"].indexOf(jr(r).position)>=0,i=e&&es(r)?ud(r):r;return Do(i)?t.filter(function(a){return Do(a)&&f0(a,i)&&tr(a)!=="body"}):[]}function Xx(r,t,e,i){var a=t==="clippingParents"?Wx(r):[].concat(t),o=[].concat(a,[e]),c=o[0],u=o.reduce(function(h,f){var p=J_(r,f,i);return h.top=xo(p.top,h.top),h.right=kf(p.right,h.right),h.bottom=kf(p.bottom,h.bottom),h.left=xo(p.left,h.left),h},J_(r,c,i));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function y0(r){var t=r.reference,e=r.element,i=r.placement,a=i?Zs(i):null,o=i?ql(i):null,c=t.x+t.width/2-e.width/2,u=t.y+t.height/2-e.height/2,h;switch(a){case ti:h={x:c,y:t.y-e.height};break;case Pi:h={x:c,y:t.y+t.height};break;case Ii:h={x:t.x+t.width,y:u};break;case ei:h={x:t.x-e.width,y:u};break;default:h={x:t.x,y:t.y}}var f=a?Ab(a):null;if(f!=null){var p=f==="y"?"height":"width";switch(o){case Co:h[f]=h[f]-(t[p]/2-e[p]/2);break;case Ul:h[f]=h[f]+(t[p]/2-e[p]/2);break}}return h}function Yl(r,t){t===void 0&&(t={});var e=t,i=e.placement,a=i===void 0?r.placement:i,o=e.strategy,c=o===void 0?r.strategy:o,u=e.boundary,h=u===void 0?t0:u,f=e.rootBoundary,p=f===void 0?mb:f,m=e.elementContext,v=m===void 0?Nl:m,_=e.altBoundary,S=_===void 0?!1:_,E=e.padding,T=E===void 0?0:E,C=g0(typeof T!="number"?T:m0(T,tc)),N=v===Nl?e0:Nl,L=r.rects.popper,P=r.elements[S?N:v],M=Xx(Do(P)?P:P.contextElement||za(r.elements.popper),h,p,c),I=Vl(r.elements.reference),F=y0({reference:I,element:L,placement:a}),q=qm(Object.assign({},L,F)),Z=v===Nl?q:I,nt={top:M.top-Z.top+C.top,bottom:Z.bottom-M.bottom+C.bottom,left:M.left-Z.left+C.left,right:Z.right-M.right+C.right},tt=r.modifiersData.offset;if(v===Nl&&tt){var ht=tt[a];Object.keys(nt).forEach(function(vt){var Et=[Ii,Pi].indexOf(vt)>=0?1:-1,bt=[ti,Pi].indexOf(vt)>=0?"y":"x";nt[vt]+=ht[bt]*Et})}return nt}function Kx(r,t){t===void 0&&(t={});var e=t,i=e.placement,a=e.boundary,o=e.rootBoundary,c=e.padding,u=e.flipVariations,h=e.allowedAutoPlacements,f=h===void 0?bb:h,p=ql(i),m=p?u?Gm:Gm.filter(function(S){return ql(S)===p}):tc,v=m.filter(function(S){return f.indexOf(S)>=0});v.length===0&&(v=m);var _=v.reduce(function(S,E){return S[E]=Yl(r,{placement:E,boundary:a,rootBoundary:o,padding:c})[Zs(E)],S},{});return Object.keys(_).sort(function(S,E){return _[S]-_[E]})}function Qx(r){if(Zs(r)===Jf)return[];var t=Rf(r);return[Z_(r),t,Z_(t)]}function Zx(r){var t=r.state,e=r.options,i=r.name;if(!t.modifiersData[i]._skip){for(var a=e.mainAxis,o=a===void 0?!0:a,c=e.altAxis,u=c===void 0?!0:c,h=e.fallbackPlacements,f=e.padding,p=e.boundary,m=e.rootBoundary,v=e.altBoundary,_=e.flipVariations,S=_===void 0?!0:_,E=e.allowedAutoPlacements,T=t.options.placement,C=Zs(T),N=C===T,L=h||(N||!S?[Rf(T)]:Qx(T)),P=[T].concat(L).reduce(function(ct,mt){return ct.concat(Zs(mt)===Jf?Kx(t,{placement:mt,boundary:p,rootBoundary:m,padding:f,flipVariations:S,allowedAutoPlacements:E}):mt)},[]),M=t.rects.reference,I=t.rects.popper,F=new Map,q=!0,Z=P[0],nt=0;nt<P.length;nt++){var tt=P[nt],ht=Zs(tt),vt=ql(tt)===Co,Et=[ti,Pi].indexOf(ht)>=0,bt=Et?"width":"height",B=Yl(t,{placement:tt,boundary:p,rootBoundary:m,altBoundary:v,padding:f}),G=Et?vt?Ii:ei:vt?Pi:ti;M[bt]>I[bt]&&(G=Rf(G));var pt=Rf(G),xt=[];if(o&&xt.push(B[ht]<=0),u&&xt.push(B[G]<=0,B[pt]<=0),xt.every(function(ct){return ct})){Z=tt,q=!1;break}F.set(tt,xt)}if(q)for(var O=S?3:1,et=function(mt){var dt=P.find(function(Ct){var lt=F.get(Ct);if(lt)return lt.slice(0,mt).every(function(Kt){return Kt})});if(dt)return Z=dt,"break"},ot=O;ot>0;ot--){var K=et(ot);if(K==="break")break}t.placement!==Z&&(t.modifiersData[i]._skip=!0,t.placement=Z,t.reset=!0)}}const _0={name:"flip",enabled:!0,phase:"main",fn:Zx,requiresIfExists:["offset"],data:{_skip:!1}};function tA(r,t,e){return e===void 0&&(e={x:0,y:0}),{top:r.top-t.height-e.y,right:r.right-t.width+e.x,bottom:r.bottom-t.height+e.y,left:r.left-t.width-e.x}}function eA(r){return[ti,Ii,Pi,ei].some(function(t){return r[t]>=0})}function Jx(r){var t=r.state,e=r.name,i=t.rects.reference,a=t.rects.popper,o=t.modifiersData.preventOverflow,c=Yl(t,{elementContext:"reference"}),u=Yl(t,{altBoundary:!0}),h=tA(c,i),f=tA(u,a,o),p=eA(h),m=eA(f);t.modifiersData[e]={referenceClippingOffsets:h,popperEscapeOffsets:f,isReferenceHidden:p,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":m})}const A0={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Jx};function tC(r,t,e){var i=Zs(r),a=[ei,ti].indexOf(i)>=0?-1:1,o=typeof e=="function"?e(Object.assign({},t,{placement:r})):e,c=o[0],u=o[1];return c=c||0,u=(u||0)*a,[ei,Ii].indexOf(i)>=0?{x:u,y:c}:{x:c,y:u}}function eC(r){var t=r.state,e=r.options,i=r.name,a=e.offset,o=a===void 0?[0,0]:a,c=bb.reduce(function(p,m){return p[m]=tC(m,t.rects,o),p},{}),u=c[t.placement],h=u.x,f=u.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=h,t.modifiersData.popperOffsets.y+=f),t.modifiersData[i]=c}const E0={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:eC};function nC(r){var t=r.state,e=r.name;t.modifiersData[e]=y0({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const Cb={name:"popperOffsets",enabled:!0,phase:"read",fn:nC,data:{}};function iC(r){return r==="x"?"y":"x"}function sC(r){var t=r.state,e=r.options,i=r.name,a=e.mainAxis,o=a===void 0?!0:a,c=e.altAxis,u=c===void 0?!1:c,h=e.boundary,f=e.rootBoundary,p=e.altBoundary,m=e.padding,v=e.tether,_=v===void 0?!0:v,S=e.tetherOffset,E=S===void 0?0:S,T=Yl(t,{boundary:h,rootBoundary:f,padding:m,altBoundary:p}),C=Zs(t.placement),N=ql(t.placement),L=!N,P=Ab(C),M=iC(P),I=t.modifiersData.popperOffsets,F=t.rects.reference,q=t.rects.popper,Z=typeof E=="function"?E(Object.assign({},t.rects,{placement:t.placement})):E,nt=typeof Z=="number"?{mainAxis:Z,altAxis:Z}:Object.assign({mainAxis:0,altAxis:0},Z),tt=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,ht={x:0,y:0};if(I){if(o){var vt,Et=P==="y"?ti:ei,bt=P==="y"?Pi:Ii,B=P==="y"?"height":"width",G=I[P],pt=G+T[Et],xt=G-T[bt],O=_?-q[B]/2:0,et=N===Co?F[B]:q[B],ot=N===Co?-q[B]:-F[B],K=t.elements.arrow,ct=_&&K?_b(K):{width:0,height:0},mt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:p0(),dt=mt[Et],Ct=mt[bt],lt=Vu(0,F[B],ct[B]),Kt=L?F[B]/2-O-lt-dt-nt.mainAxis:et-lt-dt-nt.mainAxis,Wt=L?-F[B]/2+O+lt+Ct+nt.mainAxis:ot+lt+Ct+nt.mainAxis,Re=t.elements.arrow&&ud(t.elements.arrow),ae=Re?P==="y"?Re.clientTop||0:Re.clientLeft||0:0,Zt=(vt=tt?.[P])!=null?vt:0,Jt=G+Kt-Zt-ae,he=G+Wt-Zt,se=Vu(_?kf(pt,Jt):pt,G,_?xo(xt,he):xt);I[P]=se,ht[P]=se-G}if(u){var Ce,ni=P==="x"?ti:ei,ii=P==="x"?Pi:Ii,Tn=I[M],xn=M==="y"?"height":"width",Gr=Tn+T[ni],er=Tn-T[ii],Bi=[ti,ei].indexOf(C)!==-1,zn=(Ce=tt?.[M])!=null?Ce:0,bi=Bi?Gr:Tn-F[xn]-q[xn]-zn+nt.altAxis,Ne=Bi?Tn+F[xn]+q[xn]-zn-nt.altAxis:er,ln=_&&Bi?Ix(bi,Tn,Ne):Vu(_?bi:Gr,Tn,_?Ne:er);I[M]=ln,ht[M]=ln-Tn}t.modifiersData[i]=ht}}const S0={name:"preventOverflow",enabled:!0,phase:"main",fn:sC,requiresIfExists:["offset"]};function rC(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function aC(r){return r===ki(r)||!es(r)?wb(r):rC(r)}function oC(r){var t=r.getBoundingClientRect(),e=Gl(t.width)/r.offsetWidth||1,i=Gl(t.height)/r.offsetHeight||1;return e!==1||i!==1}function lC(r,t,e){e===void 0&&(e=!1);var i=es(t),a=es(t)&&oC(t),o=za(t),c=Vl(r,a,e),u={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(i||!i&&!e)&&((tr(t)!=="body"||xb(o))&&(u=aC(t)),es(t)?(h=Vl(t,!0),h.x+=t.clientLeft,h.y+=t.clientTop):o&&(h.x=Tb(o))),{x:c.left+u.scrollLeft-h.x,y:c.top+u.scrollTop-h.y,width:c.width,height:c.height}}function cC(r){var t=new Map,e=new Set,i=[];r.forEach(function(o){t.set(o.name,o)});function a(o){e.add(o.name);var c=[].concat(o.requires||[],o.requiresIfExists||[]);c.forEach(function(u){if(!e.has(u)){var h=t.get(u);h&&a(h)}}),i.push(o)}return r.forEach(function(o){e.has(o.name)||a(o)}),i}function uC(r){var t=cC(r);return d0.reduce(function(e,i){return e.concat(t.filter(function(a){return a.phase===i}))},[])}function dC(r){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(r())})})),t}}function hC(r){var t=r.reduce(function(e,i){var a=e[i.name];return e[i.name]=a?Object.assign({},a,i,{options:Object.assign({},a.options,i.options),data:Object.assign({},a.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}var nA={placement:"bottom",modifiers:[],strategy:"absolute"};function iA(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function ep(r){r===void 0&&(r={});var t=r,e=t.defaultModifiers,i=e===void 0?[]:e,a=t.defaultOptions,o=a===void 0?nA:a;return function(u,h,f){f===void 0&&(f=o);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},nA,o),modifiersData:{},elements:{reference:u,popper:h},attributes:{},styles:{}},m=[],v=!1,_={state:p,setOptions:function(C){var N=typeof C=="function"?C(p.options):C;E(),p.options=Object.assign({},o,p.options,N),p.scrollParents={reference:Do(u)?qu(u):u.contextElement?qu(u.contextElement):[],popper:qu(h)};var L=uC(hC([].concat(i,p.options.modifiers)));return p.orderedModifiers=L.filter(function(P){return P.enabled}),S(),_.update()},forceUpdate:function(){if(!v){var C=p.elements,N=C.reference,L=C.popper;if(iA(N,L)){p.rects={reference:lC(N,ud(L),p.options.strategy==="fixed"),popper:_b(L)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(nt){return p.modifiersData[nt.name]=Object.assign({},nt.data)});for(var P=0;P<p.orderedModifiers.length;P++){if(p.reset===!0){p.reset=!1,P=-1;continue}var M=p.orderedModifiers[P],I=M.fn,F=M.options,q=F===void 0?{}:F,Z=M.name;typeof I=="function"&&(p=I({state:p,options:q,name:Z,instance:_})||p)}}}},update:dC(function(){return new Promise(function(T){_.forceUpdate(),T(p)})}),destroy:function(){E(),v=!0}};if(!iA(u,h))return _;_.setOptions(f).then(function(T){!v&&f.onFirstUpdate&&f.onFirstUpdate(T)});function S(){p.orderedModifiers.forEach(function(T){var C=T.name,N=T.options,L=N===void 0?{}:N,P=T.effect;if(typeof P=="function"){var M=P({state:p,name:C,instance:_,options:L}),I=function(){};m.push(M||I)}})}function E(){m.forEach(function(T){return T()}),m=[]}return _}}var fC=ep(),pC=[Sb,Cb,Eb,yb],gC=ep({defaultModifiers:pC}),mC=[Sb,Cb,Eb,yb,E0,_0,S0,b0,A0],Db=ep({defaultModifiers:mC});const w0=Object.freeze(Object.defineProperty({__proto__:null,afterMain:o0,afterRead:s0,afterWrite:u0,applyStyles:yb,arrow:b0,auto:Jf,basePlacements:tc,beforeMain:r0,beforeRead:n0,beforeWrite:l0,bottom:Pi,clippingParents:t0,computeStyles:Eb,createPopper:Db,createPopperBase:fC,createPopperLite:gC,detectOverflow:Yl,end:Ul,eventListeners:Sb,flip:_0,hide:A0,left:ei,main:a0,modifierPhases:d0,offset:E0,placements:bb,popper:Nl,popperGenerator:ep,popperOffsets:Cb,preventOverflow:S0,read:i0,reference:e0,right:Ii,start:Co,top:ti,variationPlacements:Gm,viewport:mb,write:c0},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.7 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Na=new Map,em={set(r,t,e){Na.has(r)||Na.set(r,new Map);const i=Na.get(r);if(!i.has(t)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(t,e)},get(r,t){return Na.has(r)&&Na.get(r).get(t)||null},remove(r,t){if(!Na.has(r))return;const e=Na.get(r);e.delete(t),e.size===0&&Na.delete(r)}},bC=1e6,vC=1e3,Ym="transitionend",T0=r=>(r&&window.CSS&&window.CSS.escape&&(r=r.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),r),yC=r=>r==null?`${r}`:Object.prototype.toString.call(r).match(/\s([a-z]+)/i)[1].toLowerCase(),_C=r=>{do r+=Math.floor(Math.random()*bC);while(document.getElementById(r));return r},AC=r=>{if(!r)return 0;let{transitionDuration:t,transitionDelay:e}=window.getComputedStyle(r);const i=Number.parseFloat(t),a=Number.parseFloat(e);return!i&&!a?0:(t=t.split(",")[0],e=e.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(e))*vC)},x0=r=>{r.dispatchEvent(new Event(Ym))},Fr=r=>!r||typeof r!="object"?!1:(typeof r.jquery<"u"&&(r=r[0]),typeof r.nodeType<"u"),ka=r=>Fr(r)?r.jquery?r[0]:r:typeof r=="string"&&r.length>0?document.querySelector(T0(r)):null,ec=r=>{if(!Fr(r)||r.getClientRects().length===0)return!1;const t=getComputedStyle(r).getPropertyValue("visibility")==="visible",e=r.closest("details:not([open])");if(!e)return t;if(e!==r){const i=r.closest("summary");if(i&&i.parentNode!==e||i===null)return!1}return t},Ba=r=>!r||r.nodeType!==Node.ELEMENT_NODE||r.classList.contains("disabled")?!0:typeof r.disabled<"u"?r.disabled:r.hasAttribute("disabled")&&r.getAttribute("disabled")!=="false",C0=r=>{if(!document.documentElement.attachShadow)return null;if(typeof r.getRootNode=="function"){const t=r.getRootNode();return t instanceof ShadowRoot?t:null}return r instanceof ShadowRoot?r:r.parentNode?C0(r.parentNode):null},Bf=()=>{},dd=r=>{r.offsetHeight},D0=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,nm=[],EC=r=>{document.readyState==="loading"?(nm.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of nm)t()}),nm.push(r)):r()},is=()=>document.documentElement.dir==="rtl",as=r=>{EC(()=>{const t=D0();if(t){const e=r.NAME,i=t.fn[e];t.fn[e]=r.jQueryInterface,t.fn[e].Constructor=r,t.fn[e].noConflict=()=>(t.fn[e]=i,r.jQueryInterface)}})},mi=(r,t=[],e=r)=>typeof r=="function"?r.call(...t):e,O0=(r,t,e=!0)=>{if(!e){mi(r);return}const a=AC(t)+5;let o=!1;const c=({target:u})=>{u===t&&(o=!0,t.removeEventListener(Ym,c),mi(r))};t.addEventListener(Ym,c),setTimeout(()=>{o||x0(t)},a)},Ob=(r,t,e,i)=>{const a=r.length;let o=r.indexOf(t);return o===-1?!e&&i?r[a-1]:r[0]:(o+=e?1:-1,i&&(o=(o+a)%a),r[Math.max(0,Math.min(o,a-1))])},SC=/[^.]*(?=\..*)\.|.*/,wC=/\..*/,TC=/::\d+$/,im={};let sA=1;const R0={mouseenter:"mouseover",mouseleave:"mouseout"},xC=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function N0(r,t){return t&&`${t}::${sA++}`||r.uidEvent||sA++}function M0(r){const t=N0(r);return r.uidEvent=t,im[t]=im[t]||{},im[t]}function CC(r,t){return function e(i){return Rb(i,{delegateTarget:r}),e.oneOff&&ut.off(r,i.type,t),t.apply(r,[i])}}function DC(r,t,e){return function i(a){const o=r.querySelectorAll(t);for(let{target:c}=a;c&&c!==this;c=c.parentNode)for(const u of o)if(u===c)return Rb(a,{delegateTarget:c}),i.oneOff&&ut.off(r,a.type,t,e),e.apply(c,[a])}}function L0(r,t,e=null){return Object.values(r).find(i=>i.callable===t&&i.delegationSelector===e)}function P0(r,t,e){const i=typeof t=="string",a=i?e:t||e;let o=I0(r);return xC.has(o)||(o=r),[i,a,o]}function rA(r,t,e,i,a){if(typeof t!="string"||!r)return;let[o,c,u]=P0(t,e,i);t in R0&&(c=(S=>function(E){if(!E.relatedTarget||E.relatedTarget!==E.delegateTarget&&!E.delegateTarget.contains(E.relatedTarget))return S.call(this,E)})(c));const h=M0(r),f=h[u]||(h[u]={}),p=L0(f,c,o?e:null);if(p){p.oneOff=p.oneOff&&a;return}const m=N0(c,t.replace(SC,"")),v=o?DC(r,e,c):CC(r,c);v.delegationSelector=o?e:null,v.callable=c,v.oneOff=a,v.uidEvent=m,f[m]=v,r.addEventListener(u,v,o)}function Wm(r,t,e,i,a){const o=L0(t[e],i,a);o&&(r.removeEventListener(e,o,!!a),delete t[e][o.uidEvent])}function OC(r,t,e,i){const a=t[e]||{};for(const[o,c]of Object.entries(a))o.includes(i)&&Wm(r,t,e,c.callable,c.delegationSelector)}function I0(r){return r=r.replace(wC,""),R0[r]||r}const ut={on(r,t,e,i){rA(r,t,e,i,!1)},one(r,t,e,i){rA(r,t,e,i,!0)},off(r,t,e,i){if(typeof t!="string"||!r)return;const[a,o,c]=P0(t,e,i),u=c!==t,h=M0(r),f=h[c]||{},p=t.startsWith(".");if(typeof o<"u"){if(!Object.keys(f).length)return;Wm(r,h,c,o,a?e:null);return}if(p)for(const m of Object.keys(h))OC(r,h,m,t.slice(1));for(const[m,v]of Object.entries(f)){const _=m.replace(TC,"");(!u||t.includes(_))&&Wm(r,h,c,v.callable,v.delegationSelector)}},trigger(r,t,e){if(typeof t!="string"||!r)return null;const i=D0(),a=I0(t),o=t!==a;let c=null,u=!0,h=!0,f=!1;o&&i&&(c=i.Event(t,e),i(r).trigger(c),u=!c.isPropagationStopped(),h=!c.isImmediatePropagationStopped(),f=c.isDefaultPrevented());const p=Rb(new Event(t,{bubbles:u,cancelable:!0}),e);return f&&p.preventDefault(),h&&r.dispatchEvent(p),p.defaultPrevented&&c&&c.preventDefault(),p}};function Rb(r,t={}){for(const[e,i]of Object.entries(t))try{r[e]=i}catch{Object.defineProperty(r,e,{configurable:!0,get(){return i}})}return r}function aA(r){if(r==="true")return!0;if(r==="false")return!1;if(r===Number(r).toString())return Number(r);if(r===""||r==="null")return null;if(typeof r!="string")return r;try{return JSON.parse(decodeURIComponent(r))}catch{return r}}function sm(r){return r.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const Hr={setDataAttribute(r,t,e){r.setAttribute(`data-bs-${sm(t)}`,e)},removeDataAttribute(r,t){r.removeAttribute(`data-bs-${sm(t)}`)},getDataAttributes(r){if(!r)return{};const t={},e=Object.keys(r.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of e){let a=i.replace(/^bs/,"");a=a.charAt(0).toLowerCase()+a.slice(1),t[a]=aA(r.dataset[i])}return t},getDataAttribute(r,t){return aA(r.getAttribute(`data-bs-${sm(t)}`))}};class hd{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const i=Fr(e)?Hr.getDataAttribute(e,"config"):{};return{...this.constructor.Default,...typeof i=="object"?i:{},...Fr(e)?Hr.getDataAttributes(e):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[i,a]of Object.entries(e)){const o=t[i],c=Fr(o)?"element":yC(o);if(!new RegExp(a).test(c))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${c}" but expected type "${a}".`)}}}const RC="5.3.7";class Ss extends hd{constructor(t,e){super(),t=ka(t),t&&(this._element=t,this._config=this._getConfig(e),em.set(this._element,this.constructor.DATA_KEY,this))}dispose(){em.remove(this._element,this.constructor.DATA_KEY),ut.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){O0(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return em.get(ka(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,typeof e=="object"?e:null)}static get VERSION(){return RC}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const rm=r=>{let t=r.getAttribute("data-bs-target");if(!t||t==="#"){let e=r.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),t=e&&e!=="#"?e.trim():null}return t?t.split(",").map(e=>T0(e)).join(","):null},Lt={find(r,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,r))},findOne(r,t=document.documentElement){return Element.prototype.querySelector.call(t,r)},children(r,t){return[].concat(...r.children).filter(e=>e.matches(t))},parents(r,t){const e=[];let i=r.parentNode.closest(t);for(;i;)e.push(i),i=i.parentNode.closest(t);return e},prev(r,t){let e=r.previousElementSibling;for(;e;){if(e.matches(t))return[e];e=e.previousElementSibling}return[]},next(r,t){let e=r.nextElementSibling;for(;e;){if(e.matches(t))return[e];e=e.nextElementSibling}return[]},focusableChildren(r){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,r).filter(e=>!Ba(e)&&ec(e))},getSelectorFromElement(r){const t=rm(r);return t&&Lt.findOne(t)?t:null},getElementFromSelector(r){const t=rm(r);return t?Lt.findOne(t):null},getMultipleElementsFromSelector(r){const t=rm(r);return t?Lt.find(t):[]}},np=(r,t="hide")=>{const e=`click.dismiss${r.EVENT_KEY}`,i=r.NAME;ut.on(document,e,`[data-bs-dismiss="${i}"]`,function(a){if(["A","AREA"].includes(this.tagName)&&a.preventDefault(),Ba(this))return;const o=Lt.getElementFromSelector(this)||this.closest(`.${i}`);r.getOrCreateInstance(o)[t]()})},NC="alert",MC="bs.alert",k0=`.${MC}`,LC=`close${k0}`,PC=`closed${k0}`,IC="fade",kC="show";class ip extends Ss{static get NAME(){return NC}close(){if(ut.trigger(this._element,LC).defaultPrevented)return;this._element.classList.remove(kC);const e=this._element.classList.contains(IC);this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),ut.trigger(this._element,PC),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=ip.getOrCreateInstance(this);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}np(ip,"close");as(ip);const BC="button",FC="bs.button",HC=`.${FC}`,jC=".data-api",zC="active",oA='[data-bs-toggle="button"]',$C=`click${HC}${jC}`;class sp extends Ss{static get NAME(){return BC}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(zC))}static jQueryInterface(t){return this.each(function(){const e=sp.getOrCreateInstance(this);t==="toggle"&&e[t]()})}}ut.on(document,$C,oA,r=>{r.preventDefault();const t=r.target.closest(oA);sp.getOrCreateInstance(t).toggle()});as(sp);const UC="swipe",nc=".bs.swipe",GC=`touchstart${nc}`,VC=`touchmove${nc}`,qC=`touchend${nc}`,YC=`pointerdown${nc}`,WC=`pointerup${nc}`,XC="touch",KC="pen",QC="pointer-event",ZC=40,JC={endCallback:null,leftCallback:null,rightCallback:null},t1={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ff extends hd{constructor(t,e){super(),this._element=t,!(!t||!Ff.isSupported())&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return JC}static get DefaultType(){return t1}static get NAME(){return UC}dispose(){ut.off(this._element,nc)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),mi(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=ZC)return;const e=t/this._deltaX;this._deltaX=0,e&&mi(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ut.on(this._element,YC,t=>this._start(t)),ut.on(this._element,WC,t=>this._end(t)),this._element.classList.add(QC)):(ut.on(this._element,GC,t=>this._start(t)),ut.on(this._element,VC,t=>this._move(t)),ut.on(this._element,qC,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===KC||t.pointerType===XC)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const e1="carousel",n1="bs.carousel",$a=`.${n1}`,B0=".data-api",i1="ArrowLeft",s1="ArrowRight",r1=500,Lu="next",Ol="prev",Ml="left",Nf="right",a1=`slide${$a}`,am=`slid${$a}`,o1=`keydown${$a}`,l1=`mouseenter${$a}`,c1=`mouseleave${$a}`,u1=`dragstart${$a}`,d1=`load${$a}${B0}`,h1=`click${$a}${B0}`,F0="carousel",ff="active",f1="slide",p1="carousel-item-end",g1="carousel-item-start",m1="carousel-item-next",b1="carousel-item-prev",H0=".active",j0=".carousel-item",v1=H0+j0,y1=".carousel-item img",_1=".carousel-indicators",A1="[data-bs-slide], [data-bs-slide-to]",E1='[data-bs-ride="carousel"]',S1={[i1]:Nf,[s1]:Ml},w1={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},T1={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class fd extends Ss{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Lt.findOne(_1,this._element),this._addEventListeners(),this._config.ride===F0&&this.cycle()}static get Default(){return w1}static get DefaultType(){return T1}static get NAME(){return e1}next(){this._slide(Lu)}nextWhenVisible(){!document.hidden&&ec(this._element)&&this.next()}prev(){this._slide(Ol)}pause(){this._isSliding&&x0(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){ut.one(this._element,am,()=>this.cycle());return}this.cycle()}}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding){ut.one(this._element,am,()=>this.to(t));return}const i=this._getItemIndex(this._getActive());if(i===t)return;const a=t>i?Lu:Ol;this._slide(a,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&ut.on(this._element,o1,t=>this._keydown(t)),this._config.pause==="hover"&&(ut.on(this._element,l1,()=>this.pause()),ut.on(this._element,c1,()=>this._maybeEnableCycle())),this._config.touch&&Ff.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of Lt.find(y1,this._element))ut.on(i,u1,a=>a.preventDefault());const e={leftCallback:()=>this._slide(this._directionToOrder(Ml)),rightCallback:()=>this._slide(this._directionToOrder(Nf)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),r1+this._config.interval))}};this._swipeHelper=new Ff(this._element,e)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=S1[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=Lt.findOne(H0,this._indicatorsElement);e.classList.remove(ff),e.removeAttribute("aria-current");const i=Lt.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(ff),i.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const i=this._getActive(),a=t===Lu,o=e||Ob(this._getItems(),i,a,this._config.wrap);if(o===i)return;const c=this._getItemIndex(o),u=_=>ut.trigger(this._element,_,{relatedTarget:o,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:c});if(u(a1).defaultPrevented||!i||!o)return;const f=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(c),this._activeElement=o;const p=a?g1:p1,m=a?m1:b1;o.classList.add(m),dd(o),i.classList.add(p),o.classList.add(p);const v=()=>{o.classList.remove(p,m),o.classList.add(ff),i.classList.remove(ff,m,p),this._isSliding=!1,u(am)};this._queueCallback(v,i,this._isAnimated()),f&&this.cycle()}_isAnimated(){return this._element.classList.contains(f1)}_getActive(){return Lt.findOne(v1,this._element)}_getItems(){return Lt.find(j0,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return is()?t===Ml?Ol:Lu:t===Ml?Lu:Ol}_orderToDirection(t){return is()?t===Ol?Ml:Nf:t===Ol?Nf:Ml}static jQueryInterface(t){return this.each(function(){const e=fd.getOrCreateInstance(this,t);if(typeof t=="number"){e.to(t);return}if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}ut.on(document,h1,A1,function(r){const t=Lt.getElementFromSelector(this);if(!t||!t.classList.contains(F0))return;r.preventDefault();const e=fd.getOrCreateInstance(t),i=this.getAttribute("data-bs-slide-to");if(i){e.to(i),e._maybeEnableCycle();return}if(Hr.getDataAttribute(this,"slide")==="next"){e.next(),e._maybeEnableCycle();return}e.prev(),e._maybeEnableCycle()});ut.on(window,d1,()=>{const r=Lt.find(E1);for(const t of r)fd.getOrCreateInstance(t)});as(fd);const x1="collapse",C1="bs.collapse",pd=`.${C1}`,D1=".data-api",O1=`show${pd}`,R1=`shown${pd}`,N1=`hide${pd}`,M1=`hidden${pd}`,L1=`click${pd}${D1}`,om="show",kl="collapse",pf="collapsing",P1="collapsed",I1=`:scope .${kl} .${kl}`,k1="collapse-horizontal",B1="width",F1="height",H1=".collapse.show, .collapse.collapsing",Xm='[data-bs-toggle="collapse"]',j1={parent:null,toggle:!0},z1={parent:"(null|element)",toggle:"boolean"};class Qu extends Ss{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const i=Lt.find(Xm);for(const a of i){const o=Lt.getSelectorFromElement(a),c=Lt.find(o).filter(u=>u===this._element);o!==null&&c.length&&this._triggerArray.push(a)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return j1}static get DefaultType(){return z1}static get NAME(){return x1}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(H1).filter(u=>u!==this._element).map(u=>Qu.getOrCreateInstance(u,{toggle:!1}))),t.length&&t[0]._isTransitioning||ut.trigger(this._element,O1).defaultPrevented)return;for(const u of t)u.hide();const i=this._getDimension();this._element.classList.remove(kl),this._element.classList.add(pf),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const a=()=>{this._isTransitioning=!1,this._element.classList.remove(pf),this._element.classList.add(kl,om),this._element.style[i]="",ut.trigger(this._element,R1)},c=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(a,this._element,!0),this._element.style[i]=`${this._element[c]}px`}hide(){if(this._isTransitioning||!this._isShown()||ut.trigger(this._element,N1).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,dd(this._element),this._element.classList.add(pf),this._element.classList.remove(kl,om);for(const a of this._triggerArray){const o=Lt.getElementFromSelector(a);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([a],!1)}this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(pf),this._element.classList.add(kl),ut.trigger(this._element,M1)};this._element.style[e]="",this._queueCallback(i,this._element,!0)}_isShown(t=this._element){return t.classList.contains(om)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=ka(t.parent),t}_getDimension(){return this._element.classList.contains(k1)?B1:F1}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(Xm);for(const e of t){const i=Lt.getElementFromSelector(e);i&&this._addAriaAndCollapsedClass([e],this._isShown(i))}}_getFirstLevelChildren(t){const e=Lt.find(I1,this._config.parent);return Lt.find(t,this._config.parent).filter(i=>!e.includes(i))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const i of t)i.classList.toggle(P1,!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return typeof t=="string"&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const i=Qu.getOrCreateInstance(this,e);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t]()}})}}ut.on(document,L1,Xm,function(r){(r.target.tagName==="A"||r.delegateTarget&&r.delegateTarget.tagName==="A")&&r.preventDefault();for(const t of Lt.getMultipleElementsFromSelector(this))Qu.getOrCreateInstance(t,{toggle:!1}).toggle()});as(Qu);const lA="dropdown",$1="bs.dropdown",Po=`.${$1}`,Nb=".data-api",U1="Escape",cA="Tab",G1="ArrowUp",uA="ArrowDown",V1=2,q1=`hide${Po}`,Y1=`hidden${Po}`,W1=`show${Po}`,X1=`shown${Po}`,z0=`click${Po}${Nb}`,$0=`keydown${Po}${Nb}`,K1=`keyup${Po}${Nb}`,Ll="show",Q1="dropup",Z1="dropend",J1="dropstart",tD="dropup-center",eD="dropdown-center",_o='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',nD=`${_o}.${Ll}`,Mf=".dropdown-menu",iD=".navbar",sD=".navbar-nav",rD=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",aD=is()?"top-end":"top-start",oD=is()?"top-start":"top-end",lD=is()?"bottom-end":"bottom-start",cD=is()?"bottom-start":"bottom-end",uD=is()?"left-start":"right-start",dD=is()?"right-start":"left-start",hD="top",fD="bottom",pD={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},gD={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Js extends Ss{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=Lt.next(this._element,Mf)[0]||Lt.prev(this._element,Mf)[0]||Lt.findOne(Mf,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return pD}static get DefaultType(){return gD}static get NAME(){return lA}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Ba(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!ut.trigger(this._element,W1,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(sD))for(const i of[].concat(...document.body.children))ut.on(i,"mouseover",Bf);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ll),this._element.classList.add(Ll),ut.trigger(this._element,X1,t)}}hide(){if(Ba(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!ut.trigger(this._element,q1,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))ut.off(i,"mouseover",Bf);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ll),this._element.classList.remove(Ll),this._element.setAttribute("aria-expanded","false"),Hr.removeDataAttribute(this._menu,"popper"),ut.trigger(this._element,Y1,t),this._element.focus()}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!Fr(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${lA.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof w0>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let t=this._element;this._config.reference==="parent"?t=this._parent:Fr(this._config.reference)?t=ka(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=Db(t,this._menu,e)}_isShown(){return this._menu.classList.contains(Ll)}_getPlacement(){const t=this._parent;if(t.classList.contains(Z1))return uD;if(t.classList.contains(J1))return dD;if(t.classList.contains(tD))return hD;if(t.classList.contains(eD))return fD;const e=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(Q1)?e?oD:aD:e?cD:lD}_detectNavbar(){return this._element.closest(iD)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(e=>Number.parseInt(e,10)):typeof t=="function"?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Hr.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...mi(this._config.popperConfig,[void 0,t])}}_selectMenuItem({key:t,target:e}){const i=Lt.find(rD,this._menu).filter(a=>ec(a));i.length&&Ob(i,e,t===uA,!i.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){const e=Js.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(t.button===V1||t.type==="keyup"&&t.key!==cA)return;const e=Lt.find(nD);for(const i of e){const a=Js.getInstance(i);if(!a||a._config.autoClose===!1)continue;const o=t.composedPath(),c=o.includes(a._menu);if(o.includes(a._element)||a._config.autoClose==="inside"&&!c||a._config.autoClose==="outside"&&c||a._menu.contains(t.target)&&(t.type==="keyup"&&t.key===cA||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const u={relatedTarget:a._element};t.type==="click"&&(u.clickEvent=t),a._completeHide(u)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),i=t.key===U1,a=[G1,uA].includes(t.key);if(!a&&!i||e&&!i)return;t.preventDefault();const o=this.matches(_o)?this:Lt.prev(this,_o)[0]||Lt.next(this,_o)[0]||Lt.findOne(_o,t.delegateTarget.parentNode),c=Js.getOrCreateInstance(o);if(a){t.stopPropagation(),c.show(),c._selectMenuItem(t);return}c._isShown()&&(t.stopPropagation(),c.hide(),o.focus())}}ut.on(document,$0,_o,Js.dataApiKeydownHandler);ut.on(document,$0,Mf,Js.dataApiKeydownHandler);ut.on(document,z0,Js.clearMenus);ut.on(document,K1,Js.clearMenus);ut.on(document,z0,_o,function(r){r.preventDefault(),Js.getOrCreateInstance(this).toggle()});as(Js);const U0="backdrop",mD="fade",dA="show",hA=`mousedown.bs.${U0}`,bD={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},vD={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class G0 extends hd{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return bD}static get DefaultType(){return vD}static get NAME(){return U0}show(t){if(!this._config.isVisible){mi(t);return}this._append();const e=this._getElement();this._config.isAnimated&&dd(e),e.classList.add(dA),this._emulateAnimation(()=>{mi(t)})}hide(t){if(!this._config.isVisible){mi(t);return}this._getElement().classList.remove(dA),this._emulateAnimation(()=>{this.dispose(),mi(t)})}dispose(){this._isAppended&&(ut.off(this._element,hA),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(mD),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=ka(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),ut.on(t,hA,()=>{mi(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){O0(t,this._getElement(),this._config.isAnimated)}}const yD="focustrap",_D="bs.focustrap",Hf=`.${_D}`,AD=`focusin${Hf}`,ED=`keydown.tab${Hf}`,SD="Tab",wD="forward",fA="backward",TD={autofocus:!0,trapElement:null},xD={autofocus:"boolean",trapElement:"element"};class V0 extends hd{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return TD}static get DefaultType(){return xD}static get NAME(){return yD}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ut.off(document,Hf),ut.on(document,AD,t=>this._handleFocusin(t)),ut.on(document,ED,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ut.off(document,Hf))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const i=Lt.focusableChildren(e);i.length===0?e.focus():this._lastTabNavDirection===fA?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){t.key===SD&&(this._lastTabNavDirection=t.shiftKey?fA:wD)}}const pA=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",gA=".sticky-top",gf="padding-right",mA="margin-right";class Km{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,gf,e=>e+t),this._setElementAttributes(pA,gf,e=>e+t),this._setElementAttributes(gA,mA,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,gf),this._resetElementAttributes(pA,gf),this._resetElementAttributes(gA,mA)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){const a=this.getWidth(),o=c=>{if(c!==this._element&&window.innerWidth>c.clientWidth+a)return;this._saveInitialAttribute(c,e);const u=window.getComputedStyle(c).getPropertyValue(e);c.style.setProperty(e,`${i(Number.parseFloat(u))}px`)};this._applyManipulationCallback(t,o)}_saveInitialAttribute(t,e){const i=t.style.getPropertyValue(e);i&&Hr.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){const i=a=>{const o=Hr.getDataAttribute(a,e);if(o===null){a.style.removeProperty(e);return}Hr.removeDataAttribute(a,e),a.style.setProperty(e,o)};this._applyManipulationCallback(t,i)}_applyManipulationCallback(t,e){if(Fr(t)){e(t);return}for(const i of Lt.find(t,this._element))e(i)}}const CD="modal",DD="bs.modal",ss=`.${DD}`,OD=".data-api",RD="Escape",ND=`hide${ss}`,MD=`hidePrevented${ss}`,q0=`hidden${ss}`,Y0=`show${ss}`,LD=`shown${ss}`,PD=`resize${ss}`,ID=`click.dismiss${ss}`,kD=`mousedown.dismiss${ss}`,BD=`keydown.dismiss${ss}`,FD=`click${ss}${OD}`,bA="modal-open",HD="fade",vA="show",lm="modal-static",jD=".modal.show",zD=".modal-dialog",$D=".modal-body",UD='[data-bs-toggle="modal"]',GD={backdrop:!0,focus:!0,keyboard:!0},VD={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Oo extends Ss{constructor(t,e){super(t,e),this._dialog=Lt.findOne(zD,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Km,this._addEventListeners()}static get Default(){return GD}static get DefaultType(){return VD}static get NAME(){return CD}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||ut.trigger(this._element,Y0,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(bA),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||ut.trigger(this._element,ND).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(vA),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){ut.off(window,ss),ut.off(this._dialog,ss),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new G0({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new V0({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=Lt.findOne($D,this._dialog);e&&(e.scrollTop=0),dd(this._element),this._element.classList.add(vA);const i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ut.trigger(this._element,LD,{relatedTarget:t})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){ut.on(this._element,BD,t=>{if(t.key===RD){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),ut.on(window,PD,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ut.on(this._element,kD,t=>{ut.one(this._element,ID,e=>{if(!(this._element!==t.target||this._element!==e.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(bA),this._resetAdjustments(),this._scrollBar.reset(),ut.trigger(this._element,q0)})}_isAnimated(){return this._element.classList.contains(HD)}_triggerBackdropTransition(){if(ut.trigger(this._element,MD).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(lm)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(lm),this._queueCallback(()=>{this._element.classList.remove(lm),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!t){const a=is()?"paddingLeft":"paddingRight";this._element.style[a]=`${e}px`}if(!i&&t){const a=is()?"paddingRight":"paddingLeft";this._element.style[a]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const i=Oo.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t](e)}})}}ut.on(document,FD,UD,function(r){const t=Lt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&r.preventDefault(),ut.one(t,Y0,a=>{a.defaultPrevented||ut.one(t,q0,()=>{ec(this)&&this.focus()})});const e=Lt.findOne(jD);e&&Oo.getInstance(e).hide(),Oo.getOrCreateInstance(t).toggle(this)});np(Oo);as(Oo);const qD="offcanvas",YD="bs.offcanvas",Ur=`.${YD}`,W0=".data-api",WD=`load${Ur}${W0}`,XD="Escape",yA="show",_A="showing",AA="hiding",KD="offcanvas-backdrop",X0=".offcanvas.show",QD=`show${Ur}`,ZD=`shown${Ur}`,JD=`hide${Ur}`,EA=`hidePrevented${Ur}`,K0=`hidden${Ur}`,tO=`resize${Ur}`,eO=`click${Ur}${W0}`,nO=`keydown.dismiss${Ur}`,iO='[data-bs-toggle="offcanvas"]',sO={backdrop:!0,keyboard:!0,scroll:!1},rO={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Fa extends Ss{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return sO}static get DefaultType(){return rO}static get NAME(){return qD}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||ut.trigger(this._element,QD,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Km().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(_A);const i=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(yA),this._element.classList.remove(_A),ut.trigger(this._element,ZD,{relatedTarget:t})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||ut.trigger(this._element,JD).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(AA),this._backdrop.hide();const e=()=>{this._element.classList.remove(yA,AA),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Km().reset(),ut.trigger(this._element,K0)};this._queueCallback(e,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){ut.trigger(this._element,EA);return}this.hide()},e=!!this._config.backdrop;return new G0({className:KD,isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?t:null})}_initializeFocusTrap(){return new V0({trapElement:this._element})}_addEventListeners(){ut.on(this._element,nO,t=>{if(t.key===XD){if(this._config.keyboard){this.hide();return}ut.trigger(this._element,EA)}})}static jQueryInterface(t){return this.each(function(){const e=Fa.getOrCreateInstance(this,t);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}ut.on(document,eO,iO,function(r){const t=Lt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),Ba(this))return;ut.one(t,K0,()=>{ec(this)&&this.focus()});const e=Lt.findOne(X0);e&&e!==t&&Fa.getInstance(e).hide(),Fa.getOrCreateInstance(t).toggle(this)});ut.on(window,WD,()=>{for(const r of Lt.find(X0))Fa.getOrCreateInstance(r).show()});ut.on(window,tO,()=>{for(const r of Lt.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(r).position!=="fixed"&&Fa.getOrCreateInstance(r).hide()});np(Fa);as(Fa);const aO=/^aria-[\w-]*$/i,Q0={"*":["class","dir","id","lang","role",aO],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},oO=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),lO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,cO=(r,t)=>{const e=r.nodeName.toLowerCase();return t.includes(e)?oO.has(e)?!!lO.test(r.nodeValue):!0:t.filter(i=>i instanceof RegExp).some(i=>i.test(e))};function uO(r,t,e){if(!r.length)return r;if(e&&typeof e=="function")return e(r);const a=new window.DOMParser().parseFromString(r,"text/html"),o=[].concat(...a.body.querySelectorAll("*"));for(const c of o){const u=c.nodeName.toLowerCase();if(!Object.keys(t).includes(u)){c.remove();continue}const h=[].concat(...c.attributes),f=[].concat(t["*"]||[],t[u]||[]);for(const p of h)cO(p,f)||c.removeAttribute(p.nodeName)}return a.body.innerHTML}const dO="TemplateFactory",hO={allowList:Q0,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},fO={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},pO={entry:"(string|element|function|null)",selector:"(string|element)"};class gO extends hd{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return hO}static get DefaultType(){return fO}static get NAME(){return dO}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[a,o]of Object.entries(this._config.content))this._setContent(t,o,a);const e=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&e.classList.add(...i.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},pO)}_setContent(t,e,i){const a=Lt.findOne(i,t);if(a){if(e=this._resolvePossibleFunction(e),!e){a.remove();return}if(Fr(e)){this._putElementInTemplate(ka(e),a);return}if(this._config.html){a.innerHTML=this._maybeSanitize(e);return}a.textContent=e}}_maybeSanitize(t){return this._config.sanitize?uO(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return mi(t,[void 0,this])}_putElementInTemplate(t,e){if(this._config.html){e.innerHTML="",e.append(t);return}e.textContent=t.textContent}}const mO="tooltip",bO=new Set(["sanitize","allowList","sanitizeFn"]),cm="fade",vO="modal",mf="show",yO=".tooltip-inner",SA=`.${vO}`,wA="hide.bs.modal",Pu="hover",um="focus",dm="click",_O="manual",AO="hide",EO="hidden",SO="show",wO="shown",TO="inserted",xO="click",CO="focusin",DO="focusout",OO="mouseenter",RO="mouseleave",NO={AUTO:"auto",TOP:"top",RIGHT:is()?"left":"right",BOTTOM:"bottom",LEFT:is()?"right":"left"},MO={allowList:Q0,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},LO={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ic extends Ss{constructor(t,e){if(typeof w0>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return MO}static get DefaultType(){return LO}static get NAME(){return mO}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),ut.off(this._element.closest(SA),wA,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=ut.trigger(this._element,this.constructor.eventName(SO)),i=(C0(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!i)return;this._disposePopper();const a=this._getTipElement();this._element.setAttribute("aria-describedby",a.getAttribute("id"));const{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(a),ut.trigger(this._element,this.constructor.eventName(TO))),this._popper=this._createPopper(a),a.classList.add(mf),"ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))ut.on(u,"mouseover",Bf);const c=()=>{ut.trigger(this._element,this.constructor.eventName(wO)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(c,this.tip,this._isAnimated())}hide(){if(!this._isShown()||ut.trigger(this._element,this.constructor.eventName(AO)).defaultPrevented)return;if(this._getTipElement().classList.remove(mf),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))ut.off(a,"mouseover",Bf);this._activeTrigger[dm]=!1,this._activeTrigger[um]=!1,this._activeTrigger[Pu]=!1,this._isHovered=null;const i=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ut.trigger(this._element,this.constructor.eventName(EO)))};this._queueCallback(i,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(cm,mf),e.classList.add(`bs-${this.constructor.NAME}-auto`);const i=_C(this.constructor.NAME).toString();return e.setAttribute("id",i),this._isAnimated()&&e.classList.add(cm),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new gO({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[yO]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(cm)}_isShown(){return this.tip&&this.tip.classList.contains(mf)}_createPopper(t){const e=mi(this._config.placement,[this,t,this._element]),i=NO[e.toUpperCase()];return Db(this._element,t,this._getPopperConfig(i))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(e=>Number.parseInt(e,10)):typeof t=="function"?e=>t(e,this._element):t}_resolvePossibleFunction(t){return mi(t,[this._element,this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...e,...mi(this._config.popperConfig,[void 0,e])}}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if(e==="click")ut.on(this._element,this.constructor.eventName(xO),this._config.selector,i=>{const a=this._initializeOnDelegatedTarget(i);a._activeTrigger[dm]=!(a._isShown()&&a._activeTrigger[dm]),a.toggle()});else if(e!==_O){const i=e===Pu?this.constructor.eventName(OO):this.constructor.eventName(CO),a=e===Pu?this.constructor.eventName(RO):this.constructor.eventName(DO);ut.on(this._element,i,this._config.selector,o=>{const c=this._initializeOnDelegatedTarget(o);c._activeTrigger[o.type==="focusin"?um:Pu]=!0,c._enter()}),ut.on(this._element,a,this._config.selector,o=>{const c=this._initializeOnDelegatedTarget(o);c._activeTrigger[o.type==="focusout"?um:Pu]=c._element.contains(o.relatedTarget),c._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ut.on(this._element.closest(SA),wA,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=Hr.getDataAttributes(this._element);for(const i of Object.keys(e))bO.has(i)&&delete e[i];return t={...e,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:ka(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,i]of Object.entries(this._config))this.constructor.Default[e]!==i&&(t[e]=i);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const e=ic.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}}as(ic);const PO="popover",IO=".popover-header",kO=".popover-body",BO={...ic.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},FO={...ic.DefaultType,content:"(null|string|element|function)"};class Mb extends ic{static get Default(){return BO}static get DefaultType(){return FO}static get NAME(){return PO}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[IO]:this._getTitle(),[kO]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const e=Mb.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}}as(Mb);const HO="scrollspy",jO="bs.scrollspy",Lb=`.${jO}`,zO=".data-api",$O=`activate${Lb}`,TA=`click${Lb}`,UO=`load${Lb}${zO}`,GO="dropdown-item",Rl="active",VO='[data-bs-spy="scroll"]',hm="[href]",qO=".nav, .list-group",xA=".nav-link",YO=".nav-item",WO=".list-group-item",XO=`${xA}, ${YO} > ${xA}, ${WO}`,KO=".dropdown",QO=".dropdown-toggle",ZO={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},JO={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class rp extends Ss{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return ZO}static get DefaultType(){return JO}static get NAME(){return HO}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=ka(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(e=>Number.parseFloat(e))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ut.off(this._config.target,TA),ut.on(this._config.target,TA,hm,t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const i=this._rootElement||window,a=e.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:a,behavior:"smooth"});return}i.scrollTop=a}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(e=>this._observerCallback(e),t)}_observerCallback(t){const e=c=>this._targetLinks.get(`#${c.target.id}`),i=c=>{this._previousScrollData.visibleEntryTop=c.target.offsetTop,this._process(e(c))},a=(this._rootElement||document.documentElement).scrollTop,o=a>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=a;for(const c of t){if(!c.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(c));continue}const u=c.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&u){if(i(c),!a)return;continue}!o&&!u&&i(c)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=Lt.find(hm,this._config.target);for(const e of t){if(!e.hash||Ba(e))continue;const i=Lt.findOne(decodeURI(e.hash),this._element);ec(i)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,i))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Rl),this._activateParents(t),ut.trigger(this._element,$O,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(GO)){Lt.findOne(QO,t.closest(KO)).classList.add(Rl);return}for(const e of Lt.parents(t,qO))for(const i of Lt.prev(e,XO))i.classList.add(Rl)}_clearActiveClass(t){t.classList.remove(Rl);const e=Lt.find(`${hm}.${Rl}`,t);for(const i of e)i.classList.remove(Rl)}static jQueryInterface(t){return this.each(function(){const e=rp.getOrCreateInstance(this,t);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}ut.on(window,UO,()=>{for(const r of Lt.find(VO))rp.getOrCreateInstance(r)});as(rp);const tR="tab",eR="bs.tab",Io=`.${eR}`,nR=`hide${Io}`,iR=`hidden${Io}`,sR=`show${Io}`,rR=`shown${Io}`,aR=`click${Io}`,oR=`keydown${Io}`,lR=`load${Io}`,cR="ArrowLeft",CA="ArrowRight",uR="ArrowUp",DA="ArrowDown",fm="Home",OA="End",Ao="active",RA="fade",pm="show",dR="dropdown",Z0=".dropdown-toggle",hR=".dropdown-menu",gm=`:not(${Z0})`,fR='.list-group, .nav, [role="tablist"]',pR=".nav-item, .list-group-item",gR=`.nav-link${gm}, .list-group-item${gm}, [role="tab"]${gm}`,J0='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',mm=`${gR}, ${J0}`,mR=`.${Ao}[data-bs-toggle="tab"], .${Ao}[data-bs-toggle="pill"], .${Ao}[data-bs-toggle="list"]`;class Wl extends Ss{constructor(t){super(t),this._parent=this._element.closest(fR),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ut.on(this._element,oR,e=>this._keydown(e)))}static get NAME(){return tR}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),i=e?ut.trigger(e,nR,{relatedTarget:t}):null;ut.trigger(t,sR,{relatedTarget:e}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){if(!t)return;t.classList.add(Ao),this._activate(Lt.getElementFromSelector(t));const i=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(pm);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),ut.trigger(t,rR,{relatedTarget:e})};this._queueCallback(i,t,t.classList.contains(RA))}_deactivate(t,e){if(!t)return;t.classList.remove(Ao),t.blur(),this._deactivate(Lt.getElementFromSelector(t));const i=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(pm);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),ut.trigger(t,iR,{relatedTarget:e})};this._queueCallback(i,t,t.classList.contains(RA))}_keydown(t){if(![cR,CA,uR,DA,fm,OA].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=this._getChildren().filter(a=>!Ba(a));let i;if([fm,OA].includes(t.key))i=e[t.key===fm?0:e.length-1];else{const a=[CA,DA].includes(t.key);i=Ob(e,t.target,a,!0)}i&&(i.focus({preventScroll:!0}),Wl.getOrCreateInstance(i).show())}_getChildren(){return Lt.find(mm,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const i of e)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",e),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=Lt.getElementFromSelector(t);e&&(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){const i=this._getOuterElement(t);if(!i.classList.contains(dR))return;const a=(o,c)=>{const u=Lt.findOne(o,i);u&&u.classList.toggle(c,e)};a(Z0,Ao),a(hR,pm),i.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(Ao)}_getInnerElement(t){return t.matches(mm)?t:Lt.findOne(mm,t)}_getOuterElement(t){return t.closest(pR)||t}static jQueryInterface(t){return this.each(function(){const e=Wl.getOrCreateInstance(this);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}ut.on(document,aR,J0,function(r){["A","AREA"].includes(this.tagName)&&r.preventDefault(),!Ba(this)&&Wl.getOrCreateInstance(this).show()});ut.on(window,lR,()=>{for(const r of Lt.find(mR))Wl.getOrCreateInstance(r)});as(Wl);const bR="toast",vR="bs.toast",Ua=`.${vR}`,yR=`mouseover${Ua}`,_R=`mouseout${Ua}`,AR=`focusin${Ua}`,ER=`focusout${Ua}`,SR=`hide${Ua}`,wR=`hidden${Ua}`,TR=`show${Ua}`,xR=`shown${Ua}`,CR="fade",NA="hide",bf="show",vf="showing",DR={animation:"boolean",autohide:"boolean",delay:"number"},OR={animation:!0,autohide:!0,delay:5e3};class ap extends Ss{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return OR}static get DefaultType(){return DR}static get NAME(){return bR}show(){if(ut.trigger(this._element,TR).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(CR);const e=()=>{this._element.classList.remove(vf),ut.trigger(this._element,xR),this._maybeScheduleHide()};this._element.classList.remove(NA),dd(this._element),this._element.classList.add(bf,vf),this._queueCallback(e,this._element,this._config.animation)}hide(){if(!this.isShown()||ut.trigger(this._element,SR).defaultPrevented)return;const e=()=>{this._element.classList.add(NA),this._element.classList.remove(vf,bf),ut.trigger(this._element,wR)};this._element.classList.add(vf),this._queueCallback(e,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(bf),super.dispose()}isShown(){return this._element.classList.contains(bf)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=e;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=e;break}}if(e){this._clearTimeout();return}const i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){ut.on(this._element,yR,t=>this._onInteraction(t,!0)),ut.on(this._element,_R,t=>this._onInteraction(t,!1)),ut.on(this._element,AR,t=>this._onInteraction(t,!0)),ut.on(this._element,ER,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=ap.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}np(ap);as(ap);const Zn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Qm=[.001,0,0,.001,0,0],bm=1.35,Di={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Qs={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},RR="pdfjs_internal_editor_",Vt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},re={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},tS={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Bn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Yu={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ye={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Pl={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},gd={ERRORS:0,WARNINGS:1,INFOS:5},Zu={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},yf={moveTo:0,lineTo:1,curveTo:2,closePath:3},eS={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let op=gd.WARNINGS;function NR(r){Number.isInteger(r)&&(op=r)}function MR(){return op}function lp(r){op>=gd.INFOS&&console.log(`Info: ${r}`)}function Yt(r){op>=gd.WARNINGS&&console.log(`Warning: ${r}`)}function Te(r){throw new Error(r)}function tn(r,t){r||Te(t)}function LR(r){switch(r?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Pb(r,t=null,e=null){if(!r)return null;if(e&&typeof r=="string"&&(e.addDefaultProtocol&&r.startsWith("www.")&&r.match(/\./g)?.length>=2&&(r=`http://${r}`),e.tryConvertEncoding))try{r=FR(r)}catch{}const i=t?URL.parse(r,t):URL.parse(r);return LR(i)?i:null}function Ib(r,t,e=!1){const i=URL.parse(r);return i?(i.hash=t,i.href):e&&Pb(r,"http://example.com")?r.split("#",1)[0]+`${t?`#${t}`:""}`:""}function ie(r,t,e,i=!1){return Object.defineProperty(r,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const ko=function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t}();class MA extends ko{constructor(t,e){super(t,"PasswordException"),this.code=e}}class vm extends ko{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class jf extends ko{constructor(t){super(t,"InvalidPDFException")}}class Ju extends ko{constructor(t,e,i){super(t,"ResponseException"),this.status=e,this.missing=i}}class PR extends ko{constructor(t){super(t,"FormatError")}}class zr extends ko{constructor(t){super(t,"AbortException")}}function nS(r){(typeof r!="object"||r?.length===void 0)&&Te("Invalid argument for bytesToString");const t=r.length,e=8192;if(t<e)return String.fromCharCode.apply(null,r);const i=[];for(let a=0;a<t;a+=e){const o=Math.min(a+e,t),c=r.subarray(a,o);i.push(String.fromCharCode.apply(null,c))}return i.join("")}function md(r){typeof r!="string"&&Te("Invalid argument for stringToBytes");const t=r.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=r.charCodeAt(i)&255;return e}function IR(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function kR(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function BR(){try{return new Function(""),!0}catch{return!1}}class pn{static get isLittleEndian(){return ie(this,"isLittleEndian",kR())}static get isEvalSupported(){return ie(this,"isEvalSupported",BR())}static get isOffscreenCanvasSupported(){return ie(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return ie(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return ie(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return ie(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const ym=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));class Nt{static makeHexColor(t,e,i){return`#${ym[t]}${ym[e]}${ym[i]}`}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e,i=0){const a=t[i],o=t[i+1];t[i]=a*e[0]+o*e[2]+e[4],t[i+1]=a*e[1]+o*e[3]+e[5]}static applyTransformToBezier(t,e,i=0){const a=e[0],o=e[1],c=e[2],u=e[3],h=e[4],f=e[5];for(let p=0;p<6;p+=2){const m=t[i+p],v=t[i+p+1];t[i+p]=m*a+v*c+h,t[i+p+1]=m*o+v*u+f}}static applyInverseTransform(t,e){const i=t[0],a=t[1],o=e[0]*e[3]-e[1]*e[2];t[0]=(i*e[3]-a*e[2]+e[2]*e[5]-e[4]*e[3])/o,t[1]=(-i*e[1]+a*e[0]+e[4]*e[1]-e[5]*e[0])/o}static axialAlignedBoundingBox(t,e,i){const a=e[0],o=e[1],c=e[2],u=e[3],h=e[4],f=e[5],p=t[0],m=t[1],v=t[2],_=t[3];let S=a*p+h,E=S,T=a*v+h,C=T,N=u*m+f,L=N,P=u*_+f,M=P;if(o!==0||c!==0){const I=o*p,F=o*v,q=c*m,Z=c*_;S+=q,C+=q,T+=Z,E+=Z,N+=I,M+=I,P+=F,L+=F}i[0]=Math.min(i[0],S,T,E,C),i[1]=Math.min(i[1],N,P,L,M),i[2]=Math.max(i[2],S,T,E,C),i[3]=Math.max(i[3],N,P,L,M)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const i=t[0],a=t[1],o=t[2],c=t[3],u=i**2+a**2,h=i*o+a*c,f=o**2+c**2,p=(u+f)/2,m=Math.sqrt(p**2-(u*f-h**2));e[0]=Math.sqrt(p+m||1),e[1]=Math.sqrt(p-m||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),a=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>a)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>c?null:[i,o,a,c]}static pointBoundingBox(t,e,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],e),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],e)}static rectBoundingBox(t,e,i,a,o){o[0]=Math.min(o[0],t,i),o[1]=Math.min(o[1],e,a),o[2]=Math.max(o[2],t,i),o[3]=Math.max(o[3],e,a)}static#t(t,e,i,a,o,c,u,h,f,p){if(f<=0||f>=1)return;const m=1-f,v=f*f,_=v*f,S=m*(m*(m*t+3*f*e)+3*v*i)+_*a,E=m*(m*(m*o+3*f*c)+3*v*u)+_*h;p[0]=Math.min(p[0],S),p[1]=Math.min(p[1],E),p[2]=Math.max(p[2],S),p[3]=Math.max(p[3],E)}static#e(t,e,i,a,o,c,u,h,f,p,m,v){if(Math.abs(f)<1e-12){Math.abs(p)>=1e-12&&this.#t(t,e,i,a,o,c,u,h,-m/p,v);return}const _=p**2-4*m*f;if(_<0)return;const S=Math.sqrt(_),E=2*f;this.#t(t,e,i,a,o,c,u,h,(-p+S)/E,v),this.#t(t,e,i,a,o,c,u,h,(-p-S)/E,v)}static bezierBoundingBox(t,e,i,a,o,c,u,h,f){f[0]=Math.min(f[0],t,u),f[1]=Math.min(f[1],e,h),f[2]=Math.max(f[2],t,u),f[3]=Math.max(f[3],e,h),this.#e(t,i,o,u,e,a,c,h,3*(-t+3*(i-o)+u),6*(t-2*i+o),3*(i-t),f),this.#e(t,i,o,u,e,a,c,h,3*(-e+3*(a-c)+h),6*(e-2*a+c),3*(a-e),f)}}function FR(r){return decodeURIComponent(escape(r))}let _m=null,LA=null;function iS(r){return _m||(_m=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,LA=new Map([["ﬅ","ſt"]])),r.replaceAll(_m,(t,e,i)=>e?e.normalize("NFKC"):LA.get(i))}function kb(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const r=new Uint8Array(32);return crypto.getRandomValues(r),nS(r)}const Bb="pdfjs_internal_id_";function HR(r,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[i,a,...o]=e;if(!r(i)&&!Number.isInteger(i)||!t(a))return!1;const c=o.length;let u=!0;switch(a.name){case"XYZ":if(c<2||c>3)return!1;break;case"Fit":case"FitB":return c===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(c>1)return!1;break;case"FitR":if(c!==4)return!1;u=!1;break;default:return!1}for(const h of o)if(!(typeof h=="number"||u&&h===null))return!1;return!0}function Fn(r,t,e){return Math.min(Math.max(r,t),e)}function sS(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(nS(r))}function jR(r){return Uint8Array.fromBase64?Uint8Array.fromBase64(r):md(atob(r))}typeof Promise.try!="function"&&(Promise.try=function(r,...t){return new Promise(e=>{e(r(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(r){return r.reduce((t,e)=>t+e,0)});const kr="http://www.w3.org/2000/svg";class Ro{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function sc(r,t="text"){if($u(r,document.baseURI)){const e=await fetch(r);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const a=new XMLHttpRequest;a.open("GET",r,!0),a.responseType=t,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(a.response);return}e(a.responseText);return}i(new Error(a.statusText))}},a.send(null)})}class bd{constructor({viewBox:t,userUnit:e,scale:i,rotation:a,offsetX:o=0,offsetY:c=0,dontFlip:u=!1}){this.viewBox=t,this.userUnit=e,this.scale=i,this.rotation=a,this.offsetX=o,this.offsetY=c,i*=e;const h=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let p,m,v,_;switch(a%=360,a<0&&(a+=360),a){case 180:p=-1,m=0,v=0,_=1;break;case 90:p=0,m=1,v=1,_=0;break;case 270:p=0,m=-1,v=-1,_=0;break;case 0:p=1,m=0,v=0,_=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(v=-v,_=-_);let S,E,T,C;p===0?(S=Math.abs(f-t[1])*i+o,E=Math.abs(h-t[0])*i+c,T=(t[3]-t[1])*i,C=(t[2]-t[0])*i):(S=Math.abs(h-t[0])*i+o,E=Math.abs(f-t[1])*i+c,T=(t[2]-t[0])*i,C=(t[3]-t[1])*i),this.transform=[p*i,m*i,v*i,_*i,S-p*i*h-v*i*f,E-m*i*h-_*i*f],this.width=T,this.height=C}get rawDims(){const t=this.viewBox;return ie(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:a=this.offsetY,dontFlip:o=!1}={}){return new bd({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:a,dontFlip:o})}convertToViewportPoint(t,e){const i=[t,e];return Nt.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const e=[t[0],t[1]];Nt.applyTransform(e,this.transform);const i=[t[2],t[3]];return Nt.applyTransform(i,this.transform),[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){const i=[t,e];return Nt.applyInverseTransform(i,this.transform),i}}class cp extends ko{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function vd(r){const t=r.length;let e=0;for(;e<t&&r[e].trim()==="";)e++;return r.substring(e,e+5).toLowerCase()==="data:"}function up(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function rS(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function aS(r,t="document.pdf"){if(typeof r!="string")return t;if(vd(r))return Yt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,a=e.exec(r);let o=i.exec(a[1])||i.exec(a[2])||i.exec(a[3]);if(o&&(o=o[0],o.includes("%")))try{o=i.exec(decodeURIComponent(o))[0]}catch{}return o||t}class PA{started=Object.create(null);times=[];time(t){t in this.started&&Yt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Yt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:a,end:o}of this.times)t.push(`${i.padEnd(e)} ${o-a}ms
`);return t.join("")}}function $u(r,t){const e=t?URL.parse(r,t):URL.parse(r);return e?.protocol==="http:"||e?.protocol==="https:"}function rs(r){r.preventDefault()}function Xe(r){r.preventDefault(),r.stopPropagation()}function zR(r){console.log("Deprecated API usage: "+r)}class Fb{static#t;static toDateObject(t){if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const i=parseInt(e[1],10);let a=parseInt(e[2],10);a=a>=1&&a<=12?a-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let c=parseInt(e[4],10);c=c>=0&&c<=23?c:0;let u=parseInt(e[5],10);u=u>=0&&u<=59?u:0;let h=parseInt(e[6],10);h=h>=0&&h<=59?h:0;const f=e[7]||"Z";let p=parseInt(e[8],10);p=p>=0&&p<=23?p:0;let m=parseInt(e[9],10)||0;return m=m>=0&&m<=59?m:0,f==="-"?(c+=p,u+=m):f==="+"&&(c-=p,u-=m),new Date(Date.UTC(i,a,o,c,u,h))}}function oS(r,{scale:t=1,rotation:e=0}){const{width:i,height:a}=r.attributes.style,o=[0,0,parseInt(i),parseInt(a)];return new bd({viewBox:o,userUnit:1,scale:t,rotation:e})}function Hb(r){if(r.startsWith("#")){const t=parseInt(r.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(t=>parseInt(t)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Yt(`Not a valid color format: "${r}"`),[0,0,0])}function $R(r){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of r.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;r.set(e,Hb(i))}t.remove()}function He(r){const{a:t,b:e,c:i,d:a,e:o,f:c}=r.getTransform();return[t,e,i,a,o,c]}function qs(r){const{a:t,b:e,c:i,d:a,e:o,f:c}=r.getTransform().invertSelf();return[t,e,i,a,o,c]}function Ha(r,t,e=!1,i=!0){if(t instanceof bd){const{pageWidth:a,pageHeight:o}=t.rawDims,{style:c}=r,u=pn.isCSSRoundSupported,h=`var(--total-scale-factor) * ${a}px`,f=`var(--total-scale-factor) * ${o}px`,p=u?`round(down, ${h}, var(--scale-round-x))`:`calc(${h})`,m=u?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!e||t.rotation%180===0?(c.width=p,c.height=m):(c.width=m,c.height=p)}i&&r.setAttribute("data-main-rotation",t.rotation)}class Es{constructor(){const{pixelRatio:t}=Es;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,i,a,o=-1){let c=1/0,u=1/0,h=1/0;i=Es.capPixels(i,o),i>0&&(c=Math.sqrt(i/(t*e))),a!==-1&&(u=a/t,h=a/e);const f=Math.min(c,u,h);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,i):i}return t}}const zf=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Wu{#t=null;#e=null;#n;#i=null;#r=null;#s=null;static#l=null;constructor(t){this.#n=t,Wu.#l||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#n._uiManager._signal;t.addEventListener("contextmenu",rs,{signal:e}),t.addEventListener("pointerdown",Wu.#o,{signal:e});const i=this.#i=document.createElement("div");i.className="buttons",t.append(i);const a=this.#n.toolbarPosition;if(a){const{style:o}=t,c=this.#n._uiManager.direction==="ltr"?1-a[0]:a[0];o.insetInlineEnd=`${100*c}%`,o.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return this.#u(),t}get div(){return this.#t}static#o(t){t.stopPropagation()}#d(t){this.#n._focusEventsAllowed=!1,Xe(t)}#c(t){this.#n._focusEventsAllowed=!0,Xe(t)}#h(t){const e=this.#n._uiManager._signal;t.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#c.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",rs,{signal:e})}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#r?.shown()}#u(){const{editorType:t,_uiManager:e}=this.#n,i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",Wu.#l[t]),this.#h(i),i.addEventListener("click",a=>{e.delete()},{signal:e._signal}),this.#i.append(i)}get#f(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#h(e),this.#i.prepend(e,this.#f),this.#r=t}addColorPicker(t){this.#e=t;const e=t.renderButton();this.#h(e),this.#i.prepend(e,this.#f)}async addEditSignatureButton(t){const e=this.#s=await t.renderEditButton(this.#n);this.#h(e),this.#i.prepend(e,this.#f)}updateEditSignatureButton(t){this.#s&&(this.#s.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class UR{#t=null;#e=null;#n;constructor(t){this.#n=t}#i(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",rs,{signal:this.#n._signal});const e=this.#t=document.createElement("div");return e.className="buttons",t.append(e),this.#s(),t}#r(t,e){let i=0,a=0;for(const o of t){const c=o.y+o.height;if(c<i)continue;const u=o.x+(e?o.width:0);if(c>i){a=u,i=c;continue}e?u>a&&(a=u):u<a&&(a=u)}return[e?1-a:a,i]}show(t,e,i){const[a,o]=this.#r(e,i),{style:c}=this.#e||=this.#i();t.append(this.#e),c.insetInlineEnd=`${100*a}%`,c.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#s(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=this.#n._signal;t.addEventListener("contextmenu",rs,{signal:i}),t.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:i}),this.#t.append(t)}}function lS(r,t,e){for(const i of e)t.addEventListener(i,r[i].bind(r))}class GR{#t=0;get id(){return`${RR}${this.#t++}`}}class jb{#t=kb();#e=0;#n=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=t;const o=a.decode().then(()=>(i.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return ie(this,"_isSVGFittingCanvas",o)}async#i(t,e){this.#n||=new Map;let i=this.#n.get(t);if(i===null)return null;if(i?.bitmap)return i.refCounter+=1,i;try{i||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let a;if(typeof e=="string"?(i.url=e,a=await sc(e,"blob")):e instanceof File?a=i.file=e:e instanceof Blob&&(a=e),a.type==="image/svg+xml"){const o=jb._isSVGFittingCanvas,c=new FileReader,u=new Image,h=new Promise((f,p)=>{u.onload=()=>{i.bitmap=u,i.isSvg=!0,f()},c.onload=async()=>{const m=i.svgUrl=c.result;u.src=await o?`${m}#svgView(preserveAspectRatio(none))`:m},u.onerror=c.onerror=p});c.readAsDataURL(a),await h}else i.bitmap=await createImageBitmap(a);i.refCounter=1}catch(a){Yt(a),i=null}return this.#n.set(t,i),i&&this.#n.set(i.id,i),i}async getFromFile(t){const{lastModified:e,name:i,size:a,type:o}=t;return this.#i(`${e}_${i}_${a}_${o}`,t)}async getFromUrl(t){return this.#i(t,t)}async getFromBlob(t,e){const i=await e;return this.#i(t,i)}async getFromId(t){this.#n||=new Map;const e=this.#n.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#n||=new Map;let i=this.#n.get(t);if(i?.bitmap)return i.refCounter+=1,i;const a=new OffscreenCanvas(e.width,e.height);return a.getContext("2d").drawImage(e,0,0),i={bitmap:a.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#n.set(t,i),this.#n.set(i.id,i),i}getSvgUrl(t){const e=this.#n.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#n||=new Map;const e=this.#n.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const a=new OffscreenCanvas(i.width,i.height);a.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=a.convertToBlob()}i.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class VR{#t=[];#e=!1;#n;#i=-1;constructor(t=128){this.#n=t}add({cmd:t,undo:e,post:i,mustExec:a,type:o=NaN,overwriteIfSameType:c=!1,keepUndo:u=!1}){if(a&&t(),this.#e)return;const h={cmd:t,undo:e,post:i,type:o};if(this.#i===-1){this.#t.length>0&&(this.#t.length=0),this.#i=0,this.#t.push(h);return}if(c&&this.#t[this.#i].type===o){u&&(h.undo=this.#t[this.#i].undo),this.#t[this.#i]=h;return}const f=this.#i+1;f===this.#n?this.#t.splice(0,1):(this.#i=f,f<this.#t.length&&this.#t.splice(f)),this.#t.push(h)}undo(){if(this.#i===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#i];t(),e?.(),this.#e=!1,this.#i-=1}redo(){if(this.#i<this.#t.length-1){this.#i+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#i];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#t.length-1}cleanType(t){if(this.#i!==-1){for(let e=this.#i;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#i-e),this.#i=e;return}this.#t.length=0,this.#i=-1}}destroy(){this.#t=null}}class yd{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=pn.platform;for(const[i,a,o={}]of t)for(const c of i){const u=c.startsWith("mac+");e&&u?(this.callbacks.set(c.slice(4),{callback:a,options:o}),this.allKeys.add(c.split("+").at(-1))):!e&&!u&&(this.callbacks.set(c,{callback:a,options:o}),this.allKeys.add(c.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(this.#t(e));if(!i)return;const{callback:a,options:{bubbles:o=!1,args:c=[],checker:u=null}}=i;u&&!u(t,e)||(a.bind(t,...c,e)(),o||Xe(e))}}class zb{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return $R(t),ie(this,"_colors",t)}convert(t){const e=Hb(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,a]of this._colors)if(a.every((o,c)=>o===e[c]))return zb._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?Nt.makeHexColor(...e):t}}class $r{#t=new AbortController;#e=null;#n=new Map;#i=new Map;#r=null;#s=null;#l=null;#o=new VR;#d=null;#c=null;#h=0;#u=new Set;#f=null;#a=null;#p=new Set;_editorUndoBar=null;#m=!1;#g=!1;#b=!1;#v=null;#y=null;#A=null;#S=null;#T=!1;#C=null;#O=new GR;#E=!1;#D=!1;#x=null;#N=null;#M=null;#L=null;#j=null;#w=Vt.NONE;#_=new Set;#B=null;#F=null;#U=null;#G=null;#V={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#z=[0,0];#P=null;#I=null;#$=null;#k=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=$r.prototype,e=c=>c.#I.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),i=(c,{target:u})=>{if(u instanceof HTMLInputElement){const{type:h}=u;return h!=="text"&&h!=="number"}return!0},a=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return ie(this,"_keyboardManager",new yd([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:u})=>!(u instanceof HTMLButtonElement)&&c.#I.contains(u)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:u})=>!(u instanceof HTMLButtonElement)&&c.#I.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}]]))}constructor(t,e,i,a,o,c,u,h,f,p,m,v,_,S){const E=this._signal=this.#t.signal;this.#I=t,this.#$=e,this.#r=i,this.#F=a,this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:E}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:E}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:E}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:E}),o._on("setpreference",this.onSetPreference.bind(this),{signal:E}),o._on("switchannotationeditorparams",T=>this.updateParams(T.type,T.value),{signal:E}),this.#it(),this.#ot(),this.#K(),this.#s=c.annotationStorage,this.#v=c.filterFactory,this.#U=u,this.#S=h||null,this.#m=f,this.#g=p,this.#b=m,this.#j=v||null,this.viewParameters={realScale:Ro.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=_||null,this._supportsPinchToZoom=S!==!1}destroy(){this.#k?.resolve(),this.#k=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#i.values())t.destroy();this.#i.clear(),this.#n.clear(),this.#p.clear(),this.#L?.clear(),this.#e=null,this.#_.clear(),this.#o.destroy(),this.#r?.destroy(),this.#F?.destroy(),this.#C?.hide(),this.#C=null,this.#M?.destroy(),this.#M=null,this.#y&&(clearTimeout(this.#y),this.#y=null),this.#P&&(clearTimeout(this.#P),this.#P=null),this._editorUndoBar?.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#j}get useNewAltTextFlow(){return this.#g}get useNewAltTextWhenAddingImage(){return this.#b}get hcmFilter(){return ie(this,"hcmFilter",this.#U?this.#v.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return ie(this,"direction",getComputedStyle(this.#I).direction)}get highlightColors(){return ie(this,"highlightColors",this.#S?new Map(this.#S.split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return ie(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#c=t}setMainHighlightColorPicker(t){this.#M=t}editAltText(t,e=!1){this.#r?.editAltText(this,t,e)}getSignature(t){this.#F?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#F}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":this.#b=e;break}}onPageChanging({pageNumber:t}){this.#h=t-1}focusMainContainer(){this.#I.focus()}findParent(t,e){for(const i of this.#i.values()){const{x:a,y:o,width:c,height:u}=i.div.getBoundingClientRect();if(t>=a&&t<=a+c&&e>=o&&e<=o+u)return i}return null}disableUserSelect(t=!1){this.#$.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#p.add(t)}removeShouldRescale(t){this.#p.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Ro.PDF_TO_CSS_UNITS;for(const e of this.#p)e.onScaleChanging();this.#c?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Y({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#X(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of this.#i.values())if(i.hasTextLayer(t))return i;return null}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:i,anchorOffset:a,focusNode:o,focusOffset:c}=e,u=e.toString(),f=this.#Y(e).closest(".textLayer"),p=this.getSelectionBoxes(f);if(!p)return;e.empty();const m=this.#X(f),v=this.#w===Vt.NONE,_=()=>{m?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:p,anchorNode:i,anchorOffset:a,focusNode:o,focusOffset:c,text:u}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(Vt.HIGHLIGHT,_);return}_()}#et(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=this.#Y(t).closest(".textLayer"),a=this.getSelectionBoxes(i);a&&(this.#C||=new UR(this),this.#C.show(i,a,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#s&&!this.#s.has(t.id)&&this.#s.setValue(t.id,t)}#nt(){const t=document.getSelection();if(!t||t.isCollapsed){this.#B&&(this.#C?.hide(),this.#B=null,this.#R({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#B)return;const a=this.#Y(t).closest(".textLayer");if(!a){this.#B&&(this.#C?.hide(),this.#B=null,this.#R({hasSelectedText:!1}));return}if(this.#C?.hide(),this.#B=e,this.#R({hasSelectedText:!0}),!(this.#w!==Vt.HIGHLIGHT&&this.#w!==Vt.NONE)&&(this.#w===Vt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#T=this.isShiftKeyDown,!this.isShiftKeyDown)){const o=this.#w===Vt.HIGHLIGHT?this.#X(a):null;o?.toggleDrawing();const c=new AbortController,u=this.combinedSignal(c),h=f=>{f.type==="pointerup"&&f.button!==0||(c.abort(),o?.toggleDrawing(!0),f.type==="pointerup"&&this.#W("main_toolbar"))};window.addEventListener("pointerup",h,{signal:u}),window.addEventListener("blur",h,{signal:u})}}#W(t=""){this.#w===Vt.HIGHLIGHT?this.highlightSelection(t):this.#m&&this.#et()}#it(){document.addEventListener("selectionchange",this.#nt.bind(this),{signal:this._signal})}#st(){if(this.#A)return;this.#A=new AbortController;const t=this.combinedSignal(this.#A);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#rt(){this.#A?.abort(),this.#A=null}blur(){if(this.isShiftKeyDown=!1,this.#T&&(this.#T=!1,this.#W("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#_)if(e.div.contains(t)){this.#N=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#N)return;const[t,e]=this.#N;this.#N=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#K(){if(this.#x)return;this.#x=new AbortController;const t=this.combinedSignal(this.#x);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#at(){this.#x?.abort(),this.#x=null}#Q(){if(this.#d)return;this.#d=new AbortController;const t=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#Z(){this.#d?.abort(),this.#d=null}#ot(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#K(),this.#Q()}removeEditListeners(){this.#at(),this.#Z()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of this.#a)if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of this.#a)if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const i of this.#_){const a=i.serialize(!0);a&&e.push(a)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const c of this.#a)if(c.isHandlingMimeForPasting(o.type)){c.paste(o,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(o){Yt(`paste: "${o.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const a=this.currentLayer;try{const o=[];for(const h of i){const f=await a.deserialize(h);if(!f)return;o.push(f)}const c=()=>{for(const h of o)this.#J(h);this.#tt(o)},u=()=>{for(const h of o)h.remove()};this.addCommands({cmd:c,undo:u,mustExec:!0})}catch(o){Yt(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#w!==Vt.NONE&&!this.isEditorHandlingKeyboard&&$r._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#T&&(this.#T=!1,this.#W("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#R(t){Object.entries(t).some(([i,a])=>this.#V[i]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#V,t)}),this.#w===Vt.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#H([[re.HIGHLIGHT_FREE,!0]]))}#H(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#st(),this.#Q(),this.#R({isEditing:this.#w!==Vt.NONE,isEmpty:this.#q(),hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:this.#o.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#rt(),this.#Z(),this.#R({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#a){this.#a=t;for(const e of this.#a)this.#H(e.defaultPropertiesToUpdate)}}getId(){return this.#O.id}get currentLayer(){return this.#i.get(this.#h)}getLayer(t){return this.#i.get(t)}get currentPageIndex(){return this.#h}addLayer(t){this.#i.set(t.pageIndex,t),this.#E?t.enable():t.disable()}removeLayer(t){this.#i.delete(t.pageIndex)}async updateMode(t,e=null,i=!1){if(this.#w!==t&&!(this.#k&&(await this.#k.promise,!this.#k))){if(this.#k=Promise.withResolvers(),this.#c?.commitOrRemove(),this.#w=t,t===Vt.NONE){this.setEditingState(!1),this.#ct(),this._editorUndoBar?.hide(),this.#k.resolve();return}t===Vt.SIGNATURE&&await this.#F?.loadSignatures(),this.setEditingState(!0),await this.#lt(),this.unselectAll();for(const a of this.#i.values())a.updateMode(t);if(!e){i&&this.addNewEditorFromKeyboard(),this.#k.resolve();return}for(const a of this.#n.values())a.annotationElementId===e||a.id===e?(this.setSelected(a),a.enterInEditMode()):a.unselect();this.#k.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#w&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#a){switch(t){case re.CREATE:this.currentLayer.addNewEditor(e);return;case re.HIGHLIGHT_DEFAULT_COLOR:this.#M?.updateColor(e);break;case re.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#G||=new Map).set(t,e),this.showAllEditors("highlight",e);break}for(const i of this.#_)i.updateParams(t,e);for(const i of this.#a)i.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){for(const o of this.#n.values())o.editorType===t&&o.show(e);(this.#G?.get(re.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#H([[re.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#D!==t){this.#D=t;for(const e of this.#i.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#lt(){if(!this.#E){this.#E=!0;const t=[];for(const e of this.#i.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#ct(){if(this.unselectAll(),this.#E){this.#E=!1;for(const t of this.#i.values())t.disable();for(const t of this.#n.values())t.disable()}}getEditors(t){const e=[];for(const i of this.#n.values())i.pageIndex===t&&e.push(i);return e}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.focusMainContainer(),this.#y=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#L?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#u.has(t.annotationElementId))&&this.#s?.remove(t.id)}addDeletedAnnotationElement(t){this.#u.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#u.has(t)}removeDeletedAnnotationElement(t){this.#u.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#J(t){const e=this.#i.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#H(t.propertiesToUpdate))}get#ut(){let t=null;for(t of this.#_);return t}updateUI(t){this.#ut===t&&this.#H(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#H(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#_.has(t)){this.#_.delete(t),t.unselect(),this.#R({hasSelectedEditor:this.hasSelection});return}this.#_.add(t),t.select(),this.#H(t.propertiesToUpdate),this.#R({hasSelectedEditor:!0})}setSelected(t){this.#c?.commitOrRemove();for(const e of this.#_)e!==t&&e.unselect();this.#_.clear(),this.#_.add(t),t.select(),this.#H(t.propertiesToUpdate),this.#R({hasSelectedEditor:!0})}isSelected(t){return this.#_.has(t)}get firstSelectedEditor(){return this.#_.values().next().value}unselect(t){t.unselect(),this.#_.delete(t),this.#R({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#_.size!==0}get isEnterHandled(){return this.#_.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#o.undo(),this.#R({hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#q()}),this._editorUndoBar?.hide()}redo(){this.#o.redo(),this.#R({hasSomethingToUndo:!0,hasSomethingToRedo:this.#o.hasSomethingToRedo(),isEmpty:this.#q()})}addCommands(t){this.#o.add(t),this.#R({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#q()})}cleanUndoStack(t){this.#o.cleanType(t)}#q(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#_],i=()=>{this._editorUndoBar?.show(a,e.length===1?e[0].editorType:e.length);for(const o of e)o.remove()},a=()=>{for(const o of e)this.#J(o)};this.addCommands({cmd:i,undo:a,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#tt(t){for(const e of this.#_)e.unselect();this.#_.clear();for(const e of t)e.isEmpty()||(this.#_.add(e),e.select());this.#R({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#_)t.commit();this.#tt(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#w!==Vt.NONE))&&!this.#c?.commitOrRemove()&&this.hasSelection){for(const t of this.#_)t.unselect();this.#_.clear(),this.#R({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;this.#z[0]+=t,this.#z[1]+=e;const[a,o]=this.#z,c=[...this.#_],u=1e3;this.#P&&clearTimeout(this.#P),this.#P=setTimeout(()=>{this.#P=null,this.#z[0]=this.#z[1]=0,this.addCommands({cmd:()=>{for(const h of c)this.#n.has(h.id)&&(h.translateInPage(a,o),h.translationDone())},undo:()=>{for(const h of c)this.#n.has(h.id)&&(h.translateInPage(-a,-o),h.translationDone())},mustExec:!1})},u);for(const h of c)h.translateInPage(t,e),h.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(const t of this.#_)this.#f.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);const t=this.#f;this.#f=null;let e=!1;for(const[{x:a,y:o,pageIndex:c},u]of t)u.newX=a,u.newY=o,u.newPageIndex=c,e||=a!==u.savedX||o!==u.savedY||c!==u.savedPageIndex;if(!e)return!1;const i=(a,o,c,u)=>{if(this.#n.has(a.id)){const h=this.#i.get(u);h?a._setParentAndPosition(h,o,c):(a.pageIndex=u,a.x=o,a.y=c)}};return this.addCommands({cmd:()=>{for(const[a,{newX:o,newY:c,newPageIndex:u}]of t)i(a,o,c,u)},undo:()=>{for(const[a,{savedX:o,savedY:c,savedPageIndex:u}]of t)i(a,o,c,u)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#f)for(const i of this.#f.keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#_.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#w}get imageManager(){return ie(this,"imageManager",new jb)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let f=0,p=e.rangeCount;f<p;f++)if(!t.contains(e.getRangeAt(f).commonAncestorContainer))return null;const{x:i,y:a,width:o,height:c}=t.getBoundingClientRect();let u;switch(t.getAttribute("data-main-rotation")){case"90":u=(f,p,m,v)=>({x:(p-a)/c,y:1-(f+m-i)/o,width:v/c,height:m/o});break;case"180":u=(f,p,m,v)=>({x:1-(f+m-i)/o,y:1-(p+v-a)/c,width:m/o,height:v/c});break;case"270":u=(f,p,m,v)=>({x:1-(p+v-a)/c,y:(f-i)/o,width:v/c,height:m/o});break;default:u=(f,p,m,v)=>({x:(f-i)/o,y:(p-a)/c,width:m/o,height:v/c});break}const h=[];for(let f=0,p=e.rangeCount;f<p;f++){const m=e.getRangeAt(f);if(!m.collapsed)for(const{x:v,y:_,width:S,height:E}of m.getClientRects())S===0||E===0||h.push(u(v,_,S,E))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#l||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#l?.delete(t)}renderAnnotationElement(t){const e=this.#l?.get(t.data.id);if(!e)return;const i=this.#s.getRawValue(e);i&&(this.#w===Vt.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,e,i){const a=this.#L?.get(t);a&&(a.setCanvas(e,i),this.#L.delete(t))}addMissingCanvas(t,e){(this.#L||=new Map).set(t,e)}}class Xs{#t=null;#e=!1;#n=null;#i=null;#r=null;#s=null;#l=!1;#o=null;#d=null;#c=null;#h=null;#u=!1;static#f=null;static _l10n=null;constructor(t){this.#d=t,this.#u=t._uiManager.useNewAltTextFlow,Xs.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){Xs._l10n??=t}async render(){const t=this.#n=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#i=document.createElement("span");t.append(e),this.#u?(t.classList.add("new"),t.setAttribute("data-l10n-id",Xs.#f.missing),e.setAttribute("data-l10n-id",Xs.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=this.#d._uiManager._signal;t.addEventListener("contextmenu",rs,{signal:i}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:i});const a=o=>{o.preventDefault(),this.#d._uiManager.editAltText(this.#d),this.#u&&this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#a}})};return t.addEventListener("click",a,{capture:!0,signal:i}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#l=!0,a(o))},{signal:i}),await this.#p(),t}get#a(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#l}),this.#l=!1)}isEmpty(){return this.#u?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#u?this.#t!==null||!!this.#c:this.isEmpty()}get guessedText(){return this.#c}async setGuessedText(t){this.#t===null&&(this.#c=t,this.#h=await Xs._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#p())}toggleAltTextBadge(t=!1){if(!this.#u||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#d.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#c===e&&(e=this.#h),{altText:e,decorative:this.#e,guessedText:this.#c,textWithDisclaimer:this.#h}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:a,cancel:o=!1}){i&&(this.#c=i,this.#h=a),!(this.#t===t&&this.#e===e)&&(o||(this.#t=t,this.#e=e),this.#p())}toggle(t=!1){this.#n&&(!t&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#n.disabled=!t)}shown(){this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#a}})}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#r=null,this.#o?.remove(),this.#o=null}async#p(){const t=this.#n;if(!t)return;if(this.#u){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",Xs.#f[this.#a]),this.#i?.setAttribute("data-l10n-id",Xs.#f[`${this.#a}-label`]),!this.#t){this.#r?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#r?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#r;if(!e){this.#r=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#d.id}`;const a=100,o=this.#d._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#r.classList.add("show"),this.#d._reportTelemetry({action:"alt_text_tooltip"})},a)},{signal:o}),t.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#r?.classList.remove("show")},{signal:o})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#d.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class _d{#t;#e=!1;#n=null;#i;#r;#s;#l;#o=null;#d;#c=null;#h;#u=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:i=null,onPinchStart:a=null,onPinching:o=null,onPinchEnd:c=null,signal:u}){this.#t=t,this.#n=i,this.#i=e,this.#r=a,this.#s=o,this.#l=c,this.#h=new AbortController,this.#d=AbortSignal.any([u,this.#h.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#d})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Es.pixelRatio}#f(t){if(this.#i?.())return;if(t.touches.length===1){if(this.#o)return;const a=this.#o=new AbortController,o=AbortSignal.any([this.#d,a.signal]),c=this.#t,u={capture:!0,signal:o,passive:!1},h=f=>{f.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};c.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(Xe(f),h(f))},u),c.addEventListener("pointerup",h,u),c.addEventListener("pointercancel",h,u);return}if(!this.#u){this.#u=new AbortController;const a=AbortSignal.any([this.#d,this.#u.signal]),o=this.#t,c={signal:a,capture:!1,passive:!1};o.addEventListener("touchmove",this.#a.bind(this),c);const u=this.#p.bind(this);o.addEventListener("touchend",u,c),o.addEventListener("touchcancel",u,c),c.capture=!0,o.addEventListener("pointerdown",Xe,c),o.addEventListener("pointermove",Xe,c),o.addEventListener("pointercancel",Xe,c),o.addEventListener("pointerup",Xe,c),this.#r?.()}if(Xe(t),t.touches.length!==2||this.#n?.()){this.#c=null;return}let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]),this.#c={touch0X:e.screenX,touch0Y:e.screenY,touch1X:i.screenX,touch1Y:i.screenY}}#a(t){if(!this.#c||t.touches.length!==2)return;Xe(t);let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]);const{screenX:a,screenY:o}=e,{screenX:c,screenY:u}=i,h=this.#c,{touch0X:f,touch0Y:p,touch1X:m,touch1Y:v}=h,_=m-f,S=v-p,E=c-a,T=u-o,C=Math.hypot(E,T)||1,N=Math.hypot(_,S)||1;if(!this.#e&&Math.abs(N-C)<=_d.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=a,h.touch0Y=o,h.touch1X=c,h.touch1Y=u,!this.#e){this.#e=!0;return}const L=[(a+c)/2,(o+u)/2];this.#s?.(L,N,C)}#p(t){t.touches.length>=2||(this.#u&&(this.#u.abort(),this.#u=null,this.#l?.()),this.#c&&(Xe(t),this.#c=null,this.#e=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#o?.abort(),this.#o=null}}class Pt{#t=null;#e=null;#n=null;#i=!1;#r=null;#s="";#l=!1;#o=null;#d=null;#c=null;#h=null;#u="";#f=!1;#a=null;#p=!1;#m=!1;#g=!1;#b=null;#v=0;#y=0;#A=null;#S=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#T=!1;#C=Pt._zIndex++;static _borderLineWidth=-1;static _colorManager=new zb;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=Pt.prototype._resizeWithKeyboard,e=$r.TRANSLATE_SMALL,i=$r.TRANSLATE_BIG;return ie(this,"_resizerKeyboardManager",new yd([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],Pt.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:a,pageX:o,pageY:c}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,a],this.pageTranslation=[o,c];const[u,h]=this.parentDimensions;this.x=t.x/u,this.y=t.y/h,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return ie(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new qR({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Pt._l10n??=t,Pt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Pt._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);Pt._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Te("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#T}set _isDraggable(t){this.#T=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#C}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#$(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,a){const[o,c]=this.parentDimensions;[i,a]=this.screenToPageTranslation(i,a),this.x=(t+i)/o,this.y=(e+a)/c,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[i,a]=this.parentDimensions;this.setAt(t*i,e*a,this.width*i,this.height*a),this._onTranslated()}#O([t,e],i,a){[i,a]=this.screenToPageTranslation(i,a),this.x+=i/t,this.y+=a/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#O(this.parentDimensions,t,e)}translateInPage(t,e){this.#a||=[this.x,this.y,this.width,this.height],this.#O(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#a||=[this.x,this.y,this.width,this.height];const{div:i,parentDimensions:[a,o]}=this;if(this.x+=t/a,this.y+=e/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:c,y:u}=this;const[h,f]=this.getBaseTranslation();c+=h,u+=f;const{style:p}=i;p.left=`${(100*c).toFixed(2)}%`,p.top=`${(100*u).toFixed(2)}%`,this._onTranslating(c,u),i.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#a&&(this.#a[0]!==this.x||this.#a[1]!==this.y)}get _hasBeenResized(){return!!this.#a&&(this.#a[2]!==this.width||this.#a[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=Pt,a=i/t,o=i/e;switch(this.rotation){case 90:return[-a,o];case 180:return[a,o];case 270:return[a,-o];default:return[-a,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[i,a]}=this;let{x:o,y:c,width:u,height:h}=this;if(u*=i,h*=a,o*=i,c*=a,this._mustFixPosition)switch(t){case 0:o=Fn(o,0,i-u),c=Fn(c,0,a-h);break;case 90:o=Fn(o,0,i-h),c=Fn(c,u,a);break;case 180:o=Fn(o,u,i),c=Fn(c,h,a);break;case 270:o=Fn(o,h,i),c=Fn(c,0,a-u);break}this.x=o/=i,this.y=c/=a;const[f,p]=this.getBaseTranslation();o+=f,c+=p,e.left=`${(100*o).toFixed(2)}%`,e.top=`${(100*c).toFixed(2)}%`,this.moveInDOM()}static#E(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return Pt.#E(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return Pt.#E(t,e,360-this.parentRotation)}#D(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(t,e){const[i,a]=this.parentDimensions,{style:o}=this.div;o.width=`${(100*t/i).toFixed(2)}%`,this.#l||(o.height=`${(100*e/a).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:i}=t,a=i.endsWith("%"),o=!this.#l&&e.endsWith("%");if(a&&o)return;const[c,u]=this.parentDimensions;a||(t.width=`${(100*parseFloat(i)/c).toFixed(2)}%`),!this.#l&&!o&&(t.height=`${(100*parseFloat(e)/u).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#x(){if(this.#o)return;this.#o=document.createElement("div"),this.#o.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const a=document.createElement("div");this.#o.append(a),a.classList.add("resizer",i),a.setAttribute("data-resizer-name",i),a.addEventListener("pointerdown",this.#N.bind(this,i),{signal:e}),a.addEventListener("contextmenu",rs,{signal:e}),a.tabIndex=-1}this.div.prepend(this.#o)}#N(t,e){e.preventDefault();const{isMac:i}=pn.platform;if(e.button!==0||e.ctrlKey&&i)return;this.#n?.toggle(!1);const a=this._isDraggable;this._isDraggable=!1,this.#d=[e.screenX,e.screenY];const o=new AbortController,c=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#j.bind(this,t),{passive:!0,capture:!0,signal:c}),window.addEventListener("touchmove",Xe,{passive:!1,signal:c}),window.addEventListener("contextmenu",rs,{signal:c}),this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const u=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const f=()=>{o.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=u,this.div.style.cursor=h,this.#L()};window.addEventListener("pointerup",f,{signal:c}),window.addEventListener("blur",f,{signal:c})}#M(t,e,i,a){this.width=i,this.height=a,this.x=t,this.y=e;const[o,c]=this.parentDimensions;this.setDims(o*i,c*a),this.fixAndSetPosition(),this._onResized()}_onResized(){}#L(){if(!this.#c)return;const{savedX:t,savedY:e,savedWidth:i,savedHeight:a}=this.#c;this.#c=null;const o=this.x,c=this.y,u=this.width,h=this.height;o===t&&c===e&&u===i&&h===a||this.addCommands({cmd:this.#M.bind(this,o,c,u,h),undo:this.#M.bind(this,t,e,i,a),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#j(t,e){const[i,a]=this.parentDimensions,o=this.x,c=this.y,u=this.width,h=this.height,f=Pt.MIN_SIZE/i,p=Pt.MIN_SIZE/a,m=this.#D(this.rotation),v=(B,G)=>[m[0]*B+m[2]*G,m[1]*B+m[3]*G],_=this.#D(360-this.rotation),S=(B,G)=>[_[0]*B+_[2]*G,_[1]*B+_[3]*G];let E,T,C=!1,N=!1;switch(t){case"topLeft":C=!0,E=(B,G)=>[0,0],T=(B,G)=>[B,G];break;case"topMiddle":E=(B,G)=>[B/2,0],T=(B,G)=>[B/2,G];break;case"topRight":C=!0,E=(B,G)=>[B,0],T=(B,G)=>[0,G];break;case"middleRight":N=!0,E=(B,G)=>[B,G/2],T=(B,G)=>[0,G/2];break;case"bottomRight":C=!0,E=(B,G)=>[B,G],T=(B,G)=>[0,0];break;case"bottomMiddle":E=(B,G)=>[B/2,G],T=(B,G)=>[B/2,0];break;case"bottomLeft":C=!0,E=(B,G)=>[0,G],T=(B,G)=>[B,0];break;case"middleLeft":N=!0,E=(B,G)=>[0,G/2],T=(B,G)=>[B,G/2];break}const L=E(u,h),P=T(u,h);let M=v(...P);const I=Pt._round(o+M[0]),F=Pt._round(c+M[1]);let q=1,Z=1,nt,tt;if(e.fromKeyboard)({deltaX:nt,deltaY:tt}=e);else{const{screenX:B,screenY:G}=e,[pt,xt]=this.#d;[nt,tt]=this.screenToPageTranslation(B-pt,G-xt),this.#d[0]=B,this.#d[1]=G}if([nt,tt]=S(nt/i,tt/a),C){const B=Math.hypot(u,h);q=Z=Math.max(Math.min(Math.hypot(P[0]-L[0]-nt,P[1]-L[1]-tt)/B,1/u,1/h),f/u,p/h)}else N?q=Fn(Math.abs(P[0]-L[0]-nt),f,1)/u:Z=Fn(Math.abs(P[1]-L[1]-tt),p,1)/h;const ht=Pt._round(u*q),vt=Pt._round(h*Z);M=v(...T(ht,vt));const Et=I-M[0],bt=F-M[1];this.#a||=[this.x,this.y,this.width,this.height],this.width=ht,this.height=vt,this.x=Et,this.y=bt,this.setDims(i*ht,a*vt),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}async addEditToolbar(){return this._editToolbar||this.#m?this._editToolbar:(this._editToolbar=new Wu(this),this.div.append(this._editToolbar.render()),this.#n&&await this._editToolbar.addAltText(this.#n),this._editToolbar)}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#n||(Xs.initialize(Pt._l10n),this.#n=new Xs(this),this.#t&&(this.#n.data=this.#t,this.#t=null),await this.addEditToolbar())}get altTextData(){return this.#n?.data}set altTextData(t){this.#n&&(this.#n.data=t)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(t){await this.#n?.setGuessedText(t)}serializeAltText(t){return this.#n?.serialize(t)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#i?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#G();const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[a,o]=this.getInitialTranslation();return this.translate(a,o),lS(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#S||=new _d({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#w.bind(this),onPinching:this.#_.bind(this),onPinchEnd:this.#B.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),t}#w(){this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#_(t,e,i){let o=.7*(i/e)+1-.7;if(o===1)return;const c=this.#D(this.rotation),u=(I,F)=>[c[0]*I+c[2]*F,c[1]*I+c[3]*F],[h,f]=this.parentDimensions,p=this.x,m=this.y,v=this.width,_=this.height,S=Pt.MIN_SIZE/h,E=Pt.MIN_SIZE/f;o=Math.max(Math.min(o,1/v,1/_),S/v,E/_);const T=Pt._round(v*o),C=Pt._round(_*o);if(T===v&&C===_)return;this.#a||=[p,m,v,_];const N=u(v/2,_/2),L=Pt._round(p+N[0]),P=Pt._round(m+N[1]),M=u(T/2,C/2);this.x=L-M[0],this.y=P-M[1],this.width=T,this.height=C,this.setDims(h*T,f*C),this.fixAndSetPosition(),this._onResizing()}#B(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#L()}pointerdown(t){const{isMac:e}=pn.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#U(t);return}this.#F(t)}#F(t){const{isMac:e}=pn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#U(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let i=!1;const a=new AbortController,o=this._uiManager.combinedSignal(a),c={capture:!0,passive:!1,signal:o},u=f=>{a.abort(),this.#r=null,this.#f=!1,this._uiManager.endDragSession()||this.#F(f),i&&this._onStopDragging()};e&&(this.#v=t.clientX,this.#y=t.clientY,this.#r=t.pointerId,this.#s=t.pointerType,window.addEventListener("pointermove",f=>{i||(i=!0,this._onStartDragging());const{clientX:p,clientY:m,pointerId:v}=f;if(v!==this.#r){Xe(f);return}const[_,S]=this.screenToPageTranslation(p-this.#v,m-this.#y);this.#v=p,this.#y=m,this._uiManager.dragSelectedEditors(_,S)},c),window.addEventListener("touchmove",Xe,c),window.addEventListener("pointerdown",f=>{f.pointerType===this.#s&&(this.#S||f.isPrimary)&&u(f),Xe(f)},c));const h=f=>{if(!this.#r||this.#r===f.pointerId){u(f);return}Xe(f)};window.addEventListener("pointerup",h,{signal:o}),window.addEventListener("blur",h,{signal:o})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.#b=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,i=this.rotation){const a=this.parentScale,[o,c]=this.pageDimensions,[u,h]=this.pageTranslation,f=t/a,p=e/a,m=this.x*o,v=this.y*c,_=this.width*o,S=this.height*c;switch(i){case 0:return[m+f+u,c-v-p-S+h,m+f+_+u,c-v-p+h];case 90:return[m+p+u,c-v+f+h,m+p+S+u,c-v+f+_+h];case 180:return[m-f-_+u,c-v+p+h,m-f+u,c-v+p+S+h];case 270:return[m-p-S+u,c-v-f-_+h,m-p+u,c-v-f+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,a,o,c]=t,u=o-i,h=c-a;switch(this.rotation){case 0:return[i,e-c,u,h];case 90:return[i,e-a,h,u];case 180:return[o,e-a,u,h];case 270:return[o,e-c,h,u];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#m=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#m=!1,!0):!1}isInEditMode(){return this.#m}shouldGetKeyboardEvents(){return this.#g}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:i,right:a}=this.getClientDimensions(),{innerHeight:o,innerWidth:c}=window;return e<c&&a>0&&t<o&&i>0}#G(){if(this.#h||!this.div)return;this.#h=new AbortController;const t=this._uiManager.combinedSignal(this.#h);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#G()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){Te("An editor must be serializable")}static async deserialize(t,e,i){const a=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i});a.rotation=t.rotation,a.#t=t.accessibilityData,a._isCopy=t.isCopy||!1;const[o,c]=a.pageDimensions,[u,h,f,p]=a.getRectInCurrentCoords(t.rect,c);return a.x=u/o,a.y=h/c,a.width=f/o,a.height=p/c,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#h?.abort(),this.#h=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#b&&(clearTimeout(this.#b),this.#b=null),this.#$(),this.removeEditToolbar(),this.#A){for(const t of this.#A.values())clearTimeout(t);this.#A=null}this.parent=null,this.#S?.destroy(),this.#S=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#x(),this.#o.classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#o.children;if(!this.#e){this.#e=Array.from(e);const c=this.#V.bind(this),u=this.#z.bind(this),h=this._uiManager._signal;for(const f of this.#e){const p=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",c,{signal:h}),f.addEventListener("blur",u,{signal:h}),f.addEventListener("focus",this.#P.bind(this,p),{signal:h}),f.setAttribute("data-l10n-id",Pt._l10nResizer[p])}}const i=this.#e[0];let a=0;for(const c of e){if(c===i)break;a++}const o=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(o!==a){if(o<a)for(let u=0;u<a-o;u++)this.#o.append(this.#o.firstChild);else if(o>a)for(let u=0;u<o-a;u++)this.#o.firstChild.before(this.#o.lastChild);let c=0;for(const u of e){const f=this.#e[c++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",Pt._l10nResizer[f])}}this.#I(0),this.#g=!0,this.#o.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#V(t){Pt._resizerKeyboardManager.exec(this,t)}#z(t){this.#g&&t.relatedTarget?.parentNode!==this.#o&&this.#$()}#P(t){this.#u=this.#g?t:""}#I(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#g&&this.#j(this.#u,{deltaX:t,deltaY:e,fromKeyboard:!0})}#$(){this.#g=!1,this.#I(-1),this.#L()}_stopResizingWithKeyboard(){this.#$(),this.div.focus()}select(){if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}}unselect(){this.isSelected&&(this.isSelected=!1,this.#o?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(t){this.#p=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){this.#l=!0;const i=t/e,{style:a}=this.div;a.aspectRatio=i,a.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#A||=new Map;const{action:i}=t;let a=this.#A.get(i);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(t),this.#A.delete(i),this.#A.size===0&&(this.#A=null)},Pt._telemetryTimeout),this.#A.set(i,a);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class qR extends Pt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const IA=3285377520,Ki=4294901760,Ys=65535;class cS{constructor(t){this.h1=t?t&4294967295:IA,this.h2=t?t&4294967295:IA}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let E=0,T=t.length;E<T;E++){const C=t.charCodeAt(E);C<=255?e[i++]=C:(e[i++]=C>>>8,e[i++]=C&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=i>>2,o=i-a*4,c=new Uint32Array(e.buffer,0,a);let u=0,h=0,f=this.h1,p=this.h2;const m=3432918353,v=461845907,_=m&Ys,S=v&Ys;for(let E=0;E<a;E++)E&1?(u=c[E],u=u*m&Ki|u*_&Ys,u=u<<15|u>>>17,u=u*v&Ki|u*S&Ys,f^=u,f=f<<13|f>>>19,f=f*5+3864292196):(h=c[E],h=h*m&Ki|h*_&Ys,h=h<<15|h>>>17,h=h*v&Ki|h*S&Ys,p^=h,p=p<<13|p>>>19,p=p*5+3864292196);switch(u=0,o){case 3:u^=e[a*4+2]<<16;case 2:u^=e[a*4+1]<<8;case 1:u^=e[a*4],u=u*m&Ki|u*_&Ys,u=u<<15|u>>>17,u=u*v&Ki|u*S&Ys,a&1?f^=u:p^=u}this.h1=f,this.h2=p}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Ki|t*36045&Ys,e=e*4283543511&Ki|((e<<16|t>>>16)*2950163797&Ki)>>>16,t^=e>>>1,t=t*444984403&Ki|t*60499&Ys,e=e*3301882366&Ki|((e<<16|t>>>16)*3120437893&Ki)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Zm=Object.freeze({map:null,hash:"",transfer:void 0});class $b{#t=!1;#e=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=this.#n.get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return this.#n.get(t)}remove(t){if(this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of this.#n.values())if(e instanceof Pt)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=this.#n.get(t);let a=!1;if(i!==void 0)for(const[o,c]of Object.entries(e))i[o]!==c&&(a=!0,i[o]=c);else a=!0,this.#n.set(t,e);a&&this.#i(),e instanceof Pt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return this.#n.has(t)}get size(){return this.#n.size}#i(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new uS(this)}get serializable(){if(this.#n.size===0)return Zm;const t=new Map,e=new cS,i=[],a=Object.create(null);let o=!1;for(const[c,u]of this.#n){const h=u instanceof Pt?u.serialize(!1,a):u;h&&(t.set(c,h),e.update(`${c}:${JSON.stringify(h)}`),o||=!!h.bitmap)}if(o)for(const c of t.values())c.bitmap&&i.push(c.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:Zm}get editorStats(){let t=null;const e=new Map;for(const i of this.#n.values()){if(!(i instanceof Pt))continue;const a=i.telemetryFinalData;if(!a)continue;const{type:o}=a;e.has(o)||e.set(o,Object.getPrototypeOf(i).constructor),t||=Object.create(null);const c=t[o]||=new Map;for(const[u,h]of Object.entries(a)){if(u==="type")continue;let f=c.get(u);f||(f=new Map,c.set(u,f));const p=f.get(h)??0;f.set(h,p+1)}}for(const[i,a]of e)t[i]=a.computeTelemetryFinalData(t[i]);return t}resetModifiedIds(){this.#e=null}get modifiedIds(){if(this.#e)return this.#e;const t=[];for(const e of this.#n.values())!(e instanceof Pt)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class uS extends $b{#t;constructor(t){super();const{map:e,hash:i,transfer:a}=t.serializable,o=structuredClone(e,a?{transfer:a}:null);this.#t={map:o,hash:i,transfer:a}}get print(){Te("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return ie(this,"modifiedIds",{ids:new Set,hash:""})}}class YR{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:i}){if(!(!t||this.#t.has(t.loadedName))){if(tn(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:o,style:c}=t,u=new FontFace(a,o,c);this.addNativeFontFace(u);try{await u.load(),this.#t.add(a),i?.(t)}catch{Yt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}Te("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(a){throw Yt(`Failed to load font '${i.family}': '${a}'.`),t.disableFontFace=!0,a}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const a=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,a)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return ie(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return ie(this,"isSyncFontLoadingSupported",Zn||pn.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(tn(!a.done,"completeRequest() cannot be called twice."),a.done=!0;i.length>0&&i[0].done;){const o=i.shift();setTimeout(o.callback,0)}}const{loadingRequests:i}=this,a={done:!1,complete:e,callback:t};return i.push(a),a}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ie(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(P,M){return P.charCodeAt(M)<<24|P.charCodeAt(M+1)<<16|P.charCodeAt(M+2)<<8|P.charCodeAt(M+3)&255}function a(P,M,I,F){const q=P.substring(0,M),Z=P.substring(M+I);return q+F+Z}let o,c;const u=this._document.createElement("canvas");u.width=1,u.height=1;const h=u.getContext("2d");let f=0;function p(P,M){if(++f>30){Yt("Load test font never loaded."),M();return}if(h.font="30px "+P,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){M();return}setTimeout(p.bind(null,P,M))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=a(v,976,m.length,m);const S=16,E=1482184792;let T=i(v,S);for(o=0,c=m.length-3;o<c;o+=4)T=T-E+i(m,o)|0;o<m.length&&(T=T-E+i(m+"XXX",o)|0),v=a(v,S,4,IR(T));const C=`url(data:font/opentype;base64,${btoa(v)});`,N=`@font-face {font-family:"${m}";src:${C}}`;this.insertRule(N);const L=this._document.createElement("div");L.style.visibility="hidden",L.style.width=L.style.height="10px",L.style.position="absolute",L.style.top=L.style.left="0px";for(const P of[t.loadedName,m]){const M=this._document.createElement("span");M.textContent="Hi",M.style.fontFamily=P,L.append(M)}this._document.body.append(L),p(m,()=>{L.remove(),e.complete()})}}class WR{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const i in t)this[i]=t[i];this._inspectFont=e}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${sS(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const i=this.loadedName+"_path_"+e;let a;try{a=t.get(i)}catch(c){Yt(`getPathGenerator - ignoring character: "${c}".`)}const o=new Path2D(a||"");return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[e]=o}}function XR(r){if(r instanceof URL)return r.href;if(typeof r=="string"){if(Zn)return r;const t=URL.parse(r,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function KR(r){if(Zn&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return md(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r?.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function _f(r){if(typeof r!="string")return null;if(r.endsWith("/"))return r;throw new Error(`Invalid factory url: "${r}" must include trailing slash.`)}const Jm=r=>typeof r=="object"&&Number.isInteger(r?.num)&&r.num>=0&&Number.isInteger(r?.gen)&&r.gen>=0,QR=r=>typeof r=="object"&&typeof r?.name=="string",dS=HR.bind(null,Jm,QR);class ZR{#t=new Map;#e=Promise.resolve();postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[a]of this.#t)a.call(this,i)})}addEventListener(t,e,i=null){let a=null;if(i?.signal instanceof AbortSignal){const{signal:o}=i;if(o.aborted){Yt("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(t,e);a=()=>o.removeEventListener("abort",c),o.addEventListener("abort",c)}this.#t.set(e,a)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const Af={DATA:1,ERROR:2},Je={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function kA(){}function pi(r){if(r instanceof zr||r instanceof jf||r instanceof MA||r instanceof Ju||r instanceof vm)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||Te('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new zr(r.message);case"InvalidPDFException":return new jf(r.message);case"PasswordException":return new MA(r.message,r.code);case"ResponseException":return new Ju(r.message,r.status,r.missing);case"UnknownErrorException":return new vm(r.message,r.details)}return new vm(r.message,r.toString())}class Uu{#t=new AbortController;constructor(t,e,i){this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#i(t);return}if(t.callback){const i=t.callbackId,a=this.callbackCapabilities[i];if(!a)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===Af.DATA)a.resolve(t.data);else if(t.callback===Af.ERROR)a.reject(pi(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,a=t.sourceName,o=this.comObj;Promise.try(e,t.data).then(function(c){o.postMessage({sourceName:i,targetName:a,callback:Af.DATA,callbackId:t.callbackId,data:c})},function(c){o.postMessage({sourceName:i,targetName:a,callback:Af.ERROR,callbackId:t.callbackId,reason:pi(c)})});return}if(t.streamId){this.#n(t);return}e(t.data)}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const a=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[a]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:a,data:e},i)}catch(c){o.reject(c)}return o.promise}sendWithStream(t,e,i,a){const o=this.streamId++,c=this.sourceName,u=this.targetName,h=this.comObj;return new ReadableStream({start:f=>{const p=Promise.withResolvers();return this.streamControllers[o]={controller:f,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:c,targetName:u,action:t,streamId:o,data:e,desiredSize:f.desiredSize},a),p.promise},pull:f=>{const p=Promise.withResolvers();return this.streamControllers[o].pullCall=p,h.postMessage({sourceName:c,targetName:u,stream:Je.PULL,streamId:o,desiredSize:f.desiredSize}),p.promise},cancel:f=>{tn(f instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[o].cancelCall=p,this.streamControllers[o].isClosed=!0,h.postMessage({sourceName:c,targetName:u,stream:Je.CANCEL,streamId:o,reason:pi(f)}),p.promise}},i)}#n(t){const e=t.streamId,i=this.sourceName,a=t.sourceName,o=this.comObj,c=this,u=this.actionHandler[t.action],h={enqueue(f,p=1,m){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=p,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:i,targetName:a,stream:Je.ENQUEUE,streamId:e,chunk:f},m)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:a,stream:Je.CLOSE,streamId:e}),delete c.streamSinks[e])},error(f){tn(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:a,stream:Je.ERROR,streamId:e,reason:pi(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[e]=h,Promise.try(u,t.data,h).then(function(){o.postMessage({sourceName:i,targetName:a,stream:Je.START_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:i,targetName:a,stream:Je.START_COMPLETE,streamId:e,reason:pi(f)})})}#i(t){const e=t.streamId,i=this.sourceName,a=t.sourceName,o=this.comObj,c=this.streamControllers[e],u=this.streamSinks[e];switch(t.stream){case Je.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject(pi(t.reason));break;case Je.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject(pi(t.reason));break;case Je.PULL:if(!u){o.postMessage({sourceName:i,targetName:a,stream:Je.PULL_COMPLETE,streamId:e,success:!0});break}u.desiredSize<=0&&t.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=t.desiredSize,Promise.try(u.onPull||kA).then(function(){o.postMessage({sourceName:i,targetName:a,stream:Je.PULL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:i,targetName:a,stream:Je.PULL_COMPLETE,streamId:e,reason:pi(f)})});break;case Je.ENQUEUE:if(tn(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case Je.CLOSE:if(tn(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),this.#r(c,e);break;case Je.ERROR:tn(c,"error should have stream controller"),c.controller.error(pi(t.reason)),this.#r(c,e);break;case Je.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject(pi(t.reason)),this.#r(c,e);break;case Je.CANCEL:if(!u)break;const h=pi(t.reason);Promise.try(u.onCancel||kA,h).then(function(){o.postMessage({sourceName:i,targetName:a,stream:Je.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:i,targetName:a,stream:Je.CANCEL_COMPLETE,streamId:e,reason:pi(f)})}),u.sinkCapability.reject(h),u.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#r(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class hS{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Te("Abstract method `_createCanvas` called.")}}class JR extends hS{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class fS{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Te("Abstract method `_fetch` called.")}}class BA extends fS{async _fetch(t){const e=await sc(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):md(e)}}class pS{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,a,o){return"none"}destroy(t=!1){}}class tN extends pS{#t;#e;#n;#i;#r;#s;#l=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#i=t,this.#r=e}get#o(){return this.#e||=new Map}get#d(){return this.#s||=new Map}get#c(){if(!this.#n){const t=this.#r.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const i=this.#r.createElementNS(kr,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#n=this.#r.createElementNS(kr,"defs"),t.append(i),i.append(this.#n),this.#r.body.append(t)}return this.#n}#h(t){if(t.length===1){const h=t[0],f=new Array(256);for(let m=0;m<256;m++)f[m]=h[m]/255;const p=f.join(",");return[p,p,p]}const[e,i,a]=t,o=new Array(256),c=new Array(256),u=new Array(256);for(let h=0;h<256;h++)o[h]=e[h]/255,c[h]=i[h]/255,u[h]=a[h]/255;return[o.join(","),c.join(","),u.join(",")]}#u(t){if(this.#t===void 0){this.#t="";const e=this.#r.URL;e!==this.#r.baseURI&&(vd(e)?Yt('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=Ib(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[i,a,o]=this.#h(t),c=t.length===1?i:`${i}${a}${o}`;if(e=this.#o.get(c),e)return this.#o.set(t,e),e;const u=`g_${this.#i}_transfer_map_${this.#l++}`,h=this.#u(u);this.#o.set(t,h),this.#o.set(c,h);const f=this.#p(u);return this.#g(i,a,o,f),h}addHCMFilter(t,e){const i=`${t}-${e}`,a="base";let o=this.#d.get(a);if(o?.key===i||(o?(o.filter?.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},this.#d.set(a,o)),!t||!e))return o.url;const c=this.#v(t);t=Nt.makeHexColor(...c);const u=this.#v(e);if(e=Nt.makeHexColor(...u),this.#c.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return o.url;const h=new Array(256);for(let _=0;_<=255;_++){const S=_/255;h[_]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const f=h.join(","),p=`g_${this.#i}_hcm_filter`,m=o.filter=this.#p(p);this.#g(f,f,f,m),this.#a(m);const v=(_,S)=>{const E=c[_]/255,T=u[_]/255,C=new Array(S+1);for(let N=0;N<=S;N++)C[N]=E+N/S*(T-E);return C.join(",")};return this.#g(v(0,5),v(1,5),v(2,5),m),o.url=this.#u(p),o.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[i]=this.#h([t]),a=`alpha_${i}`;if(e=this.#o.get(a),e)return this.#o.set(t,e),e;const o=`g_${this.#i}_alpha_map_${this.#l++}`,c=this.#u(o);this.#o.set(t,c),this.#o.set(a,c);const u=this.#p(o);return this.#b(i,u),c}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let i,a;if(t?([i]=this.#h([t]),a=`luminosity_${i}`):a="luminosity",e=this.#o.get(a),e)return this.#o.set(t,e),e;const o=`g_${this.#i}_luminosity_map_${this.#l++}`,c=this.#u(o);this.#o.set(t,c),this.#o.set(a,c);const u=this.#p(o);return this.#f(u),t&&this.#b(i,u),c}addHighlightHCMFilter(t,e,i,a,o){const c=`${e}-${i}-${a}-${o}`;let u=this.#d.get(t);if(u?.key===c||(u?(u.filter?.remove(),u.key=c,u.url="none",u.filter=null):(u={key:c,url:"none",filter:null},this.#d.set(t,u)),!e||!i))return u.url;const[h,f]=[e,i].map(this.#v.bind(this));let p=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),m=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[v,_]=[a,o].map(this.#v.bind(this));m<p&&([p,m,v,_]=[m,p,_,v]),this.#c.style.color="";const S=(C,N,L)=>{const P=new Array(256),M=(m-p)/L,I=C/255,F=(N-C)/(255*L);let q=0;for(let Z=0;Z<=L;Z++){const nt=Math.round(p+Z*M),tt=I+Z*F;for(let ht=q;ht<=nt;ht++)P[ht]=tt;q=nt+1}for(let Z=q;Z<256;Z++)P[Z]=P[q-1];return P.join(",")},E=`g_${this.#i}_hcm_${t}_filter`,T=u.filter=this.#p(E);return this.#a(T),this.#g(S(v[0],_[0],5),S(v[1],_[1],5),S(v[2],_[2],5),T),u.url=this.#u(E),u.url}destroy(t=!1){t&&this.#s?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#e?.clear(),this.#e=null,this.#s?.clear(),this.#s=null,this.#l=0)}#f(t){const e=this.#r.createElementNS(kr,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#a(t){const e=this.#r.createElementNS(kr,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#p(t){const e=this.#r.createElementNS(kr,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#c.append(e),e}#m(t,e,i){const a=this.#r.createElementNS(kr,e);a.setAttribute("type","discrete"),a.setAttribute("tableValues",i),t.append(a)}#g(t,e,i,a){const o=this.#r.createElementNS(kr,"feComponentTransfer");a.append(o),this.#m(o,"feFuncR",t),this.#m(o,"feFuncG",e),this.#m(o,"feFuncB",i)}#b(t,e){const i=this.#r.createElementNS(kr,"feComponentTransfer");e.append(i),this.#m(i,"feFuncA",t)}#v(t){return this.#c.style.color=t,Hb(getComputedStyle(this.#c).getPropertyValue("color"))}}class gS{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Te("Abstract method `_fetch` called.")}}class FA extends gS{async _fetch(t){const e=await sc(t,"arraybuffer");return new Uint8Array(e)}}class mS{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Te("Abstract method `_fetch` called.")}}class HA extends mS{async _fetch(t){const e=await sc(t,"arraybuffer");return new Uint8Array(e)}}Zn&&Yt("Please use the `legacy` build in Node.js environments.");async function Ub(r){const e=await process.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(e)}class eN extends pS{}class nN extends hS{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class iN extends fS{async _fetch(t){return Ub(t)}}class sN extends gS{async _fetch(t){return Ub(t)}}class rN extends mS{async _fetch(t){return Ub(t)}}const Sn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function tb(r,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],a=new Path2D;a.rect(t[0],t[1],e,i),r.clip(a)}class Gb{isModifyingCurrentTransform(){return!1}getPattern(){Te("Abstract method `getPattern` called.")}}class aN extends Gb{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,a){let o;if(a===Sn.STROKE||a===Sn.FILL){const c=e.current.getClippedPathBoundingBox(a,He(t))||[0,0,0,0],u=Math.ceil(c[2]-c[0])||1,h=Math.ceil(c[3]-c[1])||1,f=e.cachedCanvases.getCanvas("pattern",u,h),p=f.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-c[0],-c[1]),i=Nt.transform(i,[1,0,0,1,c[0],c[1]]),p.transform(...e.baseTransform),this.matrix&&p.transform(...this.matrix),tb(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),o=t.createPattern(f.canvas,"no-repeat");const m=new DOMMatrix(i);o.setTransform(m)}else tb(t,this._bbox),o=this._createGradient(t);return o}}function Am(r,t,e,i,a,o,c,u){const h=t.coords,f=t.colors,p=r.data,m=r.width*4;let v;h[e+1]>h[i+1]&&(v=e,e=i,i=v,v=o,o=c,c=v),h[i+1]>h[a+1]&&(v=i,i=a,a=v,v=c,c=u,u=v),h[e+1]>h[i+1]&&(v=e,e=i,i=v,v=o,o=c,c=v);const _=(h[e]+t.offsetX)*t.scaleX,S=(h[e+1]+t.offsetY)*t.scaleY,E=(h[i]+t.offsetX)*t.scaleX,T=(h[i+1]+t.offsetY)*t.scaleY,C=(h[a]+t.offsetX)*t.scaleX,N=(h[a+1]+t.offsetY)*t.scaleY;if(S>=N)return;const L=f[o],P=f[o+1],M=f[o+2],I=f[c],F=f[c+1],q=f[c+2],Z=f[u],nt=f[u+1],tt=f[u+2],ht=Math.round(S),vt=Math.round(N);let Et,bt,B,G,pt,xt,O,et;for(let ot=ht;ot<=vt;ot++){if(ot<T){const Ct=ot<S?0:(S-ot)/(S-T);Et=_-(_-E)*Ct,bt=L-(L-I)*Ct,B=P-(P-F)*Ct,G=M-(M-q)*Ct}else{let Ct;ot>N?Ct=1:T===N?Ct=0:Ct=(T-ot)/(T-N),Et=E-(E-C)*Ct,bt=I-(I-Z)*Ct,B=F-(F-nt)*Ct,G=q-(q-tt)*Ct}let K;ot<S?K=0:ot>N?K=1:K=(S-ot)/(S-N),pt=_-(_-C)*K,xt=L-(L-Z)*K,O=P-(P-nt)*K,et=M-(M-tt)*K;const ct=Math.round(Math.min(Et,pt)),mt=Math.round(Math.max(Et,pt));let dt=m*ot+ct*4;for(let Ct=ct;Ct<=mt;Ct++)K=(Et-Ct)/(Et-pt),K<0?K=0:K>1&&(K=1),p[dt++]=bt-(bt-xt)*K|0,p[dt++]=B-(B-O)*K|0,p[dt++]=G-(G-et)*K|0,p[dt++]=255}}function oN(r,t,e){const i=t.coords,a=t.colors;let o,c;switch(t.type){case"lattice":const u=t.verticesPerRow,h=Math.floor(i.length/u)-1,f=u-1;for(o=0;o<h;o++){let p=o*u;for(let m=0;m<f;m++,p++)Am(r,e,i[p],i[p+1],i[p+u],a[p],a[p+1],a[p+u]),Am(r,e,i[p+u+1],i[p+1],i[p+u],a[p+u+1],a[p+1],a[p+u])}break;case"triangles":for(o=0,c=i.length;o<c;o+=3)Am(r,e,i[o],i[o+1],i[o+2],a[o],a[o+1],a[o+2]);break;default:throw new Error("illegal figure")}}class lN extends Gb{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,i){const u=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-u,p=Math.ceil(this._bounds[3])-h,m=Math.min(Math.ceil(Math.abs(f*t[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(p*t[1]*1.1)),3e3),_=f/m,S=p/v,E={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-h,scaleX:1/_,scaleY:1/S},T=m+2*2,C=v+2*2,N=i.getCanvas("mesh",T,C),L=N.context,P=L.createImageData(m,v);if(e){const I=P.data;for(let F=0,q=I.length;F<q;F+=4)I[F]=e[0],I[F+1]=e[1],I[F+2]=e[2],I[F+3]=255}for(const I of this._figures)oN(P,I,E);return L.putImageData(P,2,2),{canvas:N.canvas,offsetX:u-2*_,offsetY:h-2*S,scaleX:_,scaleY:S}}isModifyingCurrentTransform(){return!0}getPattern(t,e,i,a){tb(t,this._bbox);const o=new Float32Array(2);if(a===Sn.SHADING)Nt.singularValueDecompose2dScale(He(t),o);else if(this.matrix){Nt.singularValueDecompose2dScale(this.matrix,o);const[u,h]=o;Nt.singularValueDecompose2dScale(e.baseTransform,o),o[0]*=u,o[1]*=h}else Nt.singularValueDecompose2dScale(e.baseTransform,o);const c=this._createMeshCanvas(o,a===Sn.SHADING?null:this._background,e.cachedCanvases);return a!==Sn.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class cN extends Gb{getPattern(){return"hotpink"}}function uN(r){switch(r[0]){case"RadialAxial":return new aN(r);case"Mesh":return new lN(r);case"Dummy":return new cN}throw new Error(`Unknown IR type: ${r[0]}`)}const jA={COLORED:1,UNCOLORED:2};class Vb{static MAX_PATTERN_SIZE=3e3;constructor(t,e,i,a){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=i,this.baseTransform=a}createPatternCanvas(t){const{bbox:e,operatorList:i,paintType:a,tilingType:o,color:c,canvasGraphicsFactory:u}=this;let{xstep:h,ystep:f}=this;h=Math.abs(h),f=Math.abs(f),lp("TilingType: "+o);const p=e[0],m=e[1],v=e[2],_=e[3],S=v-p,E=_-m,T=new Float32Array(2);Nt.singularValueDecompose2dScale(this.matrix,T);const[C,N]=T;Nt.singularValueDecompose2dScale(this.baseTransform,T);const L=C*T[0],P=N*T[1];let M=S,I=E,F=!1,q=!1;const Z=Math.ceil(h*L),nt=Math.ceil(f*P),tt=Math.ceil(S*L),ht=Math.ceil(E*P);Z>=tt?M=h:F=!0,nt>=ht?I=f:q=!0;const vt=this.getSizeAndScale(M,this.ctx.canvas.width,L),Et=this.getSizeAndScale(I,this.ctx.canvas.height,P),bt=t.cachedCanvases.getCanvas("pattern",vt.size,Et.size),B=bt.context,G=u.createCanvasGraphics(B);if(G.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(G,a,c),B.translate(-vt.scale*p,-Et.scale*m),G.transform(vt.scale,0,0,Et.scale,0,0),B.save(),this.clipBbox(G,p,m,v,_),G.baseTransform=He(G.ctx),G.executeOperatorList(i),G.endDrawing(),B.restore(),F||q){const pt=bt.canvas;F&&(M=h),q&&(I=f);const xt=this.getSizeAndScale(M,this.ctx.canvas.width,L),O=this.getSizeAndScale(I,this.ctx.canvas.height,P),et=xt.size,ot=O.size,K=t.cachedCanvases.getCanvas("pattern-workaround",et,ot),ct=K.context,mt=F?Math.floor(S/h):0,dt=q?Math.floor(E/f):0;for(let Ct=0;Ct<=mt;Ct++)for(let lt=0;lt<=dt;lt++)ct.drawImage(pt,et*Ct,ot*lt,et,ot,0,0,et,ot);return{canvas:K.canvas,scaleX:xt.scale,scaleY:O.scale,offsetX:p,offsetY:m}}return{canvas:bt.canvas,scaleX:vt.scale,scaleY:Et.scale,offsetX:p,offsetY:m}}getSizeAndScale(t,e,i){const a=Math.max(Vb.MAX_PATTERN_SIZE,e);let o=Math.ceil(t*i);return o>=a?o=a:i=o/t,{scale:i,size:o}}clipBbox(t,e,i,a,o){const c=a-e,u=o-i;t.ctx.rect(e,i,c,u),Nt.axialAlignedBoundingBox([e,i,a,o],He(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const a=t.ctx,o=t.current;switch(e){case jA.COLORED:const{fillStyle:c,strokeStyle:u}=this.ctx;a.fillStyle=o.fillColor=c,a.strokeStyle=o.strokeColor=u;break;case jA.UNCOLORED:a.fillStyle=a.strokeStyle=i,o.fillColor=o.strokeColor=i;break;default:throw new PR(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,i,a){let o=i;a!==Sn.SHADING&&(o=Nt.transform(o,e.baseTransform),this.matrix&&(o=Nt.transform(o,this.matrix)));const c=this.createPatternCanvas(e);let u=new DOMMatrix(o);u=u.translate(c.offsetX,c.offsetY),u=u.scale(1/c.scaleX,1/c.scaleY);const h=t.createPattern(c.canvas,"repeat");return h.setTransform(u),h}}function dN({src:r,srcPos:t=0,dest:e,width:i,height:a,nonBlackColor:o=4294967295,inverseDecode:c=!1}){const u=pn.isLittleEndian?4278190080:255,[h,f]=c?[o,u]:[u,o],p=i>>3,m=i&7,v=r.length;e=new Uint32Array(e.buffer);let _=0;for(let S=0;S<a;S++){for(const T=t+p;t<T;t++){const C=t<v?r[t]:255;e[_++]=C&128?f:h,e[_++]=C&64?f:h,e[_++]=C&32?f:h,e[_++]=C&16?f:h,e[_++]=C&8?f:h,e[_++]=C&4?f:h,e[_++]=C&2?f:h,e[_++]=C&1?f:h}if(m===0)continue;const E=t<v?r[t++]:255;for(let T=0;T<m;T++)e[_++]=E&1<<7-T?f:h}return{srcPos:t,destPos:_}}const zA=16,$A=100,hN=15,UA=10,gi=16,Em=new DOMMatrix,Ri=new Float32Array(2),Bl=new Float32Array([1/0,1/0,-1/0,-1/0]);function fN(r,t){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){t.save(),this.__originalSave()},r.restore=function(){t.restore(),this.__originalRestore()},r.translate=function(e,i){t.translate(e,i),this.__originalTranslate(e,i)},r.scale=function(e,i){t.scale(e,i),this.__originalScale(e,i)},r.transform=function(e,i,a,o,c,u){t.transform(e,i,a,o,c,u),this.__originalTransform(e,i,a,o,c,u)},r.setTransform=function(e,i,a,o,c,u){t.setTransform(e,i,a,o,c,u),this.__originalSetTransform(e,i,a,o,c,u)},r.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},r.rotate=function(e){t.rotate(e),this.__originalRotate(e)},r.clip=function(e){t.clip(e),this.__originalClip(e)},r.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},r.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},r.bezierCurveTo=function(e,i,a,o,c,u){t.bezierCurveTo(e,i,a,o,c,u),this.__originalBezierCurveTo(e,i,a,o,c,u)},r.rect=function(e,i,a,o){t.rect(e,i,a,o),this.__originalRect(e,i,a,o)},r.closePath=function(){t.closePath(),this.__originalClosePath()},r.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class pN{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let a;return this.cache[t]!==void 0?(a=this.cache[t],this.canvasFactory.reset(a,e,i)):(a=this.canvasFactory.create(e,i),this.cache[t]=a),a}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Ef(r,t,e,i,a,o,c,u,h,f){const[p,m,v,_,S,E]=He(r);if(m===0&&v===0){const N=c*p+S,L=Math.round(N),P=u*_+E,M=Math.round(P),I=(c+h)*p+S,F=Math.abs(Math.round(I)-L)||1,q=(u+f)*_+E,Z=Math.abs(Math.round(q)-M)||1;return r.setTransform(Math.sign(p),0,0,Math.sign(_),L,M),r.drawImage(t,e,i,a,o,0,0,F,Z),r.setTransform(p,m,v,_,S,E),[F,Z]}if(p===0&&_===0){const N=u*v+S,L=Math.round(N),P=c*m+E,M=Math.round(P),I=(u+f)*v+S,F=Math.abs(Math.round(I)-L)||1,q=(c+h)*m+E,Z=Math.abs(Math.round(q)-M)||1;return r.setTransform(0,Math.sign(m),Math.sign(v),0,L,M),r.drawImage(t,e,i,a,o,0,0,Z,F),r.setTransform(p,m,v,_,S,E),[Z,F]}r.drawImage(t,e,i,a,o,c,u,h,f);const T=Math.hypot(p,m),C=Math.hypot(v,_);return[T*h,C*f]}class GA{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Qm;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Bn.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e){this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Bl.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Sn.FILL,e=null){const i=this.minMax.slice();if(t===Sn.STROKE){e||Te("Stroke bounding box must include transform."),Nt.singularValueDecompose2dScale(e,Ri);const a=Ri[0]*this.lineWidth/2,o=Ri[1]*this.lineWidth/2;i[0]-=a,i[1]-=o,i[2]+=a,i[3]+=o}return i}updateClipFromPath(){const t=Nt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Bl,0)}getClippedPathBoundingBox(t=Sn.FILL,e=null){return Nt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function VA(r,t){if(t instanceof ImageData){r.putImageData(t,0,0);return}const e=t.height,i=t.width,a=e%gi,o=(e-a)/gi,c=a===0?o:o+1,u=r.createImageData(i,gi);let h=0,f;const p=t.data,m=u.data;let v,_,S,E;if(t.kind===Yu.GRAYSCALE_1BPP){const T=p.byteLength,C=new Uint32Array(m.buffer,0,m.byteLength>>2),N=C.length,L=i+7>>3,P=4294967295,M=pn.isLittleEndian?4278190080:255;for(v=0;v<c;v++){for(S=v<o?gi:a,f=0,_=0;_<S;_++){const I=T-h;let F=0;const q=I>L?i:I*8-7,Z=q&-8;let nt=0,tt=0;for(;F<Z;F+=8)tt=p[h++],C[f++]=tt&128?P:M,C[f++]=tt&64?P:M,C[f++]=tt&32?P:M,C[f++]=tt&16?P:M,C[f++]=tt&8?P:M,C[f++]=tt&4?P:M,C[f++]=tt&2?P:M,C[f++]=tt&1?P:M;for(;F<q;F++)nt===0&&(tt=p[h++],nt=128),C[f++]=tt&nt?P:M,nt>>=1}for(;f<N;)C[f++]=0;r.putImageData(u,0,v*gi)}}else if(t.kind===Yu.RGBA_32BPP){for(_=0,E=i*gi*4,v=0;v<o;v++)m.set(p.subarray(h,h+E)),h+=E,r.putImageData(u,0,_),_+=gi;v<c&&(E=i*a*4,m.set(p.subarray(h,h+E)),r.putImageData(u,0,_))}else if(t.kind===Yu.RGB_24BPP)for(S=gi,E=i*S,v=0;v<c;v++){for(v>=o&&(S=a,E=i*S),f=0,_=E;_--;)m[f++]=p[h++],m[f++]=p[h++],m[f++]=p[h++],m[f++]=255;r.putImageData(u,0,v*gi)}else throw new Error(`bad image kind: ${t.kind}`)}function qA(r,t){if(t.bitmap){r.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,a=e%gi,o=(e-a)/gi,c=a===0?o:o+1,u=r.createImageData(i,gi);let h=0;const f=t.data,p=u.data;for(let m=0;m<c;m++){const v=m<o?gi:a;({srcPos:h}=dN({src:f,srcPos:h,dest:p,width:i,height:v,nonBlackColor:0})),r.putImageData(u,0,m*gi)}}function Iu(r,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)r[i]!==void 0&&(t[i]=r[i]);r.setLineDash!==void 0&&(t.setLineDash(r.getLineDash()),t.lineDashOffset=r.lineDashOffset)}function Sf(r){r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0);const{filter:t}=r;t!=="none"&&t!==""&&(r.filter="none")}function YA(r,t){if(t)return!0;Nt.singularValueDecompose2dScale(r,Ri);const e=Math.fround(Es.pixelRatio*Ro.PDF_TO_CSS_UNITS);return Ri[0]<=e&&Ri[1]<=e}const gN=["butt","round","square"],mN=["miter","round","bevel"],bN={},WA={};class Hl{constructor(t,e,i,a,o,{optionalContentConfig:c,markedContentStack:u=null},h,f){this.ctx=t,this.current=new GA(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=a,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=c,this.cachedCanvases=new pN(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:a=null}){const o=this.ctx.canvas.width,c=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,o,c),this.ctx.fillStyle=u,i){const h=this.cachedCanvases.getCanvas("transparent",o,c);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...He(this.compositeCtx))}this.ctx.save(),Sf(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=He(this.ctx)}executeOperatorList(t,e,i,a){const o=t.argsArray,c=t.fnArray;let u=e||0;const h=o.length;if(h===u)return u;const f=h-u>UA&&typeof i=="function",p=f?Date.now()+hN:0;let m=0;const v=this.commonObjs,_=this.objs;let S;for(;;){if(a!==void 0&&u===a.nextBreakPoint)return a.breakIt(u,i),u;if(S=c[u],S!==Zu.dependency)this[S].apply(this,o[u]);else for(const E of o[u]){const T=E.startsWith("g_")?v:_;if(!T.has(E))return T.get(E,i),u}if(u++,u===h)return u;if(f&&++m>UA){if(Date.now()>p)return i(),u;m=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const i=t.width??t.displayWidth,a=t.height??t.displayHeight;let o=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),u=i,h=a,f="prescale1",p,m;for(;o>2&&u>1||c>2&&h>1;){let v=u,_=h;o>2&&u>1&&(v=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),o/=u/v),c>2&&h>1&&(_=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,c/=h/_),p=this.cachedCanvases.getCanvas(f,v,_),m=p.context,m.clearRect(0,0,v,_),m.drawImage(t,0,0,u,h,0,0,v,_),t=p.canvas,u=v,h=_,f=f==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:h}}_createMaskCanvas(t){const e=this.ctx,{width:i,height:a}=t,o=this.current.fillColor,c=this.current.patternFill,u=He(e);let h,f,p,m;if((t.bitmap||t.data)&&t.count>1){const Z=t.bitmap||t.data.buffer;f=JSON.stringify(c?u:[u.slice(0,4),o]),h=this._cachedBitmapsMap.get(Z),h||(h=new Map,this._cachedBitmapsMap.set(Z,h));const nt=h.get(f);if(nt&&!c){const tt=Math.round(Math.min(u[0],u[2])+u[4]),ht=Math.round(Math.min(u[1],u[3])+u[5]);return{canvas:nt,offsetX:tt,offsetY:ht}}p=nt}p||(m=this.cachedCanvases.getCanvas("maskCanvas",i,a),qA(m.context,t));let v=Nt.transform(u,[1/i,0,0,-1/a,0,0]);v=Nt.transform(v,[1,0,0,1,0,-a]);const _=Bl.slice();Nt.axialAlignedBoundingBox([0,0,i,a],v,_);const[S,E,T,C]=_,N=Math.round(T-S)||1,L=Math.round(C-E)||1,P=this.cachedCanvases.getCanvas("fillCanvas",N,L),M=P.context,I=S,F=E;M.translate(-I,-F),M.transform(...v),p||(p=this._scaleImage(m.canvas,qs(M)),p=p.img,h&&c&&h.set(f,p)),M.imageSmoothingEnabled=YA(He(M),t.interpolate),Ef(M,p,0,0,p.width,p.height,0,0,i,a),M.globalCompositeOperation="source-in";const q=Nt.transform(qs(M),[1,0,0,1,-I,-F]);return M.fillStyle=c?o.getPattern(e,this,q,Sn.FILL):o,M.fillRect(0,0,i,a),h&&!c&&(this.cachedCanvases.delete("fillCanvas"),h.set(f,P.canvas)),{canvas:P.canvas,offsetX:Math.round(I),offsetY:Math.round(F)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=gN[t]}setLineJoin(t){this.ctx.lineJoin=mN[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,i]of t)switch(e){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(i,t,e);this.suspendedCtx=this.ctx;const o=this.ctx=a.context;o.setTransform(this.suspendedCtx.getTransform()),Iu(this.suspendedCtx,o),fN(o,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Iu(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,a){const o=a[0],c=a[1],u=a[2]-o,h=a[3]-c;u===0||h===0||(this.genericComposeSMask(e.context,i,u,h,e.subtype,e.backdrop,e.transferMap,o,c,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,a,o,c,u,h,f,p,m){let v=t.canvas,_=h-p,S=f-m;if(c)if(_<0||S<0||_+i>v.width||S+a>v.height){const T=this.cachedCanvases.getCanvas("maskExtension",i,a),C=T.context;C.drawImage(v,-_,-S),C.globalCompositeOperation="destination-atop",C.fillStyle=c,C.fillRect(0,0,i,a),C.globalCompositeOperation="source-over",v=T.canvas,_=S=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const T=new Path2D;T.rect(_,S,i,a),t.clip(T),t.globalCompositeOperation="destination-atop",t.fillStyle=c,t.fillRect(_,S,i,a),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&u?e.filter=this.filterFactory.addAlphaFilter(u):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(u));const E=new Path2D;E.rect(h,f,i,a),e.clip(E),e.globalCompositeOperation="destination-in",e.drawImage(v,_,S,i,a,h,f,i,a),e.restore()}save(){this.inSMaskMode&&Iu(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Iu(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,i,a,o,c){this.ctx.transform(t,e,i,a,o,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i){let[a]=e;if(!i){a||=e[0]=new Path2D,this[t](a);return}if(!(a instanceof Path2D)){const o=e[0]=new Path2D;for(let c=0,u=a.length;c<u;)switch(a[c++]){case yf.moveTo:o.moveTo(a[c++],a[c++]);break;case yf.lineTo:o.lineTo(a[c++],a[c++]);break;case yf.curveTo:o.bezierCurveTo(a[c++],a[c++],a[c++],a[c++],a[c++],a[c++]);break;case yf.closePath:o.closePath();break;default:Yt(`Unrecognized drawing path operator: ${a[c-1]}`);break}a=o}Nt.axialAlignedBoundingBox(i,He(this.ctx),this.current.minMax),this[t](a)}closePath(){this.ctx.closePath()}stroke(t,e=!0){const i=this.ctx,a=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&a?.getPattern){const o=a.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=a.getPattern(i,this,qs(i),Sn.STROKE),o){const c=new Path2D;c.addPath(t,i.getTransform().invertSelf().multiplySelf(o)),t=c}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);e&&this.consumePath(t,this.current.getClippedPathBoundingBox(Sn.STROKE,He(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,e=!0){const i=this.ctx,a=this.current.fillColor,o=this.current.patternFill;let c=!1;if(o){const h=a.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.fillStyle=a.getPattern(i,this,qs(i),Sn.FILL),h){const f=new Path2D;f.addPath(t,i.getTransform().invertSelf().multiplySelf(h)),t=f}c=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),c&&i.restore(),e&&this.consumePath(t,u)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=bN}eoClip(){this.pendingClip=WA}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0)return;const i=new Path2D,a=e.getTransform().invertSelf();for(const{transform:o,x:c,y:u,fontSize:h,path:f}of t)i.addPath(f,new DOMMatrix(o).preMultiplySelf(a).translate(c,u).scale(h,-h));e.clip(i),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){const i=this.commonObjs.get(t),a=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(a.fontMatrix=i.fontMatrix||Qm,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&Yt("Invalid font matrix for font "+t),e<0?(e=-e,a.fontDirection=-1):a.fontDirection=1,this.current.font=i,this.current.fontSize=e,i.isType3Font)return;const o=i.loadedName||"sans-serif",c=i.systemFontInfo?.css||`"${o}", ${i.fallbackName}`;let u="normal";i.black?u="900":i.bold&&(u="bold");const h=i.italic?"italic":"normal";let f=e;e<zA?f=zA:e>$A&&(f=$A),this.current.fontSizeScale=e/f,this.ctx.font=`${h} ${u} ${f}px ${c}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t){const{current:e}=this;e.textMatrix=t,e.textMatrixScale=Math.hypot(t[0],t[1]),e.x=e.lineX=0,e.y=e.lineY=0}nextLine(){this.moveText(0,this.current.leading)}#n(t,e,i){const a=new Path2D;return a.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(e)),a}paintChar(t,e,i,a,o){const c=this.ctx,u=this.current,h=u.font,f=u.textRenderingMode,p=u.fontSize/u.fontSizeScale,m=f&Bn.FILL_STROKE_MASK,v=!!(f&Bn.ADD_TO_PATH_FLAG),_=u.patternFill&&!h.missingFile,S=u.patternStroke&&!h.missingFile;let E;if((h.disableFontFace||v||_||S)&&(E=h.getPathGenerator(this.commonObjs,t)),h.disableFontFace||_||S){c.save(),c.translate(e,i),c.scale(p,-p);let T;if((m===Bn.FILL||m===Bn.FILL_STROKE)&&(a?(T=c.getTransform(),c.setTransform(...a),c.fill(this.#n(E,T,a))):c.fill(E)),m===Bn.STROKE||m===Bn.FILL_STROKE)if(o){T||=c.getTransform(),c.setTransform(...o);const{a:C,b:N,c:L,d:P}=T,M=Nt.inverseTransform(o),I=Nt.transform([C,N,L,P,0,0],M);Nt.singularValueDecompose2dScale(I,Ri),c.lineWidth*=Math.max(Ri[0],Ri[1])/p,c.stroke(this.#n(E,T,o))}else c.lineWidth/=p,c.stroke(E);c.restore()}else(m===Bn.FILL||m===Bn.FILL_STROKE)&&c.fillText(t,e,i),(m===Bn.STROKE||m===Bn.FILL_STROKE)&&c.strokeText(t,e,i);v&&(this.pendingTextPaths||=[]).push({transform:He(c),x:e,y:i,fontSize:p,path:E})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let a=3;a<e.length;a+=4)if(e[a]>0&&e[a]<255){i=!0;break}return ie(this,"isFontSubpixelAAEnabled",i)}showText(t){const e=this.current,i=e.font;if(i.isType3Font)return this.showType3Text(t);const a=e.fontSize;if(a===0)return;const o=this.ctx,c=e.fontSizeScale,u=e.charSpacing,h=e.wordSpacing,f=e.fontDirection,p=e.textHScale*f,m=t.length,v=i.vertical,_=v?1:-1,S=i.defaultVMetrics,E=a*e.fontMatrix[0],T=e.textRenderingMode===Bn.FILL&&!i.disableFontFace&&!e.patternFill;o.save(),e.textMatrix&&o.transform(...e.textMatrix),o.translate(e.x,e.y+e.textRise),f>0?o.scale(p,-1):o.scale(p,1);let C,N;if(e.patternFill){o.save();const F=e.fillColor.getPattern(o,this,qs(o),Sn.FILL);C=He(o),o.restore(),o.fillStyle=F}if(e.patternStroke){o.save();const F=e.strokeColor.getPattern(o,this,qs(o),Sn.STROKE);N=He(o),o.restore(),o.strokeStyle=F}let L=e.lineWidth;const P=e.textMatrixScale;if(P===0||L===0){const F=e.textRenderingMode&Bn.FILL_STROKE_MASK;(F===Bn.STROKE||F===Bn.FILL_STROKE)&&(L=this.getSinglePixelWidth())}else L/=P;if(c!==1&&(o.scale(c,c),L/=c),o.lineWidth=L,i.isInvalidPDFjsFont){const F=[];let q=0;for(const Z of t)F.push(Z.unicode),q+=Z.width;o.fillText(F.join(""),0,0),e.x+=q*E*p,o.restore(),this.compose();return}let M=0,I;for(I=0;I<m;++I){const F=t[I];if(typeof F=="number"){M+=_*F*a/1e3;continue}let q=!1;const Z=(F.isSpace?h:0)+u,nt=F.fontChar,tt=F.accent;let ht,vt,Et=F.width;if(v){const B=F.vmetric||S,G=-(F.vmetric?B[1]:Et*.5)*E,pt=B[2]*E;Et=B?-B[0]:Et,ht=G/c,vt=(M+pt)/c}else ht=M/c,vt=0;if(i.remeasure&&Et>0){const B=o.measureText(nt).width*1e3/a*c;if(Et<B&&this.isFontSubpixelAAEnabled){const G=Et/B;q=!0,o.save(),o.scale(G,1),ht/=G}else Et!==B&&(ht+=(Et-B)/2e3*a/c)}if(this.contentVisible&&(F.isInFont||i.missingFile)){if(T&&!tt)o.fillText(nt,ht,vt);else if(this.paintChar(nt,ht,vt,C,N),tt){const B=ht+a*tt.offset.x/c,G=vt-a*tt.offset.y/c;this.paintChar(tt.fontChar,B,G,C,N)}}const bt=v?Et*E-Z*f:Et*E+Z*f;M+=bt,q&&o.restore()}v?e.y-=M:e.x+=M*p,o.restore(),this.compose()}showType3Text(t){const e=this.ctx,i=this.current,a=i.font,o=i.fontSize,c=i.fontDirection,u=a.vertical?1:-1,h=i.charSpacing,f=i.wordSpacing,p=i.textHScale*c,m=i.fontMatrix||Qm,v=t.length,_=i.textRenderingMode===Bn.INVISIBLE;let S,E,T,C;if(!(_||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),i.textMatrix&&e.transform(...i.textMatrix),e.translate(i.x,i.y+i.textRise),e.scale(p,c),S=0;S<v;++S){if(E=t[S],typeof E=="number"){C=u*E*o/1e3,this.ctx.translate(C,0),i.x+=C*p;continue}const N=(E.isSpace?f:0)+h,L=a.charProcOperatorList[E.operatorListId];L?this.contentVisible&&(this.save(),e.scale(o,o),e.transform(...m),this.executeOperatorList(L),this.restore()):Yt(`Type3 character "${E.operatorListId}" is not available.`);const P=[E.width,0];Nt.applyTransform(P,m),T=P[0]*o+N,e.translate(T,0),i.x+=T*p}e.restore()}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,i,a,o,c){const u=new Path2D;u.rect(i,a,o-i,c-a),this.ctx.clip(u),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const i=this.baseTransform||He(this.ctx),a={createCanvasGraphics:o=>new Hl(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Vb(t,this.ctx,a,i)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t){this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t){this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=uN(this.getObject(t)),this.cachedPatterns.set(t,i)),e&&(i.matrix=e),i}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const i=this._getPattern(t);e.fillStyle=i.getPattern(e,this,qs(e),Sn.SHADING);const a=qs(e);if(a){const{width:o,height:c}=e.canvas,u=Bl.slice();Nt.axialAlignedBoundingBox([0,0,o,c],a,u);const[h,f,p,m]=u;this.ctx.fillRect(h,f,p-h,m-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Te("Should not call beginInlineImage")}beginImageData(){Te("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=He(this.ctx),e)){Nt.axialAlignedBoundingBox(e,this.baseTransform,this.current.minMax);const[i,a,o,c]=e,u=new Path2D;u.rect(i,a,o-i,c-a),this.ctx.clip(u),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||lp("TODO: Support non-isolated groups."),t.knockout&&Yt("Knockout groups not supported.");const i=He(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let a=Bl.slice();Nt.axialAlignedBoundingBox(t.bbox,He(e),a);const o=[0,0,e.canvas.width,e.canvas.height];a=Nt.intersect(a,o)||[0,0,0,0];const c=Math.floor(a[0]),u=Math.floor(a[1]),h=Math.max(Math.ceil(a[2])-c,1),f=Math.max(Math.ceil(a[3])-u,1);this.current.startNewPathAndClipBox([0,0,h,f]);let p="groupAt"+this.groupLevel;t.smask&&(p+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(p,h,f),v=m.context;v.translate(-c,-u),v.transform(...i);let _=new Path2D;const[S,E,T,C]=t.bbox;if(_.rect(S,E,T-S,C-E),t.matrix){const N=new Path2D;N.addPath(_,new DOMMatrix(t.matrix)),_=N}v.clip(_),t.smask?this.smaskStack.push({canvas:m.canvas,context:v,offsetX:c,offsetY:u,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(c,u),e.save()),Iu(e,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const a=He(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...a);const o=Bl.slice();Nt.axialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],a,o),this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(t,e,i,a,o){if(this.#t(),Sf(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const c=e[2]-e[0],u=e[3]-e[1];if(o&&this.annotationCanvasMap){i=i.slice(),i[4]-=e[0],i[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=c,e[3]=u,Nt.singularValueDecompose2dScale(He(this.ctx),Ri);const{viewportScale:h}=this,f=Math.ceil(c*this.outputScaleX*h),p=Math.ceil(u*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(f,p);const{canvas:m,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(t,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(Ri[0],0,0,-Ri[1],0,u*Ri[1]),Sf(this.ctx)}else{Sf(this.ctx),this.endPath();const h=new Path2D;h.rect(e[0],e[1],c,u),this.ctx.clip(h)}}this.current=new GA(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...a)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const i=this.ctx,a=this._createMaskCanvas(t),o=a.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,a.offsetX,a.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i=0,a=0,o,c){if(!this.contentVisible)return;t=this.getObject(t.data,t);const u=this.ctx;u.save();const h=He(u);u.transform(e,i,a,o,0,0);const f=this._createMaskCanvas(t);u.setTransform(1,0,0,1,f.offsetX-h[4],f.offsetY-h[5]);for(let p=0,m=c.length;p<m;p+=2){const v=Nt.transform(h,[e,i,a,o,c[p],c[p+1]]);u.drawImage(f.canvas,v[4],v[5])}u.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,i=this.current.fillColor,a=this.current.patternFill;for(const o of t){const{data:c,width:u,height:h,transform:f}=o,p=this.cachedCanvases.getCanvas("maskCanvas",u,h),m=p.context;m.save();const v=this.getObject(c,o);qA(m,v),m.globalCompositeOperation="source-in",m.fillStyle=a?i.getPattern(m,this,qs(e),Sn.FILL):i,m.fillRect(0,0,u,h),m.restore(),e.save(),e.transform(...f),e.scale(1,-1),Ef(e,p.canvas,0,0,u,h,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){Yt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,i,a){if(!this.contentVisible)return;const o=this.getObject(t);if(!o){Yt("Dependent image isn't ready yet");return}const c=o.width,u=o.height,h=[];for(let f=0,p=a.length;f<p;f+=2)h.push({transform:[e,0,0,i,a[f],a[f+1]],x:0,y:0,w:c,h:u});this.paintInlineImageXObjectGroup(o,h)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:a}=t,o=this.cachedCanvases.getCanvas("inlineImage",i,a),c=o.context;return c.filter=this.current.transferMaps,c.drawImage(e,0,0),c.filter="none",o.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,i=t.height,a=this.ctx;this.save();const{filter:o}=a;o!=="none"&&o!==""&&(a.filter="none"),a.scale(1/e,-1/i);let c;if(t.bitmap)c=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)c=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",e,i).context;VA(f,t),c=this.applyTransferMapsToCanvas(f)}const u=this._scaleImage(c,qs(a));a.imageSmoothingEnabled=YA(He(a),t.interpolate),Ef(a,u.img,0,0,u.paintWidth,u.paintHeight,0,-i,e,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx;let a;if(t.bitmap)a=t.bitmap;else{const o=t.width,c=t.height,h=this.cachedCanvases.getCanvas("inlineImage",o,c).context;VA(h,t),a=this.applyTransferMapsToCanvas(h)}for(const o of e)i.save(),i.transform(...o.transform),i.scale(1,-1),Ef(i,a,o.x,o.y,o.w,o.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,e){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const a=this.ctx;this.pendingClip&&(i||(this.pendingClip===WA?a.clip(t,"evenodd"):a.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=He(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),a=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,a)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:a,d:o}=this.ctx.getTransform();let c,u;if(i===0&&a===0){const h=Math.abs(e),f=Math.abs(o);if(h===f)if(t===0)c=u=1/h;else{const p=h*t;c=u=p<1?1/p:1}else if(t===0)c=1/h,u=1/f;else{const p=h*t,m=f*t;c=p<1?1/p:1,u=m<1?1/m:1}}else{const h=Math.abs(e*o-i*a),f=Math.hypot(e,i),p=Math.hypot(a,o);if(t===0)c=p/h,u=f/h;else{const m=t*h;c=p>m?p/m:1,u=f>m?f/m:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:i,current:{lineWidth:a}}=this,[o,c]=this.getScaleForStroking();if(o===c){i.lineWidth=(a||1)*o,i.stroke(t);return}const u=i.getLineDash();e&&i.save(),i.scale(o,c),Em.a=1/o,Em.d=1/c;const h=new Path2D;if(h.addPath(t,Em),u.length>0){const f=Math.max(o,c);i.setLineDash(u.map(p=>p/f)),i.lineDashOffset/=f}i.lineWidth=a||1,i.stroke(h),e&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const r in Zu)Hl.prototype[r]!==void 0&&(Hl.prototype[Zu[r]]=Hl.prototype[r]);class La{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class vN{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const Il=Symbol("INTERNAL");class yN{#t=!1;#e=!1;#n=!1;#i=!0;constructor(t,{name:e,intent:i,usage:a,rbGroups:o}){this.#t=!!(t&Di.DISPLAY),this.#e=!!(t&Di.PRINT),this.name=e,this.intent=i,this.usage=a,this.rbGroups=o}get visible(){if(this.#n)return this.#i;if(!this.#i)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,i=!1){t!==Il&&Te("Internal method `_setVisible` called."),this.#n=i,this.#i=e}}class _N{#t=null;#e=new Map;#n=null;#i=null;constructor(t,e=Di.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#i=t.order;for(const i of t.groups)this.#e.set(i.id,new yN(e,i));if(t.baseState==="OFF")for(const i of this.#e.values())i._setVisible(Il,!1);for(const i of t.on)this.#e.get(i)._setVisible(Il,!0);for(const i of t.off)this.#e.get(i)._setVisible(Il,!1);this.#n=this.getHash()}}#r(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let a=1;a<e;a++){const o=t[a];let c;if(Array.isArray(o))c=this.#r(o);else if(this.#e.has(o))c=this.#e.get(o).visible;else return Yt(`Optional content group not found: ${o}`),!0;switch(i){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return i==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return lp("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(Yt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#r(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return Yt(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return Yt(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return Yt(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return Yt(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return Yt(`Unknown optional content policy ${t.policy}.`),!0}return Yt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){const a=this.#e.get(t);if(!a){Yt(`Optional content group not found: ${t}`);return}if(i&&e&&a.rbGroups.length)for(const o of a.rbGroups)for(const c of o)c!==t&&this.#e.get(c)?._setVisible(Il,!1,!0);a._setVisible(Il,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let i;for(const a of t){switch(a){case"ON":case"OFF":case"Toggle":i=a;continue}const o=this.#e.get(a);if(o)switch(i){case"ON":this.setVisibility(a,!0,e);break;case"OFF":this.setVisibility(a,!1,e);break;case"Toggle":this.setVisibility(a,!o.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#e.size?this.#i?this.#i.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new cS;for(const[e,i]of this.#e)t.update(`${e}:${i.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class AN{constructor(t,{disableRange:e=!1,disableStream:i=!1}){tn(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:o,progressiveDone:c,contentDispositionFilename:u}=t;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=u,o?.length>0){const h=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((h,f)=>{this._onReceiveData({begin:h,chunk:f})}),t.addProgressListener((h,f)=>{this._onProgress({loaded:h,total:f})}),t.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const a=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(i),!0)});tn(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){tn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new EN(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new SN(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class EN{constructor(t,e,i=!1,a=null){this._stream=t,this._done=i||!1,this._filename=up(a)?a:null,this._queuedChunks=e||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class SN{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function wN(r){let t=!0,e=i("filename\\*","i").exec(r);if(e){e=e[1];let p=u(e);return p=unescape(p),p=h(p),p=f(p),o(p)}if(e=c(r),e){const p=f(e);return o(p)}if(e=i("filename","i").exec(r),e){e=e[1];let p=u(e);return p=f(p),o(p)}function i(p,m){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function a(p,m){if(p){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const v=new TextDecoder(p,{fatal:!0}),_=md(m);m=v.decode(_),t=!1}catch{}}return m}function o(p){return t&&/[\x80-\xff]/.test(p)&&(p=a("utf-8",p),t&&(p=a("iso-8859-1",p))),p}function c(p){const m=[];let v;const _=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=_.exec(p))!==null;){let[,E,T,C]=v;if(E=parseInt(E,10),E in m){if(E===0)break;continue}m[E]=[T,C]}const S=[];for(let E=0;E<m.length&&E in m;++E){let[T,C]=m[E];C=u(C),T&&(C=unescape(C),E===0&&(C=h(C))),S.push(C)}return S.join("")}function u(p){if(p.startsWith('"')){const m=p.slice(1).split('\\"');for(let v=0;v<m.length;++v){const _=m[v].indexOf('"');_!==-1&&(m[v]=m[v].slice(0,_),m.length=v+1),m[v]=m[v].replaceAll(/\\(.)/g,"$1")}p=m.join('"')}return p}function h(p){const m=p.indexOf("'");if(m===-1)return p;const v=p.slice(0,m),S=p.slice(m+1).replace(/^[^']*'/,"");return a(v,S)}function f(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,v,_,S){if(_==="q"||_==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(E,T){return String.fromCharCode(parseInt(T,16))}),a(v,S);try{S=atob(S)}catch{}return a(v,S)})}return""}function bS(r,t){const e=new Headers;if(!r||!t||typeof t!="object")return e;for(const i in t){const a=t[i];a!==void 0&&e.append(i,a)}return e}function dp(r){return URL.parse(r)?.origin??null}function vS({responseHeaders:r,isHttp:t,rangeChunkSize:e,disableRange:i}){const a={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(r.get("Content-Length"),10);return!Number.isInteger(o)||(a.suggestedLength=o,o<=2*e)||i||!t||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function yS(r){const t=r.get("Content-Disposition");if(t){let e=wN(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(up(e))return e}return null}function Ad(r,t){return new Ju(`Unexpected server response (${r}) while retrieving PDF "${t}".`,r,r===404||r===0&&t.startsWith("file:"))}function _S(r){return r===200||r===206}function AS(r,t,e){return{method:"GET",headers:r,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function ES(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(Yt(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class TN{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=bS(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return tn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new xN(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new CN(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class xN{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),a=e.url;fetch(a,AS(i,this._withCredentials,this._abortController)).then(o=>{if(t._responseOrigin=dp(o.url),!_S(o.status))throw Ad(o.status,a);this._reader=o.body.getReader(),this._headersCapability.resolve();const c=o.headers,{allowRangeRequests:u,suggestedLength:h}=vS({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=h||this._contentLength,this._filename=yS(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new zr("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:ES(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class CN{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const a=t.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${e}-${i-1}`);const c=a.url;fetch(c,AS(o,this._withCredentials,this._abortController)).then(u=>{const h=dp(u.url);if(h!==t._responseOrigin)throw new Error(`Expected range response-origin "${h}" to match "${t._responseOrigin}".`);if(!_S(u.status))throw Ad(u.status,c);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:ES(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const Sm=200,wm=206;function DN(r){const t=r.response;return typeof t!="string"?t:md(t).buffer}class ON{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:i}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=bS(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,a=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[o,c]of this.headers)e.setRequestHeader(o,c);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),a.expectedStatus=wm):a.expectedStatus=Sm,e.responseType="arraybuffer",tn(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),a.onHeadersReceived=t.onHeadersReceived,a.onDone=t.onDone,a.onError=t.onError,a.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){const i=this.pendingRequests[t];i&&i.onProgress?.(e)}onStateChange(t,e){const i=this.pendingRequests[t];if(!i)return;const a=i.xhr;if(a.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),a.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],a.status===0&&this.isHttp){i.onError(a.status);return}const o=a.status||Sm;if(!(o===Sm&&i.expectedStatus===wm)&&o!==i.expectedStatus){i.onError(a.status);return}const u=DN(a);if(o===wm){const h=a.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);f?i.onDone({begin:parseInt(f[1],10),chunk:u}):(Yt('Missing or invalid "Content-Range" header.'),i.onError(0))}else u?i.onDone({begin:0,chunk:u}):i.onError(a.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class RN{constructor(t){this._source=t,this._manager=new ON(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return tn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new NN(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new MN(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class NN{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=dp(e.responseURL);const i=e.getAllResponseHeaders(),a=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[h,...f]=u.split(": ");return[h,f.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:c}=vS({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=c||this._contentLength,this._filename=yS(a),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Ad(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class MN{constructor(t,e,i){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=dp(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=Ad(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const LN=/^[a-z][a-z0-9\-+.]+:/i;function PN(r){if(LN.test(r))return new URL(r);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(r))}class IN{constructor(t){this.source=t,this.url=PN(t.url),tn(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return tn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new kN(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new BN(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class kN{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=Ad(0,this._url.href)),this._storedError=a,this._headersCapability.reject(a)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new zr("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class BN{constructor(t,e,i){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const a=t.source;this._isStreamingSupported=!a.disableStream;const o=process.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:e,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const ku=Symbol("INITIAL_DATA");class SS{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:ku}}get(t,e=null){if(e){const a=this.#e(t);return a.promise.then(()=>e(a.data)),null}const i=this.#t[t];if(!i||i.data===ku)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=this.#t[t];return!!e&&e.data!==ku}delete(t){const e=this.#t[t];return!e||e.data===ku?!1:(delete this.#t[t],!0)}resolve(t,e=null){const i=this.#e(t);i.data=e,i.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==ku&&(yield[t,e])}}}const FN=1e5,XA=30;let td=class Ji{#t=Promise.withResolvers();#e=null;#n=!1;#i=!!globalThis.FontInspector?.enabled;#r=null;#s=null;#l=0;#o=0;#d=null;#c=null;#h=0;#u=0;#f=Object.create(null);#a=[];#p=null;#m=[];#g=new WeakMap;#b=null;static#v=new Map;static#y=new Map;static#A=new WeakMap;static#S=null;static#T=new Set;constructor({textContentSource:t,container:e,viewport:i}){if(t instanceof ReadableStream)this.#p=t;else if(typeof t=="object")this.#p=new ReadableStream({start(h){h.enqueue(t),h.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#c=e,this.#u=i.scale*Es.pixelRatio,this.#h=i.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:a,pageHeight:o,pageX:c,pageY:u}=i.rawDims;this.#b=[1,0,0,-1,-c,u+o],this.#o=a,this.#l=o,Ji.#N(),Ha(e,i),this.#t.promise.finally(()=>{Ji.#T.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=pn.platform;return ie(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#d.read().then(({value:e,done:i})=>{if(i){this.#t.resolve();return}this.#r??=e.lang,Object.assign(this.#f,e.styles),this.#C(e.items),t()},this.#t.reject)};return this.#d=this.#p.getReader(),Ji.#T.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const i=t.scale*Es.pixelRatio,a=t.rotation;if(a!==this.#h&&(e?.(),this.#h=a,Ha(this.#c,{rotation:a})),i!==this.#u){e?.(),this.#u=i;const o={div:null,properties:null,ctx:Ji.#D(this.#r)};for(const c of this.#m)o.properties=this.#g.get(c),o.div=c,this.#E(o)}}cancel(){const t=new zr("TextLayer task cancelled.");this.#d?.cancel(t).catch(()=>{}),this.#d=null,this.#t.reject(t)}get textDivs(){return this.#m}get textContentItemsStr(){return this.#a}#C(t){if(this.#n)return;this.#s.ctx??=Ji.#D(this.#r);const e=this.#m,i=this.#a;for(const a of t){if(e.length>FN){Yt("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),a.id!==null&&this.#e.setAttribute("id",`${a.id}`),o.append(this.#e)}else a.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}i.push(a.str),this.#O(a)}}#O(t){const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#m.push(e);const a=Nt.transform(this.#b,t.transform);let o=Math.atan2(a[1],a[0]);const c=this.#f[t.fontName];c.vertical&&(o+=Math.PI/2);let u=this.#i&&c.fontSubstitution||c.fontFamily;u=Ji.fontFamilyMap.get(u)||u;const h=Math.hypot(a[2],a[3]),f=h*Ji.#M(u,c,this.#r);let p,m;o===0?(p=a[4],m=a[5]-f):(p=a[4]+f*Math.sin(o),m=a[5]-f*Math.cos(o));const v="calc(var(--total-scale-factor) *",_=e.style;this.#e===this.#c?(_.left=`${(100*p/this.#o).toFixed(2)}%`,_.top=`${(100*m/this.#l).toFixed(2)}%`):(_.left=`${v}${p.toFixed(2)}px)`,_.top=`${v}${m.toFixed(2)}px)`),_.fontSize=`${v}${(Ji.#S*h).toFixed(2)}px)`,_.fontFamily=u,i.fontSize=h,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#i&&(e.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),o!==0&&(i.angle=o*(180/Math.PI));let S=!1;if(t.str.length>1)S=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const E=Math.abs(t.transform[0]),T=Math.abs(t.transform[3]);E!==T&&Math.max(E,T)/Math.min(E,T)>1.5&&(S=!0)}if(S&&(i.canvasWidth=c.vertical?t.height:t.width),this.#g.set(e,i),this.#s.div=e,this.#s.properties=i,this.#E(this.#s),i.hasText&&this.#e.append(e),i.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),this.#e.append(E)}}#E(t){const{div:e,properties:i,ctx:a}=t,{style:o}=e;let c="";if(Ji.#S>1&&(c=`scale(${1/Ji.#S})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:u}=o,{canvasWidth:h,fontSize:f}=i;Ji.#x(a,f*this.#u,u);const{width:p}=a.measureText(e.textContent);p>0&&(c=`scaleX(${h*this.#u/p}) ${c}`)}i.angle!==0&&(c=`rotate(${i.angle}deg) ${c}`),c.length>0&&(o.transform=c)}static cleanup(){if(!(this.#T.size>0)){this.#v.clear();for(const{canvas:t}of this.#y.values())t.remove();this.#y.clear()}}static#D(t=null){let e=this.#y.get(t||="");if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#y.set(t,e),this.#A.set(e,{size:0,family:""})}return e}static#x(t,e,i){const a=this.#A.get(t);e===a.size&&i===a.family||(t.font=`${e}px ${i}`,a.size=e,a.family=i)}static#N(){if(this.#S!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#S=t.getBoundingClientRect().height,t.remove()}static#M(t,e,i){const a=this.#v.get(t);if(a)return a;const o=this.#D(i);o.canvas.width=o.canvas.height=XA,this.#x(o,XA,t);const c=o.measureText(""),u=c.fontBoundingBoxAscent,h=Math.abs(c.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let f=.8;return u?f=u/(u+h):(pn.platform.isFirefox&&Yt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?f=e.ascent:e.descent&&(f=1+e.descent)),this.#v.set(t,f),f}};class ed{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function a(o){if(!o)return;let c=null;const u=o.name;if(u==="#text")c=o.value;else if(ed.shouldBuildText(u))o?.attributes?.textContent?c=o.attributes.textContent:o.value&&(c=o.value);else return;if(c!==null&&e.push({str:c}),!!o.children)for(const h of o.children)a(h)}return a(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const HN=100;function qb(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const t=new Yb,{docId:e}=t,i=r.url?XR(r.url):null,a=r.data?KR(r.data):null,o=r.httpHeaders||null,c=r.withCredentials===!0,u=r.password??null,h=r.range instanceof Wb?r.range:null,f=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:2**16;let p=r.worker instanceof Xl?r.worker:null;const m=r.verbosity,v=typeof r.docBaseUrl=="string"&&!vd(r.docBaseUrl)?r.docBaseUrl:null,_=_f(r.cMapUrl),S=r.cMapPacked!==!1,E=r.CMapReaderFactory||(Zn?iN:BA),T=_f(r.iccUrl),C=_f(r.standardFontDataUrl),N=r.StandardFontDataFactory||(Zn?sN:FA),L=_f(r.wasmUrl),P=r.WasmFactory||(Zn?rN:HA),M=r.stopAtErrors!==!0,I=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,F=r.isEvalSupported!==!1,q=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!Zn,Z=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!Zn&&(pn.platform.isFirefox||!globalThis.chrome),nt=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,tt=typeof r.disableFontFace=="boolean"?r.disableFontFace:Zn,ht=r.fontExtraProperties===!0,vt=r.enableXfa===!0,Et=r.ownerDocument||globalThis.document,bt=r.disableRange===!0,B=r.disableStream===!0,G=r.disableAutoFetch===!0,pt=r.pdfBug===!0,xt=r.CanvasFactory||(Zn?nN:JR),O=r.FilterFactory||(Zn?eN:tN),et=r.enableHWA===!0,ot=r.useWasm!==!1,K=h?h.length:r.length??NaN,ct=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!Zn&&!tt,mt=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:!!(E===BA&&N===FA&&P===HA&&_&&C&&L&&$u(_,document.baseURI)&&$u(C,document.baseURI)&&$u(L,document.baseURI)),dt=null;NR(m);const Ct={canvasFactory:new xt({ownerDocument:Et,enableHWA:et}),filterFactory:new O({docId:e,ownerDocument:Et}),cMapReaderFactory:mt?null:new E({baseUrl:_,isCompressed:S}),standardFontDataFactory:mt?null:new N({baseUrl:C}),wasmFactory:mt?null:new P({baseUrl:L})};p||(p=Xl.create({verbosity:m,port:La.workerPort}),t._worker=p);const lt={docId:e,apiVersion:"5.3.31",data:a,password:u,disableAutoFetch:G,rangeChunkSize:f,length:K,docBaseUrl:v,enableXfa:vt,evaluatorOptions:{maxImageSize:I,disableFontFace:tt,ignoreErrors:M,isEvalSupported:F,isOffscreenCanvasSupported:q,isImageDecoderSupported:Z,canvasMaxAreaInBytes:nt,fontExtraProperties:ht,useSystemFonts:ct,useWasm:ot,useWorkerFetch:mt,cMapUrl:_,iccUrl:T,standardFontDataUrl:C,wasmUrl:L}},Kt={ownerDocument:Et,pdfBug:pt,styleElement:dt,loadingParams:{disableAutoFetch:G,enableXfa:vt}};return p.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Wt=p.messageHandler.sendWithPromise("GetDocRequest",lt,a?[a.buffer]:null);let Re;if(h)Re=new AN(h,{disableRange:bt,disableStream:B});else if(!a){if(!i)throw new Error("getDocument - no `url` parameter provided.");const ae=$u(i)?TN:Zn?IN:RN;Re=new ae({url:i,length:K,httpHeaders:o,withCredentials:c,rangeChunkSize:f,disableRange:bt,disableStream:B})}return Wt.then(ae=>{if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Zt=new Uu(e,ae,p.port),Jt=new $N(Zt,t,Re,Kt,Ct);t._transport=Jt,Zt.send("Ready",null)})}).catch(t._capability.reject),t}class Yb{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${Yb.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let Wb=class{#t=Promise.withResolvers();#e=[];#n=[];#i=[];#r=[];constructor(t,e,i=!1,a=null){this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=a}addRangeListener(t){this.#r.push(t)}addProgressListener(t){this.#i.push(t)}addProgressiveReadListener(t){this.#n.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const i of this.#r)i(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const i of this.#i)i(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#n)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){Te("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class jN{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ie(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class zN{#t=!1;constructor(t,e,i,a=!1){this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=a?new PA:null,this._pdfBug=a,this.commonObjs=i.commonObjs,this.objs=new SS,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:a=0,dontFlip:o=!1}={}){return new bd({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:a,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ie(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,viewport:e,intent:i="display",annotationMode:a=Qs.ENABLE,transform:o=null,background:c=null,optionalContentConfigPromise:u=null,annotationCanvasMap:h=null,pageColors:f=null,printAnnotationStorage:p=null,isEditing:m=!1}){this._stats?.time("Overall");const v=this._transport.getRenderingIntent(i,a,p,m),{renderingIntent:_,cacheKey:S}=v;this.#t=!1,u||=this._transport.getOptionalContentConfig(_);let E=this._intentStates.get(S);E||(E=Object.create(null),this._intentStates.set(S,E)),E.streamReaderCancelTimeout&&(clearTimeout(E.streamReaderCancelTimeout),E.streamReaderCancelTimeout=null);const T=!!(_&Di.PRINT);E.displayReadyCapability||(E.displayReadyCapability=Promise.withResolvers(),E.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(v));const C=P=>{E.renderTasks.delete(N),T&&(this.#t=!0),this.#e(),P?(N.capability.reject(P),this._abortOperatorList({intentState:E,reason:P instanceof Error?P:new Error(P)})):N.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},N=new Fl({callback:C,params:{canvasContext:t,viewport:e,transform:o,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:E.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:f});(E.renderTasks||=new Set).add(N);const L=N.task;return Promise.all([E.displayReadyCapability.promise,u]).then(([P,M])=>{if(this.destroyed){C();return}if(this._stats?.time("Rendering"),!(M.renderingIntent&_))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");N.initializeGraphics({transparency:P,optionalContentConfig:M}),N.operatorListChanged()}).catch(C),L}getOperatorList({intent:t="display",annotationMode:e=Qs.ENABLE,printAnnotationStorage:i=null,isEditing:a=!1}={}){function o(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(h))}const c=this._transport.getRenderingIntent(t,e,i,a,!0);let u=this._intentStates.get(c.cacheKey);u||(u=Object.create(null),this._intentStates.set(c.cacheKey,u));let h;return u.opListReadCapability||(h=Object.create(null),h.operatorListChanged=o,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||=new Set).add(h),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(c)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>ed.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,a){function o(){c.read().then(function({value:h,done:f}){if(f){i(u);return}u.lang??=h.lang,Object.assign(u.styles,h.styles),u.items.push(...h.items),o()},a)}const c=e.getReader(),u={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new PA),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const i=this._intentStates.get(e);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let i=0,a=t.length;i<a;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:a}){const{map:o,transfer:c}=i,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:a},c).getReader(),f=this._intentStates.get(e);f.streamReader=h;const p=()=>{h.read().then(({value:m,done:v})=>{if(v){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,f),p())},m=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const v of f.renderTasks)v.operatorListChanged();this.#e()}if(f.displayReadyCapability)f.displayReadyCapability.reject(m);else if(f.opListReadCapability)f.opListReadCapability.reject(m);else throw m}})};p()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof cp){let a=HN;e.extraDelay>0&&e.extraDelay<1e3&&(a+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},a);return}}if(t.streamReader.cancel(new zr(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[a,o]of this._intentStates)if(o===t){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}var Ma,_s,Br,So,Qf,wo,To,Jn,Lf,wS,TS,Gu,$l,Pf;const Ie=class Ie{constructor({name:t=null,port:e=null,verbosity:i=MR()}={}){Gs(this,Jn);Gs(this,Ma,Promise.withResolvers());Gs(this,_s,null);Gs(this,Br,null);Gs(this,So,null);if(this.name=t,this.destroyed=!1,this.verbosity=i,e){if(Pe(Ie,To).has(e))throw new Error("Cannot use more than one PDFWorker per port.");Pe(Ie,To).set(e,this),Vs(this,Jn,wS).call(this,e)}else Vs(this,Jn,TS).call(this)}get promise(){return Pe(this,Ma).promise}get port(){return Pe(this,Br)}get messageHandler(){return Pe(this,_s)}destroy(){this.destroyed=!0,Pe(this,So)?.terminate(),fi(this,So,null),Pe(Ie,To).delete(Pe(this,Br)),fi(this,Br,null),Pe(this,_s)?.destroy(),fi(this,_s,null)}static create(t){const e=Pe(this,To).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Ie(t)}static get workerSrc(){if(La.workerSrc)return La.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ie(this,"_setupFakeWorkerGlobal",(async()=>Pe(this,$l,Pf)?Pe(this,$l,Pf):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ma=new WeakMap,_s=new WeakMap,Br=new WeakMap,So=new WeakMap,Qf=new WeakMap,wo=new WeakMap,To=new WeakMap,Jn=new WeakSet,Lf=function(){Pe(this,Ma).resolve(),Pe(this,_s).send("configure",{verbosity:this.verbosity})},wS=function(t){fi(this,Br,t),fi(this,_s,new Uu("main","worker",t)),Pe(this,_s).on("ready",()=>{}),Vs(this,Jn,Lf).call(this)},TS=function(){if(Pe(Ie,wo)||Pe(Ie,$l,Pf)){Vs(this,Jn,Gu).call(this);return}let{workerSrc:t}=Ie;try{Ie._isSameOrigin(window.location,t)||(t=Ie._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new Uu("main","worker",e),a=()=>{o.abort(),i.destroy(),e.terminate(),this.destroyed?Pe(this,Ma).reject(new Error("Worker was destroyed")):Vs(this,Jn,Gu).call(this)},o=new AbortController;e.addEventListener("error",()=>{Pe(this,So)||a()},{signal:o.signal}),i.on("test",u=>{if(o.abort(),this.destroyed||!u){a();return}fi(this,_s,i),fi(this,Br,e),fi(this,So,e),Vs(this,Jn,Lf).call(this)}),i.on("ready",u=>{if(o.abort(),this.destroyed){a();return}try{c()}catch{Vs(this,Jn,Gu).call(this)}});const c=()=>{const u=new Uint8Array;i.send("test",u,[u.buffer])};c();return}catch{lp("The worker has been disabled.")}Vs(this,Jn,Gu).call(this)},Gu=function(){Pe(Ie,wo)||(Yt("Setting up fake worker."),fi(Ie,wo,!0)),Ie._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){Pe(this,Ma).reject(new Error("Worker was destroyed"));return}const e=new ZR;fi(this,Br,e);const i=`fake${F_(Ie,Qf)._++}`,a=new Uu(i+"_worker",i,e);t.setup(a,e),fi(this,_s,new Uu(i,i+"_worker",e)),Vs(this,Jn,Lf).call(this)}).catch(t=>{Pe(this,Ma).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},$l=new WeakSet,Pf=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Gs(Ie,$l),Gs(Ie,Qf,0),Gs(Ie,wo,!1),Gs(Ie,To,new WeakMap),Zn&&(fi(Ie,wo,!0),La.workerSrc||="./pdf.worker.mjs"),Ie._isSameOrigin=(t,e)=>{const i=URL.parse(t);if(!i?.origin||i.origin==="null")return!1;const a=new URL(e,i);return i.origin===a.origin},Ie._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Ie.fromPort=t=>{if(zR("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Ie.create(t)};let Xl=Ie;class $N{#t=new Map;#e=new Map;#n=new Map;#i=new Map;#r=null;constructor(t,e,i,a,o){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new SS,this.fontLoader=new YR({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#s(t,e=null){const i=this.#t.get(t);if(i)return i;const a=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,a),a}get annotationStorage(){return ie(this,"annotationStorage",new $b)}getRenderingIntent(t,e=Qs.ENABLE,i=null,a=!1,o=!1){let c=Di.DISPLAY,u=Zm;switch(t){case"any":c=Di.ANY;break;case"display":break;case"print":c=Di.PRINT;break;default:Yt(`getRenderingIntent - invalid intent: ${t}`)}const h=c&Di.PRINT&&i instanceof uS?i:this.annotationStorage;switch(e){case Qs.DISABLE:c+=Di.ANNOTATIONS_DISABLE;break;case Qs.ENABLE:break;case Qs.ENABLE_FORMS:c+=Di.ANNOTATIONS_FORMS;break;case Qs.ENABLE_STORAGE:c+=Di.ANNOTATIONS_STORAGE,u=h.serializable;break;default:Yt(`getRenderingIntent - invalid annotationMode: ${e}`)}a&&(c+=Di.IS_EDITING),o&&(c+=Di.OPLIST);const{ids:f,hash:p}=h.modifiedIds,m=[c,u.hash,p];return{renderingIntent:c,cacheKey:m.join("_"),annotationStorageSerializable:u,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of this.#e.values())t.push(i._destroy());this.#e.clear(),this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),td.cleanup(),this._networkStream?.cancelAllRequests(new zr("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,a)=>{tn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},a.onPull=()=>{this._fullReader.read().then(function({value:o,done:c}){if(c){a.close();return}tn(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{a.error(o)})},a.onCancel=o=>{this._fullReader.cancel(o),a.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",async i=>{await this._fullReader.headersReady;const{isStreamingSupported:a,isRangeSupported:o,contentLength:c}=this._fullReader;return(!a||!o)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=u=>{e.onProgress?.({loaded:u.loaded,total:u.total})}),{isStreamingSupported:a,isRangeSupported:o,contentLength:c}}),t.on("GetRangeReader",(i,a)=>{tn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(i.begin,i.end);if(!o){a.close();return}a.onPull=()=>{o.read().then(function({value:c,done:u}){if(u){a.close();return}tn(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{a.error(c)})},a.onCancel=c=>{o.cancel(c),a.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new jN(i,this))}),t.on("DocException",i=>{e._capability.reject(pi(i))}),t.on("PasswordRequest",i=>{this.#r=Promise.withResolvers();try{if(!e.onPassword)throw pi(i);const a=o=>{o instanceof Error?this.#r.reject(o):this.#r.resolve({password:o})};e.onPassword(a,i.code)}catch(a){this.#r.reject(a)}return this.#r.promise}),t.on("DataLoaded",i=>{e.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;this.#e.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,a,o])=>{if(this.destroyed||this.commonObjs.has(i))return null;switch(a){case"Font":if("error"in o){const f=o.error;Yt(`Error during font loading: ${f}`),this.commonObjs.resolve(i,f);break}const c=this._params.pdfBug&&globalThis.FontInspector?.enabled?(f,p)=>globalThis.FontInspector.fontAdded(f,p):null,u=new WR(o,c);this.fontLoader.bind(u).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!u.fontExtraProperties&&u.data&&(u.data=null),this.commonObjs.resolve(i,u)});break;case"CopyLocalImage":const{imageRef:h}=o;tn(h,"The imageRef must be defined.");for(const f of this.#e.values())for(const[,p]of f.objs)if(p?.ref===h)return p.dataLen?(this.commonObjs.resolve(i,structuredClone(p)),p.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,o);break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),t.on("obj",([i,a,o,c])=>{if(this.destroyed)return;const u=this.#e.get(a);if(!u.objs.has(i)){if(u._intentStates.size===0){c?.bitmap?.close();return}switch(o){case"Image":case"Pattern":u.objs.resolve(i,c);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",i=>{this.destroyed||e.onProgress?.({loaded:i.loaded,total:i.total})}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const a=this[i.type];if(!a)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return a.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Yt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=this.#n.get(e);if(i)return i;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&this.#i.set(o.refStr,t);const c=new zN(e,o,this,this._params.pdfBug);return this.#e.set(e,c),c});return this.#n.set(e,a),a}getPageIndex(t){return Jm(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#s("GetOptionalContentConfig").then(e=>new _N(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(a=>({info:a[0],metadata:a[1]?new vN(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),td.cleanup()}}cachedPageNumber(t){if(!Jm(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#i.get(e)??null}}class UN{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class Fl{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:i,commonObjs:a,annotationCanvasMap:o,operatorList:c,pageIndex:u,canvasFactory:h,filterFactory:f,useRequestAnimationFrame:p=!1,pdfBug:m=!1,pageColors:v=null}){this.callback=t,this.params=e,this.objs=i,this.commonObjs=a,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=u,this.canvasFactory=h,this.filterFactory=f,this._pdfBug=m,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new UN(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(Fl.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Fl.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:a,transform:o,background:c}=this.params;this.gfx=new Hl(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:a,transparency:t,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),Fl.#e.delete(this._canvas),t||=new cp(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Fl.#e.delete(this._canvas),this.callback())))}}const xS="5.3.31",CS="47ad820d9";function KA(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function Bu(r){return Math.max(0,Math.min(255,255*r))}class QA{static CMYK_G([t,e,i,a]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+a)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Bu(t),[t,t,t]}static G_HTML([t]){const e=KA(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(Bu)}static RGB_HTML(t){return`#${t.map(KA).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,a]){return["RGB",1-Math.min(1,t+a),1-Math.min(1,i+a),1-Math.min(1,e+a)]}static CMYK_rgb([t,e,i,a]){return[Bu(1-Math.min(1,t+a)),Bu(1-Math.min(1,i+a)),Bu(1-Math.min(1,e+a))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const a=1-t,o=1-e,c=1-i,u=Math.min(a,o,c);return["CMYK",a,o,c,u]}}class GN{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),i||(a.setAttribute("width",`${t}px`),a.setAttribute("height",`${e}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${t} ${e}`),a}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Te("Abstract method `_createSVG` called.")}}class nd extends GN{_createSVG(t){return document.createElementNS(kr,t)}}class Xb{static setupStorage(t,e,i,a,o){const c=a.getValue(e,{value:null});switch(i.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),o==="print")break;t.addEventListener("input",u=>{a.setValue(e,{value:u.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(c.value===i.attributes.xfaOn?t.setAttribute("checked",!0):c.value===i.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",u=>{a.setValue(e,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),o==="print")break;t.addEventListener("input",u=>{a.setValue(e,{value:u.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const u of i.children)u.attributes.value===c.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}t.addEventListener("input",u=>{const h=u.target.options,f=h.selectedIndex===-1?"":h[h.selectedIndex].value;a.setValue(e,{value:f})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:a,linkService:o}){const{attributes:c}=e,u=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${a}`);for(const[h,f]of Object.entries(c))if(f!=null)switch(h){case"class":f.length&&t.setAttribute(h,f.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",f);break;case"style":Object.assign(t.style,f);break;case"textContent":t.textContent=f;break;default:(!u||h!=="href"&&h!=="newWindow")&&t.setAttribute(h,f)}u&&o.addLinkAttributes(t,c.href,c.newWindow),i&&c.dataId&&this.setupStorage(t,c.dataId,e,i)}static render(t){const e=t.annotationStorage,i=t.linkService,a=t.xfaHtml,o=t.intent||"display",c=document.createElement(a.name);a.attributes&&this.setAttributes({html:c,element:a,intent:o,linkService:i});const u=o!=="richText",h=t.div;if(h.append(c),t.viewport){const m=`matrix(${t.viewport.transform.join(",")})`;h.style.transform=m}u&&h.setAttribute("class","xfaLayer xfaFont");const f=[];if(a.children.length===0){if(a.value){const m=document.createTextNode(a.value);c.append(m),u&&ed.shouldBuildText(a.name)&&f.push(m)}return{textDivs:f}}const p=[[a,-1,c]];for(;p.length>0;){const[m,v,_]=p.at(-1);if(v+1===m.children.length){p.pop();continue}const S=m.children[++p.at(-1)[1]];if(S===null)continue;const{name:E}=S;if(E==="#text"){const C=document.createTextNode(S.value);f.push(C),_.append(C);continue}const T=S?.attributes?.xmlns?document.createElementNS(S.attributes.xmlns,E):document.createElement(E);if(_.append(T),S.attributes&&this.setAttributes({html:T,element:S,storage:e,intent:o,linkService:i}),S.children?.length>0)p.push([S,-1,T]);else if(S.value){const C=document.createTextNode(S.value);u&&ed.shouldBuildText(E)&&f.push(C),T.append(C)}}for(const m of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:f}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Ed=1e3,VN=9,No=new WeakSet;class ZA{static create(t){switch(t.data.annotationType){case Ye.LINK:return new DS(t);case Ye.TEXT:return new qN(t);case Ye.WIDGET:switch(t.data.fieldType){case"Tx":return new YN(t);case"Btn":return t.data.radioButton?new OS(t):t.data.checkBox?new XN(t):new KN(t);case"Ch":return new QN(t);case"Sig":return new WN(t)}return new Bo(t);case Ye.POPUP:return new eb(t);case Ye.FREETEXT:return new RS(t);case Ye.LINE:return new JN(t);case Ye.SQUARE:return new tM(t);case Ye.CIRCLE:return new eM(t);case Ye.POLYLINE:return new NS(t);case Ye.CARET:return new iM(t);case Ye.INK:return new Kb(t);case Ye.POLYGON:return new nM(t);case Ye.HIGHLIGHT:return new MS(t);case Ye.UNDERLINE:return new sM(t);case Ye.SQUIGGLY:return new rM(t);case Ye.STRIKEOUT:return new aM(t);case Ye.STAMP:return new LS(t);case Ye.FILEATTACHMENT:return new oM(t);default:return new Ke(t)}}}class Ke{#t=null;#e=!1;#n=null;constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:a=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),a&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:i}){return!!(t?.str||e?.str||i?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Ke._hasPopupData(this.data)}updateEdited(t){if(!this.container)return;this.#t||={rect:this.data.rect.slice(0)};const{rect:e}=t;e&&this.#i(e),this.#n?.popup.updateEdited(t)}resetEdited(){this.#t&&(this.#i(this.#t.rect),this.#n?.popup.resetEdited(),this.#t=null)}#i(t){const{container:{style:e},data:{rect:i,rotation:a},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:c,pageX:u,pageY:h}}}}=this;i?.splice(0,4,...t),e.left=`${100*(t[0]-u)/o}%`,e.top=`${100*(c-t[3]+h)/c}%`,a===0?(e.width=`${100*(t[2]-t[0])/o}%`,e.height=`${100*(t[3]-t[1])/c}%`):this.setRotation(a)}_createContainer(t){const{data:e,parent:{page:i,viewport:a}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),this instanceof Bo||(o.tabIndex=Ed);const{style:c}=o;if(c.zIndex=this.parent.zIndex++,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof eb){const{rotation:E}=e;return!e.hasOwnCanvas&&E!==0&&this.setRotation(E,o),o}const{width:u,height:h}=this;if(!t&&e.borderStyle.width>0){c.borderWidth=`${e.borderStyle.width}px`;const E=e.borderStyle.horizontalCornerRadius,T=e.borderStyle.verticalCornerRadius;if(E>0||T>0){const N=`calc(${E}px * var(--total-scale-factor)) / calc(${T}px * var(--total-scale-factor))`;c.borderRadius=N}else if(this instanceof OS){const N=`calc(${u}px * var(--total-scale-factor)) / calc(${h}px * var(--total-scale-factor))`;c.borderRadius=N}switch(e.borderStyle.style){case Pl.SOLID:c.borderStyle="solid";break;case Pl.DASHED:c.borderStyle="dashed";break;case Pl.BEVELED:Yt("Unimplemented border style: beveled");break;case Pl.INSET:Yt("Unimplemented border style: inset");break;case Pl.UNDERLINE:c.borderBottomStyle="solid";break}const C=e.borderColor||null;C?(this.#e=!0,c.borderColor=Nt.makeHexColor(C[0]|0,C[1]|0,C[2]|0)):c.borderWidth=0}const f=Nt.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:p,pageHeight:m,pageX:v,pageY:_}=a.rawDims;c.left=`${100*(f[0]-v)/p}%`,c.top=`${100*(f[1]-_)/m}%`;const{rotation:S}=e;return e.hasOwnCanvas||S===0?(c.width=`${100*u/p}%`,c.height=`${100*h/m}%`):this.setRotation(S,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:a}=this.parent.viewport.rawDims;let{width:o,height:c}=this;t%180!==0&&([o,c]=[c,o]),e.style.width=`${100*o/i}%`,e.style.height=`${100*c/a}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,a)=>{const o=a.detail[e],c=o[0],u=o.slice(1);a.target.style[i]=QA[`${c}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[i]:QA[`${c}_rgb`](u)})};return ie(this,"_commonActions",{display:e=>{const{display:i}=e.detail,a=i%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const a of Object.keys(e.detail))(t[a]||i[a])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[a,o]of Object.entries(e)){const c=i[a];if(c){const u={detail:{[a]:o},target:t};c(u),delete e[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,a,o]=this.data.rect.map(E=>Math.fround(E));if(t.length===8){const[E,T,C,N]=t.subarray(2,6);if(a===E&&o===T&&e===C&&i===N)return}const{style:c}=this.container;let u;if(this.#e){const{borderColor:E,borderWidth:T}=c;c.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${E}" stroke-width="${T}">`],this.container.classList.add("hasBorder")}const h=a-e,f=o-i,{svgFactory:p}=this,m=p.createElement("svg");m.classList.add("quadrilateralsContainer"),m.setAttribute("width",0),m.setAttribute("height",0);const v=p.createElement("defs");m.append(v);const _=p.createElement("clipPath"),S=`clippath_${this.data.id}`;_.setAttribute("id",S),_.setAttribute("clipPathUnits","objectBoundingBox"),v.append(_);for(let E=2,T=t.length;E<T;E+=8){const C=t[E],N=t[E+1],L=t[E+2],P=t[E+3],M=p.createElement("rect"),I=(L-e)/h,F=(o-N)/f,q=(C-L)/h,Z=(N-P)/f;M.setAttribute("x",I),M.setAttribute("y",F),M.setAttribute("width",q),M.setAttribute("height",Z),_.append(M),u?.push(`<rect vector-effect="non-scaling-stroke" x="${I}" y="${F}" width="${q}" height="${Z}"/>`)}this.#e&&(u.push("</g></svg>')"),c.backgroundImage=u.join("")),this.container.append(m),this.container.style.clipPath=`url(#${S})`}_createPopup(){const{data:t}=this,e=this.#n=new eb({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(e.render())}render(){Te("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const a=this._fieldObjects[t];if(a)for(const{page:o,id:c,exportValues:u}of a){if(o===-1||c===e)continue;const h=typeof u=="string"?u:null,f=document.querySelector(`[data-element-id="${c}"]`);if(f&&!No.has(f)){Yt(`_getElementsByName - element not allowed: ${c}`);continue}i.push({id:c,exportValue:h,domElement:f})}return i}for(const a of document.getElementsByName(t)){const{exportValue:o}=a,c=a.getAttribute("data-element-id");c!==e&&No.has(a)&&i.push({id:c,exportValue:o,domElement:a})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class DS extends Ke{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let a=!1;return t.url?(e.addLinkAttributes(i,t.url,t.newWindow),a=!0):t.action?(this._bindNamedAction(i,t.action),a=!0):t.attachment?(this.#e(i,t.attachment,t.attachmentDest),a=!0):t.setOCGState?(this.#n(i,t.setOCGState),a=!0):t.dest?(this._bindLink(i,t.dest),a=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),a=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(i,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(i),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t()}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),this.#t()}#e(t,e,i=null){t.href=this.linkService.getAnchorUrl(""),e.description&&(t.title=e.description),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,i),!1),this.#t()}#n(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(e.actions)){const o=i.get(a);o&&(t[o]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:a}}),!1))}t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){Yt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{i?.();const{fields:a,refs:o,include:c}=e,u=[];if(a.length!==0||o.length!==0){const p=new Set(o);for(const m of a){const v=this._fieldObjects[m]||[];for(const{id:_}of v)p.add(_)}for(const m of Object.values(this._fieldObjects))for(const v of m)p.has(v.id)===c&&u.push(v)}else for(const p of Object.values(this._fieldObjects))u.push(...p);const h=this.annotationStorage,f=[];for(const p of u){const{id:m}=p;switch(f.push(m),p.type){case"text":{const _=p.defaultValue||"";h.setValue(m,{value:_});break}case"checkbox":case"radiobutton":{const _=p.defaultValue===p.exportValues;h.setValue(m,{value:_});break}case"combobox":case"listbox":{const _=p.defaultValue||"";h.setValue(m,{value:_});break}default:continue}const v=document.querySelector(`[data-element-id="${m}"]`);if(v){if(!No.has(v)){Yt(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class qN extends Ke{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Bo extends Ke{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return pn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,a,o){i.includes("mouse")?t.addEventListener(i,c=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:o(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(i,c=>{if(i==="blur"){if(!e.focused||!c.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}o&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:o(c)}})})}_setEventListeners(t,e,i,a){for(const[o,c]of i)(c==="Action"||this.data.actions?.[c])&&((c==="Focus"||c==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,o,c,a),c==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):c==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":Nt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||VN,o=t.style;let c;const u=2,h=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u),p=Math.round(f/(bm*a))||1,m=f/p;c=Math.min(a,h(m/bm))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u);c=Math.min(a,h(f/bm))}o.fontSize=`calc(${c}px * var(--total-scale-factor))`,o.color=Nt.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class YN extends Bo{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,a){const o=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[e]=i),o.setValue(c.id,{[a]:i})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const a=t.getValue(e,{value:this.data.fieldValue});let o=a.value||"";const c=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;c&&o.length>c&&(o=o.slice(0,c));let u=a.formattedValue||this.data.textContent?.join(`
`)||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const h={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u??o,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",u??o),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),No.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=Ed,this._setRequired(i,this.data.required),c&&(i.maxLength=c),i.addEventListener("input",p=>{t.setValue(e,{value:p.target.value}),this.setPropertyOnSiblings(i,"value",p.target.value,"value"),h.formattedValue=null}),i.addEventListener("resetform",p=>{const m=this.data.defaultFieldValue??"";i.value=h.userValue=m,h.formattedValue=null});let f=p=>{const{formattedValue:m}=h;m!=null&&(p.target.value=m),p.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",m=>{if(h.focused)return;const{target:v}=m;h.userValue&&(v.value=h.userValue),h.lastCommittedValue=v.value,h.commitKey=1,this.data.actions?.Focus||(h.focused=!0)}),i.addEventListener("updatefromsandbox",m=>{this.showElementAndHideCanvas(m.target);const v={value(_){h.userValue=_.detail.value??"",t.setValue(e,{value:h.userValue.toString()}),_.target.value=h.userValue},formattedValue(_){const{formattedValue:S}=_.detail;h.formattedValue=S,S!=null&&_.target!==document.activeElement&&(_.target.value=S),t.setValue(e,{formattedValue:S})},selRange(_){_.target.setSelectionRange(..._.detail.selRange)},charLimit:_=>{const{charLimit:S}=_.detail,{target:E}=_;if(S===0){E.removeAttribute("maxLength");return}E.setAttribute("maxLength",S);let T=h.userValue;!T||T.length<=S||(T=T.slice(0,S),E.value=h.userValue=T,t.setValue(e,{value:T}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,willCommit:!0,commitKey:1,selStart:E.selectionStart,selEnd:E.selectionEnd}}))}};this._dispatchEventFromSandbox(v,m)}),i.addEventListener("keydown",m=>{h.commitKey=1;let v=-1;if(m.key==="Escape"?v=0:m.key==="Enter"&&!this.data.multiLine?v=2:m.key==="Tab"&&(h.commitKey=3),v===-1)return;const{value:_}=m.target;h.lastCommittedValue!==_&&(h.lastCommittedValue=_,h.userValue=_,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:_,willCommit:!0,commitKey:v,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}))});const p=f;f=null,i.addEventListener("blur",m=>{if(!h.focused||!m.relatedTarget)return;this.data.actions?.Blur||(h.focused=!1);const{value:v}=m.target;h.userValue=v,h.lastCommittedValue!==v&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:v,willCommit:!0,commitKey:h.commitKey,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}),p(m)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",m=>{h.lastCommittedValue=null;const{data:v,target:_}=m,{value:S,selectionStart:E,selectionEnd:T}=_;let C=E,N=T;switch(m.inputType){case"deleteWordBackward":{const L=S.substring(0,E).match(/\w*[^\w]*$/);L&&(C-=L[0].length);break}case"deleteWordForward":{const L=S.substring(E).match(/^[^\w]*\w*/);L&&(N+=L[0].length);break}case"deleteContentBackward":E===T&&(C-=1);break;case"deleteContentForward":E===T&&(N+=1);break}m.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:S,change:v||"",willCommit:!1,selStart:C,selEnd:N}})}),this._setEventListeners(i,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],m=>m.target.value)}if(f&&i.addEventListener("blur",f),this.data.comb){const m=(this.data.rect[2]-this.data.rect[0])/c;i.classList.add("comb"),i.style.letterSpacing=`calc(${m}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class WN extends Bo{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class XN extends Bo{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let a=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",t.setValue(i,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return No.add(o),o.setAttribute("data-element-id",i),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,a&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=Ed,o.addEventListener("change",c=>{const{name:u,checked:h}=c.target;for(const f of this._getElementsByName(u,i)){const p=h&&f.exportValue===e.exportValue;f.domElement&&(f.domElement.checked=p),t.setValue(f.id,{value:p})}t.setValue(i,{value:h})}),o.addEventListener("resetform",c=>{const u=e.defaultFieldValue||"Off";c.target.checked=u===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",c=>{const u={value(h){h.target.checked=h.detail.value!=="Off",t.setValue(i,{value:h.target.checked})}};this._dispatchEventFromSandbox(u,c)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class OS extends Bo{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let a=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof a=="string"&&(a=a!==e.buttonValue,t.setValue(i,{value:a})),a)for(const c of this._getElementsByName(e.fieldName,i))t.setValue(c.id,{value:!1});const o=document.createElement("input");if(No.add(o),o.setAttribute("data-element-id",i),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,a&&o.setAttribute("checked",!0),o.tabIndex=Ed,o.addEventListener("change",c=>{const{name:u,checked:h}=c.target;for(const f of this._getElementsByName(u,i))t.setValue(f.id,{value:!1});t.setValue(i,{value:h})}),o.addEventListener("resetform",c=>{const u=e.defaultFieldValue;c.target.checked=u!=null&&u===e.buttonValue}),this.enableScripting&&this.hasJSActions){const c=e.buttonValue;o.addEventListener("updatefromsandbox",u=>{const h={value:f=>{const p=c===f.detail.value;for(const m of this._getElementsByName(f.target.name)){const v=p&&m.id===i;m.domElement&&(m.domElement.checked=v),t.setValue(m.id,{value:v})}}};this._dispatchEventFromSandbox(h,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class KN extends DS{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class QN extends Bo{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),a=document.createElement("select");No.add(a),a.setAttribute("data-element-id",e),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=Ed;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",p=>{const m=this.data.defaultFieldValue;for(const v of a.options)v.selected=v.value===m});for(const p of this.data.options){const m=document.createElement("option");m.textContent=p.displayValue,m.value=p.exportValue,i.value.includes(p.exportValue)&&(m.setAttribute("selected",!0),o=!1),a.append(m)}let c=null;if(o){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),a.prepend(p),c=()=>{p.remove(),a.removeEventListener("input",c),c=null},a.addEventListener("input",c)}const u=p=>{const m=p?"value":"textContent",{options:v,multiple:_}=a;return _?Array.prototype.filter.call(v,S=>S.selected).map(S=>S[m]):v.selectedIndex===-1?null:v[v.selectedIndex][m]};let h=u(!1);const f=p=>{const m=p.target.options;return Array.prototype.map.call(m,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",p=>{const m={value(v){c?.();const _=v.detail.value,S=new Set(Array.isArray(_)?_:[_]);for(const E of a.options)E.selected=S.has(E.value);t.setValue(e,{value:u(!0)}),h=u(!1)},multipleSelection(v){a.multiple=!0},remove(v){const _=a.options,S=v.detail.remove;_[S].selected=!1,a.remove(S),_.length>0&&Array.prototype.findIndex.call(_,T=>T.selected)===-1&&(_[0].selected=!0),t.setValue(e,{value:u(!0),items:f(v)}),h=u(!1)},clear(v){for(;a.length!==0;)a.remove(0);t.setValue(e,{value:null,items:[]}),h=u(!1)},insert(v){const{index:_,displayValue:S,exportValue:E}=v.detail.insert,T=a.children[_],C=document.createElement("option");C.textContent=S,C.value=E,T?T.before(C):a.append(C),t.setValue(e,{value:u(!0),items:f(v)}),h=u(!1)},items(v){const{items:_}=v.detail;for(;a.length!==0;)a.remove(0);for(const S of _){const{displayValue:E,exportValue:T}=S,C=document.createElement("option");C.textContent=E,C.value=T,a.append(C)}a.options.length>0&&(a.options[0].selected=!0),t.setValue(e,{value:u(!0),items:f(v)}),h=u(!1)},indices(v){const _=new Set(v.detail.indices);for(const S of v.target.options)S.selected=_.has(S.index);t.setValue(e,{value:u(!0)}),h=u(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(m,p)}),a.addEventListener("input",p=>{const m=u(!0),v=u(!1);t.setValue(e,{value:m}),p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:h,change:v,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):a.addEventListener("input",function(p){t.setValue(e,{value:u(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class eb extends Ke{constructor(t){const{data:e,elements:i}=t;super(t,{isRenderable:Ke._hasPopupData(e)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new ZN({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",e.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(i=>`${Bb}${i}`).join(",")),this.container}}class ZN{#t=this.#C.bind(this);#e=this.#x.bind(this);#n=this.#D.bind(this);#i=this.#E.bind(this);#r=null;#s=null;#l=null;#o=null;#d=null;#c=null;#h=null;#u=!1;#f=null;#a=null;#p=null;#m=null;#g=null;#b=null;#v=!1;constructor({container:t,color:e,elements:i,titleObj:a,modificationDate:o,contentsObj:c,richText:u,parent:h,rect:f,parentRect:p,open:m}){this.#s=t,this.#g=a,this.#l=c,this.#m=u,this.#c=h,this.#r=e,this.#p=f,this.#h=p,this.#d=i,this.#o=Fb.toDateObject(o),this.trigger=i.flatMap(v=>v.getElementsToTriggerPopup());for(const v of this.trigger)v.addEventListener("click",this.#i),v.addEventListener("mouseenter",this.#n),v.addEventListener("mouseleave",this.#e),v.classList.add("popupTriggerArea");for(const v of i)v.container?.addEventListener("keydown",this.#t);this.#s.hidden=!0,m&&this.#E()}render(){if(this.#f)return;const t=this.#f=document.createElement("div");if(t.className="popup",this.#r){const o=t.style.outlineColor=Nt.makeHexColor(...this.#r);t.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`}const e=document.createElement("span");e.className="header";const i=document.createElement("h1");if(e.append(i),{dir:i.dir,str:i.textContent}=this.#g,t.append(e),this.#o){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#o.valueOf()})),e.append(o)}const a=this.#y;if(a)Xb.render({xfaHtml:a,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(this.#l);t.append(o)}this.#s.append(t)}get#y(){const t=this.#m,e=this.#l;return t?.str&&(!e?.str||e.str===t.str)&&this.#m.html||null}get#A(){return this.#y?.attributes?.style?.fontSize||0}get#S(){return this.#y?.attributes?.style?.color||null}#T(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},a={style:{color:this.#S,fontSize:this.#A?`calc(${this.#A}px * var(--total-scale-factor))`:""}};for(const o of t.split(`
`))e.push({name:"span",value:o,attributes:a});return i}_formatContents({str:t,dir:e}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=e;const a=t.split(/(?:\r\n?|\n)/);for(let o=0,c=a.length;o<c;++o){const u=a[o];i.append(document.createTextNode(u)),o<c-1&&i.append(document.createElement("br"))}return i}#C(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#u)&&this.#E()}updateEdited({rect:t,popupContent:e}){this.#b||={contentsObj:this.#l,richText:this.#m},t&&(this.#a=null),e&&(this.#m=this.#T(e),this.#l=null),this.#f?.remove(),this.#f=null}resetEdited(){this.#b&&({contentsObj:this.#l,richText:this.#m}=this.#b,this.#b=null,this.#f?.remove(),this.#f=null,this.#a=null)}#O(){if(this.#a!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:a,pageY:o}}}=this.#c;let c=!!this.#h,u=c?this.#h:this.#p;for(const S of this.#d)if(!u||Nt.intersect(S.data.rect,u)!==null){u=S.data.rect,c=!0;break}const h=Nt.normalizeRect([u[0],t[3]-u[1]+t[1],u[2],t[3]-u[3]+t[1]]),p=c?u[2]-u[0]+5:0,m=h[0]+p,v=h[1];this.#a=[100*(m-a)/e,100*(v-o)/i];const{style:_}=this.#s;_.left=`${this.#a[0]}%`,_.top=`${this.#a[1]}%`}#E(){this.#u=!this.#u,this.#u?(this.#D(),this.#s.addEventListener("click",this.#i),this.#s.addEventListener("keydown",this.#t)):(this.#x(),this.#s.removeEventListener("click",this.#i),this.#s.removeEventListener("keydown",this.#t))}#D(){this.#f||this.render(),this.isVisible?this.#u&&this.#s.classList.add("focused"):(this.#O(),this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#x(){this.#s.classList.remove("focused"),!(this.#u||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#v=this.isVisible,this.#v&&(this.#s.hidden=!0)}maybeShow(){this.#v&&(this.#f||this.#D(),this.#v=!1,this.#s.hidden=!1)}get isVisible(){return this.#s.hidden===!1}}class RS extends Ke{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Vt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class JN extends Ke{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:i}=this,a=this.svgFactory.create(e,i,!0),o=this.#t=this.svgFactory.createElement("svg:line");return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class tM extends Ke{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:i}=this,a=this.svgFactory.create(e,i,!0),o=t.borderStyle.width,c=this.#t=this.svgFactory.createElement("svg:rect");return c.setAttribute("x",o/2),c.setAttribute("y",o/2),c.setAttribute("width",e-o),c.setAttribute("height",i-o),c.setAttribute("stroke-width",o||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class eM extends Ke{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:i}=this,a=this.svgFactory.create(e,i,!0),o=t.borderStyle.width,c=this.#t=this.svgFactory.createElement("svg:ellipse");return c.setAttribute("cx",e/2),c.setAttribute("cy",i/2),c.setAttribute("rx",e/2-o/2),c.setAttribute("ry",i/2-o/2),c.setAttribute("stroke-width",o||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class NS extends Ke{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:i,popupRef:a},width:o,height:c}=this;if(!e)return this.container;const u=this.svgFactory.create(o,c,!0);let h=[];for(let p=0,m=e.length;p<m;p+=2){const v=e[p]-t[0],_=t[3]-e[p+1];h.push(`${v},${_}`)}h=h.join(" ");const f=this.#t=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",h),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class nM extends NS{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class iM extends Ke{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Kb extends Ke{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Vt.HIGHLIGHT:Vt.INK}#n(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:i,borderStyle:a,popupRef:o}}=this,{transform:c,width:u,height:h}=this.#n(e,t),f=this.svgFactory.create(u,h,!0),p=this.#t=this.svgFactory.createElement("svg:g");f.append(p),p.setAttribute("stroke-width",a.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",c);for(let m=0,v=i.length;m<v;m++){const _=this.svgFactory.createElement(this.svgElementName);this.#e.push(_),_.setAttribute("points",i[m].join(",")),p.append(_)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:i,rect:a}=t,o=this.#t;if(e>=0&&o.setAttribute("stroke-width",e||1),i)for(let c=0,u=this.#e.length;c<u;c++)this.#e[c].setAttribute("points",i[c].join(","));if(a){const{transform:c,width:u,height:h}=this.#n(this.data.rotation,a);o.parentElement.setAttribute("viewBox",`0 0 ${u} ${h}`),o.setAttribute("transform",c)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class MS extends Ke{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Vt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class sM extends Ke{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class rM extends Ke{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class aM extends Ke{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class LS extends Ke{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Vt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class oM extends Ke{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let i;e.hasAppearance||e.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),i.addEventListener("dblclick",this.#e.bind(this)),this.#t=i;const{isMac:a}=pn.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(a?o.metaKey:o.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let Qb=class PS{#t=null;#e=null;#n=new Map;#i=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:a,page:o,viewport:c,structTreeLayer:u}){this.div=t,this.#t=e,this.#e=i,this.#i=u||null,this.page=o,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=a}hasEditableAnnotations(){return this.#n.size>0}async#r(t,e){const i=t.firstChild||t,a=i.id=`${Bb}${e}`,o=await this.#i?.getAriaAttributes(a);if(o)for(const[c,u]of o)i.setAttribute(c,u);this.div.append(t),this.#t?.moveElementInDOM(this.div,t,i,!1)}async render(t){const{annotations:e}=t,i=this.div;Ha(i,this.viewport);const a=new Map,o={data:null,layer:i,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new nd,annotationStorage:t.annotationStorage||new $b,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const c of e){if(c.noHTML)continue;const u=c.annotationType===Ye.POPUP;if(u){const p=a.get(c.id);if(!p)continue;o.elements=p}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;o.data=c;const h=ZA.create(o);if(!h.isRenderable)continue;if(!u&&c.popupRef){const p=a.get(c.popupRef);p?p.push(h):a.set(c.popupRef,[h])}const f=h.render();c.hidden&&(f.style.visibility="hidden"),await this.#r(f,c.id),h._isEditable&&(this.#n.set(h.data.id,h),this._annotationEditorUIManager?.renderAnnotationElement(h))}this.#s()}async addLinkAnnotations(t,e){const i={data:null,layer:this.div,linkService:e,svgFactory:new nd,parent:this};for(const a of t){a.borderStyle||=PS._defaultBorderStyle,i.data=a;const o=ZA.create(i);if(!o.isRenderable)continue;const c=o.render();await this.#r(c,a.id)}}update({viewport:t}){const e=this.div;this.viewport=t,Ha(e,{rotation:t.rotation}),this.#s(),e.hidden=!1}#s(){if(!this.#e)return;const t=this.div;for(const[e,i]of this.#e){const a=t.querySelector(`[data-annotation-id="${e}"]`);if(!a)continue;i.className="annotationContent";const{firstChild:o}=a;o?o.nodeName==="CANVAS"?o.replaceWith(i):o.classList.contains("annotationContent")?o.after(i):o.before(i):a.append(i);const c=this.#n.get(e);c&&(c._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,a.id,i),c._hasNoCanvas=!1):c.canvas=i)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}static get _defaultBorderStyle(){return ie(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Pl.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const wf=/\r\n?|\n/g;class on extends Pt{#t;#e="";#n=`${this.id}-editor`;#i=null;#r;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=on.prototype,e=o=>o.isEmpty(),i=$r.TRANSLATE_SMALL,a=$r.TRANSLATE_BIG;return ie(this,"_keyboardManager",new yd([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,a],checker:e}]]))}static _type="freetext";static _editorType=Vt.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.#t=t.color||on._defaultColor||Pt._defaultLineColor,this.#r=t.fontSize||on._defaultFontSize}static initialize(t,e){Pt.initialize(t,e);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case re.FREETEXT_SIZE:on._defaultFontSize=e;break;case re.FREETEXT_COLOR:on._defaultColor=e;break}}updateParams(t,e){switch(t){case re.FREETEXT_SIZE:this.#s(e);break;case re.FREETEXT_COLOR:this.#l(e);break}}static get defaultPropertiesToUpdate(){return[[re.FREETEXT_SIZE,on._defaultFontSize],[re.FREETEXT_COLOR,on._defaultColor||Pt._defaultLineColor]]}get propertiesToUpdate(){return[[re.FREETEXT_SIZE,this.#r],[re.FREETEXT_COLOR,this.#t]]}#s(t){const e=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-this.#r)*this.parentScale),this.#r=a,this.#d()},i=this.#r;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:re.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#l(t){const e=a=>{this.#t=this.editorDiv.style.color=a},i=this.#t;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:re.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-on._internalPadding*t,-(on._internalPadding+this.#r)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#o(){const t=[];this.editorDiv.normalize();let e=null;for(const i of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(on.#c(i)),e=i);return t.join(`
`)}#d(){const[t,e]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:a,div:o}=this,c=o.style.display,u=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",a.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=c,o.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/e):(this.width=i.height/t,this.height=i.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#e,e=this.#e=this.#o().trimEnd();if(t===e)return;const i=a=>{if(this.#e=a,!a){this.remove();return}this.#h(),this._uiManager.rebuild(this),this.#d()};this.addCommands({cmd:()=>{i(e)},undo:()=>{i(t)},mustExec:!1}),this.#d()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){on._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#r}px * var(--total-scale-factor))`,i.color=this.#t,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,o]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[u,h]=this.getInitialTranslation();[u,h]=this.pageTranslationToScreen(u,h);const[f,p]=this.pageDimensions,[m,v]=this.pageTranslation;let _,S;switch(this.rotation){case 0:_=t+(c[0]-m)/f,S=e+this.height-(c[1]-v)/p;break;case 90:_=t+(c[0]-m)/f,S=e-(c[1]-v)/p,[u,h]=[h,-u];break;case 180:_=t-this.width+(c[0]-m)/f,S=e-(c[1]-v)/p,[u,h]=[-u,-h];break;case 270:_=t+(c[0]-m-this.height*p)/f,S=e+(c[1]-v-this.width*f)/p,[u,h]=[-h,u];break}this.setAt(_*a,S*o,u,h)}else this._moveAfterPaste(t,e);this.#h(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(wf,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:i}=e;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const a=on.#f(e.getData("text")||"").replaceAll(wf,`
`);if(!a)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const c=o.getRangeAt(0);if(!a.includes(`
`)){c.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:u,startOffset:h}=c,f=[],p=[];if(u.nodeType===Node.TEXT_NODE){const _=u.parentElement;if(p.push(u.nodeValue.slice(h).replaceAll(wf,"")),_!==this.editorDiv){let S=f;for(const E of this.editorDiv.childNodes){if(E===_){S=p;continue}S.push(on.#c(E))}}f.push(u.nodeValue.slice(0,h).replaceAll(wf,""))}else if(u===this.editorDiv){let _=f,S=0;for(const E of this.editorDiv.childNodes)S++===h&&(_=p),_.push(on.#c(E))}this.#e=`${f.join(`
`)}${a}${p.join(`
`)}`,this.#h();const m=new Range;let v=Math.sumPrecise(f.map(_=>_.length));for(const{firstChild:_}of this.editorDiv.childNodes)if(_.nodeType===Node.TEXT_NODE){const S=_.nodeValue.length;if(v<=S){m.setStart(_,v),m.setEnd(_,v);break}v-=S}o.removeAllRanges(),o.addRange(m)}#h(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const t of this.#e.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#u(){return this.#e.replaceAll(" "," ")}static#f(t){return t.replaceAll(" "," ")}get contentDiv(){return this.editorDiv}static async deserialize(t,e,i){let a=null;if(t instanceof RS){const{data:{defaultAppearanceData:{fontSize:c,fontColor:u},rect:h,rotation:f,id:p,popupRef:m},textContent:v,textPosition:_,parent:{page:{pageNumber:S}}}=t;if(!v||v.length===0)return null;a=t={annotationType:Vt.FREETEXT,color:Array.from(u),fontSize:c,value:v.join(`
`),position:_,pageIndex:S-1,rect:h.slice(0),rotation:f,id:p,deleted:!1,popupRef:m}}const o=await super.deserialize(t,e,i);return o.#r=t.fontSize,o.#t=Nt.makeHexColor(...t.color),o.#e=on.#f(t.value),o.annotationElementId=t.id||null,o._initialData=a,o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=on._internalPadding*this.parentScale,i=this.getRect(e,e),a=Pt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#t),o={annotationType:Vt.FREETEXT,color:a,fontSize:this.#r,value:this.#u(),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(o.isCopy=!0,o):this.annotationElementId&&!this.#a(o)?null:(o.id=this.annotationElementId,o)}#a(t){const{value:e,fontSize:i,color:a,pageIndex:o}=this._initialData;return this._hasBeenMoved||t.value!==e||t.fontSize!==i||t.color.some((c,u)=>c!==a[u])||t.pageIndex!==o}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(this.deleted)return e;const{style:i}=e;i.fontSize=`calc(${this.#r}px * var(--total-scale-factor))`,i.color=this.#t,e.replaceChildren();for(const o of this.#e.split(`
`)){const c=document.createElement("div");c.append(o?document.createTextNode(o):document.createElement("br")),e.append(c)}const a=on._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(a,a),popupContent:this.#e}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class wt{static PRECISION=1e-4;toSVGPath(){Te("Abstract method `toSVGPath` must be implemented.")}get box(){Te("Abstract getter `box` must be implemented.")}serialize(t,e){Te("Abstract method `serialize` must be implemented.")}static _rescale(t,e,i,a,o,c){c||=new Float32Array(t.length);for(let u=0,h=t.length;u<h;u+=2)c[u]=e+t[u]*a,c[u+1]=i+t[u+1]*o;return c}static _rescaleAndSwap(t,e,i,a,o,c){c||=new Float32Array(t.length);for(let u=0,h=t.length;u<h;u+=2)c[u]=e+t[u+1]*a,c[u+1]=i+t[u]*o;return c}static _translate(t,e,i,a){a||=new Float32Array(t.length);for(let o=0,c=t.length;o<c;o+=2)a[o]=e+t[o],a[o+1]=i+t[o+1];return a}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,i,a,o){switch(o){case 90:return[1-e/i,t/a];case 180:return[1-t/i,1-e/a];case 270:return[e/i,1-t/a];default:return[t/i,e/a]}}static _normalizePagePoint(t,e,i){switch(i){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,i,a,o,c){return[(t+5*i)/6,(e+5*a)/6,(5*i+o)/6,(5*a+c)/6,(i+o)/2,(a+c)/2]}}class Eo{#t;#e=[];#n;#i;#r=[];#s=new Float32Array(18);#l;#o;#d;#c;#h;#u;#f=[];static#a=8;static#p=2;static#m=Eo.#a+Eo.#p;constructor({x:t,y:e},i,a,o,c,u=0){this.#t=i,this.#u=o*a,this.#i=c,this.#s.set([NaN,NaN,NaN,NaN,t,e],6),this.#n=u,this.#c=Eo.#a*a,this.#d=Eo.#m*a,this.#h=a,this.#f.push(t,e)}isEmpty(){return isNaN(this.#s[8])}#g(){const t=this.#s.subarray(4,6),e=this.#s.subarray(16,18),[i,a,o,c]=this.#t;return[(this.#l+(t[0]-e[0])/2-i)/o,(this.#o+(t[1]-e[1])/2-a)/c,(this.#l+(e[0]-t[0])/2-i)/o,(this.#o+(e[1]-t[1])/2-a)/c]}add({x:t,y:e}){this.#l=t,this.#o=e;const[i,a,o,c]=this.#t;let[u,h,f,p]=this.#s.subarray(8,12);const m=t-f,v=e-p,_=Math.hypot(m,v);if(_<this.#d)return!1;const S=_-this.#c,E=S/_,T=E*m,C=E*v;let N=u,L=h;u=f,h=p,f+=T,p+=C,this.#f?.push(t,e);const P=-C/S,M=T/S,I=P*this.#u,F=M*this.#u;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([f+I,p+F],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([f-I,p-F],16),isNaN(this.#s[6])?(this.#r.length===0&&(this.#s.set([u+I,h+F],2),this.#r.push(NaN,NaN,NaN,NaN,(u+I-i)/o,(h+F-a)/c),this.#s.set([u-I,h-F],14),this.#e.push(NaN,NaN,NaN,NaN,(u-I-i)/o,(h-F-a)/c)),this.#s.set([N,L,u,h,f,p],6),!this.isEmpty()):(this.#s.set([N,L,u,h,f,p],6),Math.abs(Math.atan2(L-h,N-u)-Math.atan2(C,T))<Math.PI/2?([u,h,f,p]=this.#s.subarray(2,6),this.#r.push(NaN,NaN,NaN,NaN,((u+f)/2-i)/o,((h+p)/2-a)/c),[u,h,N,L]=this.#s.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((N+u)/2-i)/o,((L+h)/2-a)/c),!0):([N,L,u,h,f,p]=this.#s.subarray(0,6),this.#r.push(((N+5*u)/6-i)/o,((L+5*h)/6-a)/c,((5*u+f)/6-i)/o,((5*h+p)/6-a)/c,((u+f)/2-i)/o,((h+p)/2-a)/c),[f,p,u,h,N,L]=this.#s.subarray(12,18),this.#e.push(((N+5*u)/6-i)/o,((L+5*h)/6-a)/c,((5*u+f)/6-i)/o,((5*h+p)/6-a)/c,((u+f)/2-i)/o,((h+p)/2-a)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#r,e=this.#e;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#b();const i=[];i.push(`M${t[4]} ${t[5]}`);for(let a=6;a<t.length;a+=6)isNaN(t[a])?i.push(`L${t[a+4]} ${t[a+5]}`):i.push(`C${t[a]} ${t[a+1]} ${t[a+2]} ${t[a+3]} ${t[a+4]} ${t[a+5]}`);this.#y(i);for(let a=e.length-6;a>=6;a-=6)isNaN(e[a])?i.push(`L${e[a+4]} ${e[a+5]}`):i.push(`C${e[a]} ${e[a+1]} ${e[a+2]} ${e[a+3]} ${e[a+4]} ${e[a+5]}`);return this.#v(i),i.join(" ")}#b(){const[t,e,i,a]=this.#t,[o,c,u,h]=this.#g();return`M${(this.#s[2]-t)/i} ${(this.#s[3]-e)/a} L${(this.#s[4]-t)/i} ${(this.#s[5]-e)/a} L${o} ${c} L${u} ${h} L${(this.#s[16]-t)/i} ${(this.#s[17]-e)/a} L${(this.#s[14]-t)/i} ${(this.#s[15]-e)/a} Z`}#v(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#y(t){const[e,i,a,o]=this.#t,c=this.#s.subarray(4,6),u=this.#s.subarray(16,18),[h,f,p,m]=this.#g();t.push(`L${(c[0]-e)/a} ${(c[1]-i)/o} L${h} ${f} L${p} ${m} L${(u[0]-e)/a} ${(u[1]-i)/o}`)}newFreeDrawOutline(t,e,i,a,o,c){return new IS(t,e,i,a,o,c)}getOutlines(){const t=this.#r,e=this.#e,i=this.#s,[a,o,c,u]=this.#t,h=new Float32Array((this.#f?.length??0)+2);for(let m=0,v=h.length-2;m<v;m+=2)h[m]=(this.#f[m]-a)/c,h[m+1]=(this.#f[m+1]-o)/u;if(h[h.length-2]=(this.#l-a)/c,h[h.length-1]=(this.#o-o)/u,isNaN(i[6])&&!this.isEmpty())return this.#A(h);const f=new Float32Array(this.#r.length+24+this.#e.length);let p=t.length;for(let m=0;m<p;m+=2){if(isNaN(t[m])){f[m]=f[m+1]=NaN;continue}f[m]=t[m],f[m+1]=t[m+1]}p=this.#T(f,p);for(let m=e.length-6;m>=6;m-=6)for(let v=0;v<6;v+=2){if(isNaN(e[m+v])){f[p]=f[p+1]=NaN,p+=2;continue}f[p]=e[m+v],f[p+1]=e[m+v+1],p+=2}return this.#S(f,p),this.newFreeDrawOutline(f,h,this.#t,this.#h,this.#n,this.#i)}#A(t){const e=this.#s,[i,a,o,c]=this.#t,[u,h,f,p]=this.#g(),m=new Float32Array(36);return m.set([NaN,NaN,NaN,NaN,(e[2]-i)/o,(e[3]-a)/c,NaN,NaN,NaN,NaN,(e[4]-i)/o,(e[5]-a)/c,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(e[16]-i)/o,(e[17]-a)/c,NaN,NaN,NaN,NaN,(e[14]-i)/o,(e[15]-a)/c],0),this.newFreeDrawOutline(m,t,this.#t,this.#h,this.#n,this.#i)}#S(t,e){const i=this.#e;return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6}#T(t,e){const i=this.#s.subarray(4,6),a=this.#s.subarray(16,18),[o,c,u,h]=this.#t,[f,p,m,v]=this.#g();return t.set([NaN,NaN,NaN,NaN,(i[0]-o)/u,(i[1]-c)/h,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,m,v,NaN,NaN,NaN,NaN,(a[0]-o)/u,(a[1]-c)/h],e),e+=24}}class IS extends wt{#t;#e=new Float32Array(4);#n;#i;#r;#s;#l;constructor(t,e,i,a,o,c){super(),this.#l=t,this.#r=e,this.#t=i,this.#s=a,this.#n=o,this.#i=c,this.lastPoint=[NaN,NaN],this.#o(c);const[u,h,f,p]=this.#e;for(let m=0,v=t.length;m<v;m+=2)t[m]=(t[m]-u)/f,t[m+1]=(t[m+1]-h)/p;for(let m=0,v=e.length;m<v;m+=2)e[m]=(e[m]-u)/f,e[m+1]=(e[m+1]-h)/p}toSVGPath(){const t=[`M${this.#l[4]} ${this.#l[5]}`];for(let e=6,i=this.#l.length;e<i;e+=6){if(isNaN(this.#l[e])){t.push(`L${this.#l[e+4]} ${this.#l[e+5]}`);continue}t.push(`C${this.#l[e]} ${this.#l[e+1]} ${this.#l[e+2]} ${this.#l[e+3]} ${this.#l[e+4]} ${this.#l[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,i,a],o){const c=i-t,u=a-e;let h,f;switch(o){case 0:h=wt._rescale(this.#l,t,a,c,-u),f=wt._rescale(this.#r,t,a,c,-u);break;case 90:h=wt._rescaleAndSwap(this.#l,t,e,c,u),f=wt._rescaleAndSwap(this.#r,t,e,c,u);break;case 180:h=wt._rescale(this.#l,i,e,-c,u),f=wt._rescale(this.#r,i,e,-c,u);break;case 270:h=wt._rescaleAndSwap(this.#l,i,a,-c,-u),f=wt._rescaleAndSwap(this.#r,i,a,-c,-u);break}return{outline:Array.from(h),points:[Array.from(f)]}}#o(t){const e=this.#l;let i=e[4],a=e[5];const o=[i,a,i,a];let c=i,u=a;const h=t?Math.max:Math.min;for(let p=6,m=e.length;p<m;p+=6){const v=e[p+4],_=e[p+5];if(isNaN(e[p]))Nt.pointBoundingBox(v,_,o),u<_?(c=v,u=_):u===_&&(c=h(c,v));else{const S=[1/0,1/0,-1/0,-1/0];Nt.bezierBoundingBox(i,a,...e.slice(p,p+6),S),Nt.rectBoundingBox(...S,o),u<S[3]?(c=S[2],u=S[3]):u===S[3]&&(c=h(c,S[2]))}i=v,a=_}const f=this.#e;f[0]=o[0]-this.#n,f[1]=o[1]-this.#n,f[2]=o[2]-o[0]+2*this.#n,f[3]=o[3]-o[1]+2*this.#n,this.lastPoint=[c,u]}get box(){return this.#e}newOutliner(t,e,i,a,o,c=0){return new Eo(t,e,i,a,o,c)}getNewOutline(t,e){const[i,a,o,c]=this.#e,[u,h,f,p]=this.#t,m=o*f,v=c*p,_=i*f+u,S=a*p+h,E=this.newOutliner({x:this.#r[0]*m+_,y:this.#r[1]*v+S},this.#t,this.#s,t,this.#i,e??this.#n);for(let T=2;T<this.#r.length;T+=2)E.add({x:this.#r[T]*m+_,y:this.#r[T+1]*v+S});return E.getOutlines()}}class nb{#t;#e;#n=[];#i=[];constructor(t,e=0,i=0,a=!0){const o=[1/0,1/0,-1/0,-1/0],c=10**-4;for(const{x:_,y:S,width:E,height:T}of t){const C=Math.floor((_-e)/c)*c,N=Math.ceil((_+E+e)/c)*c,L=Math.floor((S-e)/c)*c,P=Math.ceil((S+T+e)/c)*c,M=[C,L,P,!0],I=[N,L,P,!1];this.#n.push(M,I),Nt.rectBoundingBox(C,L,N,P,o)}const u=o[2]-o[0]+2*i,h=o[3]-o[1]+2*i,f=o[0]-i,p=o[1]-i,m=this.#n.at(a?-1:-2),v=[m[0],m[2]];for(const _ of this.#n){const[S,E,T]=_;_[0]=(S-f)/u,_[1]=(E-p)/h,_[2]=(T-p)/h}this.#t=new Float32Array([f,p,u,h]),this.#e=v}getOutlines(){this.#n.sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#d(e)),this.#l(e)):(this.#o(e),t.push(...this.#d(e)));return this.#r(t)}#r(t){const e=[],i=new Set;for(const c of t){const[u,h,f]=c;e.push([u,h,c],[u,f,c])}e.sort((c,u)=>c[1]-u[1]||c[0]-u[0]);for(let c=0,u=e.length;c<u;c+=2){const h=e[c][2],f=e[c+1][2];h.push(f),f.push(h),i.add(h),i.add(f)}const a=[];let o;for(;i.size>0;){const c=i.values().next().value;let[u,h,f,p,m]=c;i.delete(c);let v=u,_=h;for(o=[u,f],a.push(o);;){let S;if(i.has(p))S=p;else if(i.has(m))S=m;else break;i.delete(S),[u,h,f,p,m]=S,v!==u&&(o.push(v,_,u,_===h?h:f),v=u),_=_===h?f:h}o.push(v,_)}return new lM(a,this.#t,this.#e)}#s(t){const e=this.#i;let i=0,a=e.length-1;for(;i<=a;){const o=i+a>>1,c=e[o][0];if(c===t)return o;c<t?i=o+1:a=o-1}return a+1}#l([,t,e]){const i=this.#s(t);this.#i.splice(i,0,[t,e])}#o([,t,e]){const i=this.#s(t);for(let a=i;a<this.#i.length;a++){const[o,c]=this.#i[a];if(o!==t)break;if(o===t&&c===e){this.#i.splice(a,1);return}}for(let a=i-1;a>=0;a--){const[o,c]=this.#i[a];if(o!==t)break;if(o===t&&c===e){this.#i.splice(a,1);return}}}#d(t){const[e,i,a]=t,o=[[e,i,a]],c=this.#s(a);for(let u=0;u<c;u++){const[h,f]=this.#i[u];for(let p=0,m=o.length;p<m;p++){const[,v,_]=o[p];if(!(f<=v||_<=h)){if(v>=h){if(_>f)o[p][1]=f;else{if(m===1)return[];o.splice(p,1),p--,m--}continue}o[p][2]=h,_>f&&o.push([e,f,_])}}}return o}}class lM extends wt{#t;#e;constructor(t,e,i){super(),this.#e=t,this.#t=e,this.lastPoint=i}toSVGPath(){const t=[];for(const e of this.#e){let[i,a]=e;t.push(`M${i} ${a}`);for(let o=2;o<e.length;o+=2){const c=e[o],u=e[o+1];c===i?(t.push(`V${u}`),a=u):u===a&&(t.push(`H${c}`),i=c)}t.push("Z")}return t.join(" ")}serialize([t,e,i,a],o){const c=[],u=i-t,h=a-e;for(const f of this.#e){const p=new Array(f.length);for(let m=0;m<f.length;m+=2)p[m]=t+f[m]*u,p[m+1]=a-f[m+1]*h;c.push(p)}return c}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class ib extends Eo{newFreeDrawOutline(t,e,i,a,o,c){return new cM(t,e,i,a,o,c)}}class cM extends IS{newOutliner(t,e,i,a,o,c=0){return new ib(t,e,i,a,o,c)}}class Oi{#t=null;#e=null;#n;#i=null;#r=!1;#s=!1;#l=null;#o;#d=null;#c=null;#h;static#u=null;static get _keyboardManager(){return ie(this,"_keyboardManager",new yd([[["Escape","mac+Escape"],Oi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Oi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Oi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Oi.prototype._moveToPrevious],[["Home","mac+Home"],Oi.prototype._moveToBeginning],[["End","mac+End"],Oi.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#s=!1,this.#h=re.HIGHLIGHT_COLOR,this.#l=t):(this.#s=!0,this.#h=re.HIGHLIGHT_DEFAULT_COLOR),this.#c=t?._uiManager||e,this.#o=this.#c._eventBus,this.#n=t?.color||this.#c?.highlightColors.values().next().value||"#FFFF98",Oi.#u||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=this.#c._signal;t.addEventListener("click",this.#m.bind(this),{signal:e}),t.addEventListener("keydown",this.#p.bind(this),{signal:e});const i=this.#e=document.createElement("span");return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=this.#n,t.append(i),t}renderMainDropdown(){const t=this.#i=this.#f();return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}#f(){const t=document.createElement("div"),e=this.#c._signal;t.addEventListener("contextmenu",rs,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,a]of this.#c.highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",a),o.title=i,o.setAttribute("data-l10n-id",Oi.#u[i]);const c=document.createElement("span");o.append(c),c.className="swatch",c.style.backgroundColor=a,o.setAttribute("aria-selected",a===this.#n),o.addEventListener("click",this.#a.bind(this,a),{signal:e}),t.append(o)}return t.addEventListener("keydown",this.#p.bind(this),{signal:e}),t}#a(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:this.#h,value:t})}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#m(t);return}const e=t.target.getAttribute("data-color");e&&this.#a(e,t)}_moveToNext(t){if(!this.#b){this.#m(t);return}if(t.target===this.#t){this.#i.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#i?.firstChild||t.target===this.#t){this.#b&&this._hideDropdownFromKeyboard();return}this.#b||this.#m(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#b){this.#m(t);return}this.#i.firstChild?.focus()}_moveToEnd(t){if(!this.#b){this.#m(t);return}this.#i.lastChild?.focus()}#p(t){Oi._keyboardManager.exec(this,t)}#m(t){if(this.#b){this.hideDropdown();return}if(this.#r=t.detail===0,this.#d||(this.#d=new AbortController,window.addEventListener("pointerdown",this.#g.bind(this),{signal:this.#c.combinedSignal(this.#d)})),this.#i){this.#i.classList.remove("hidden");return}const e=this.#i=this.#f();this.#t.append(e)}#g(t){this.#i?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#i?.classList.add("hidden"),this.#d?.abort(),this.#d=null}get#b(){return this.#i&&!this.#i.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#b){this.#l?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#r})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#i)return;const e=this.#c.highlightColors.values();for(const i of this.#i.children)i.setAttribute("aria-selected",e.next().value===t)}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#i?.remove(),this.#i=null}}class We extends Pt{#t=null;#e=0;#n;#i=null;#r=null;#s=null;#l=null;#o=0;#d=null;#c=null;#h=null;#u=!1;#f=null;#a;#p=null;#m="";#g;#b="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Vt.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=We.prototype;return ie(this,"_keyboardManager",new yd([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||We._defaultColor,this.#g=t.thickness||We._defaultThickness,this.#a=t.opacity||We._defaultOpacity,this.#n=t.boxes||null,this.#b=t.methodOfCreation||"",this.#m=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#u=!0,this.#y(t),this.#O()):this.#n&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#l=t.focusNode,this.#o=t.focusOffset,this.#v(),this.#O(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#u?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#g,methodOfCreation:this.#b}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#v(){const t=new nb(this.#n,.001);this.#c=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#c.box;const e=new nb(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#s=e.getOutlines();const{lastPoint:i}=this.#s;this.#f=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#y({highlightOutlines:t,highlightId:e,clipPathId:i}){this.#c=t;const a=1.5;if(this.#s=t.getNewOutline(this.#g/2+a,.0025),e>=0)this.#h=e,this.#i=i,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:We.#E(this.#c.box,(p-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:We.#E(this.#s.box,p),path:{d:this.#s.toSVGPath()}})}const[o,c,u,h]=t.box;switch(this.rotation){case 0:this.x=o,this.y=c,this.width=u,this.height=h;break;case 90:{const[p,m]=this.parentDimensions;this.x=c,this.y=1-o,this.width=u*m/p,this.height=h*p/m;break}case 180:this.x=1-o,this.y=1-c,this.width=u,this.height=h;break;case 270:{const[p,m]=this.parentDimensions;this.x=1-c,this.y=o,this.width=u*m/p,this.height=h*p/m;break}}const{lastPoint:f}=this.#s;this.#f=[(f[0]-o)/u,(f[1]-c)/h]}static initialize(t,e){Pt.initialize(t,e),We._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case re.HIGHLIGHT_DEFAULT_COLOR:We._defaultColor=e;break;case re.HIGHLIGHT_THICKNESS:We._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#f}updateParams(t,e){switch(t){case re.HIGHLIGHT_COLOR:this.#A(e);break;case re.HIGHLIGHT_THICKNESS:this.#S(e);break}}static get defaultPropertiesToUpdate(){return[[re.HIGHLIGHT_DEFAULT_COLOR,We._defaultColor],[re.HIGHLIGHT_THICKNESS,We._defaultThickness]]}get propertiesToUpdate(){return[[re.HIGHLIGHT_COLOR,this.color||We._defaultColor],[re.HIGHLIGHT_THICKNESS,this.#g||We._defaultThickness],[re.HIGHLIGHT_FREE,this.#u]]}#A(t){const e=(o,c)=>{this.color=o,this.#a=c,this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:o,"fill-opacity":c}}),this.#r?.updateColor(o)},i=this.color,a=this.#a;this.addCommands({cmd:e.bind(this,t,We._defaultOpacity),undo:e.bind(this,i,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:re.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}#S(t){const e=this.#g,i=a=>{this.#g=a,this.#T(a)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:re.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(this.#r=new Oi({editor:this}),t.addColorPicker(this.#r)),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#N())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#N())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#C(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#O(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#C():t&&(this.#O(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#T(t){if(!this.#u)return;this.#y({highlightOutlines:this.#c.getNewOutline(t/2)}),this.fixAndSetPosition();const[e,i]=this.parentDimensions;this.setDims(this.width*e,this.height*i)}#C(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#O(t=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#i}=t.drawLayer.draw({bbox:this.#c.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#a},rootClass:{highlight:!0,free:this.#u},path:{d:this.#c.toSVGPath()}},!1,!0),this.#p=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#u},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#u),this.#d&&(this.#d.style.clipPath=this.#i))}static#E([t,e,i,a],o){switch(o){case 90:return[1-e-a,t,a,i];case 180:return[1-t-i,1-e-a,i,a];case 270:return[e,1-t-i,a,i]}return[t,e,i,a]}rotate(t){const{drawLayer:e}=this.parent;let i;this.#u?(t=(t-this.rotation+360)%360,i=We.#E(this.#c.box,t)):i=We.#E([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#h,{bbox:i,root:{"data-main-rotation":t}}),e.updateProperties(this.#p,{bbox:We.#E(this.#s.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#m&&(t.setAttribute("aria-label",this.#m),t.setAttribute("role","mark")),this.#u?t.classList.add("free"):this.div.addEventListener("keydown",this.#D.bind(this),{signal:this._uiManager._signal});const e=this.#d=document.createElement("div");t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#i;const[i,a]=this.parentDimensions;return this.setDims(this.width*i,this.height*a),lS(this,this.#d,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#D(t){We._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#x(!0);break;case 1:case 3:this.#x(!1);break}}#x(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#l,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#u||this.#x(!1))}get _mustFixPosition(){return!this.#u}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!t}}))}#N(){return this.#u?this.rotation:0}#M(){if(this.#u)return null;const[t,e]=this.pageDimensions,[i,a]=this.pageTranslation,o=this.#n,c=new Float32Array(o.length*8);let u=0;for(const{x:h,y:f,width:p,height:m}of o){const v=h*t+i,_=(1-f)*e+a;c[u]=c[u+4]=v,c[u+1]=c[u+3]=_,c[u+2]=c[u+6]=v+p*t,c[u+5]=c[u+7]=_-m*e,u+=8}return c}#L(t){return this.#c.serialize(t,this.#N())}static startHighlighting(t,e,{target:i,x:a,y:o}){const{x:c,y:u,width:h,height:f}=i.getBoundingClientRect(),p=new AbortController,m=t.combinedSignal(p),v=_=>{p.abort(),this.#w(t,_)};window.addEventListener("blur",v,{signal:m}),window.addEventListener("pointerup",v,{signal:m}),window.addEventListener("pointerdown",Xe,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",rs,{signal:m}),i.addEventListener("pointermove",this.#j.bind(this,t),{signal:m}),this._freeHighlight=new ib({x:a,y:o},[c,u,h,f],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#j(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#w(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,i){let a=null;if(t instanceof MS){const{data:{quadPoints:S,rect:E,rotation:T,id:C,color:N,opacity:L,popupRef:P},parent:{page:{pageNumber:M}}}=t;a=t={annotationType:Vt.HIGHLIGHT,color:Array.from(N),opacity:L,quadPoints:S,boxes:null,pageIndex:M-1,rect:E.slice(0),rotation:T,id:C,deleted:!1,popupRef:P}}else if(t instanceof Kb){const{data:{inkLists:S,rect:E,rotation:T,id:C,color:N,borderStyle:{rawWidth:L},popupRef:P},parent:{page:{pageNumber:M}}}=t;a=t={annotationType:Vt.HIGHLIGHT,color:Array.from(N),thickness:L,inkLists:S,boxes:null,pageIndex:M-1,rect:E.slice(0),rotation:T,id:C,deleted:!1,popupRef:P}}const{color:o,quadPoints:c,inkLists:u,opacity:h}=t,f=await super.deserialize(t,e,i);f.color=Nt.makeHexColor(...o),f.#a=h||1,u&&(f.#g=t.thickness),f.annotationElementId=t.id||null,f._initialData=a;const[p,m]=f.pageDimensions,[v,_]=f.pageTranslation;if(c){const S=f.#n=[];for(let E=0;E<c.length;E+=8)S.push({x:(c[E]-v)/p,y:1-(c[E+1]-_)/m,width:(c[E+2]-c[E])/p,height:(c[E+1]-c[E+5])/m});f.#v(),f.#O(),f.rotate(f.rotation)}else if(u){f.#u=!0;const S=u[0],E={x:S[0]-v,y:m-(S[1]-_)},T=new ib(E,[0,0,p,m],1,f.#g/2,!0,.001);for(let L=0,P=S.length;L<P;L+=2)E.x=S[L]-v,E.y=m-(S[L+1]-_),T.add(E);const{id:C,clipPathId:N}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:T.toSVGPath()}},!0,!0);f.#y({highlightOutlines:T.getOutlines(),highlightId:C,clipPathId:N}),f.#O(),f.rotate(f.parentRotation)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=this.getRect(0,0),i=Pt._colorManager.convert(this.color),a={annotationType:Vt.HIGHLIGHT,color:i,opacity:this.#a,thickness:this.#g,quadPoints:this.#M(),outlines:this.#L(e),pageIndex:this.pageIndex,rect:e,rotation:this.#N(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#_(a)?null:(a.id=this.annotationElementId,a)}#_(t){const{color:e}=this._initialData;return t.color.some((i,a)=>i!==e[a])}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class kS{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,i]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,i)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){Te("Not implemented")}}class Ft extends Pt{#t=null;#e;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#i=null;static#r=null;static#s=NaN;static#l=null;static#o=null;static#d=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(this.#c(t),this.#f())}#c({drawOutlines:t,drawId:e,drawingOptions:i}){this.#t=t,this._drawingOptions||=i,e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#h(t,this.parent),this.#m(t.box)}#h(t,e){const{id:i}=e.drawLayer.draw(Ft._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i}static _mergeSVGProperties(t,e){const i=new Set(Object.keys(t));for(const[a,o]of Object.entries(e))i.has(a)?Object.assign(t[a],o):t[a]=o;return t}static getDefaultDrawingOptions(t){Te("Not implemented")}static get typesMap(){Te("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,e),this._currentParent&&(Ft.#n.updateProperty(i,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[i,a]of this.typesMap)t.push([i,e[a]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[i,a]of this.constructor.typesMap)t.push([i,e[a]]);return t}_updateProperty(t,e,i){const a=this._drawingOptions,o=a[e],c=u=>{a.updateProperty(e,u);const h=this.#t.updateProperty(e,u);h&&this.#m(h),this.parent?.drawLayer.updateProperties(this._drawId,a.toSVGProperties())};this.addCommands({cmd:c.bind(this,i),undo:c.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Ft._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#p()),{bbox:this.#g()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Ft._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#p()),{bbox:this.#g()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#g()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Ft._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#g()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#u(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#m(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#u()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#u(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#h(this.#t,t)}}#a([t,e,i,a]){const{parentDimensions:[o,c],rotation:u}=this;switch(u){case 90:return[e,1-t,i*(c/o),a*(o/c)];case 180:return[1-t,1-e,i,a];case 270:return[1-e,t,i*(c/o),a*(o/c)];default:return[t,e,i,a]}}#p(){const{x:t,y:e,width:i,height:a,parentDimensions:[o,c],rotation:u}=this;switch(u){case 90:return[1-e,t,i*(o/c),a*(c/o)];case 180:return[1-t,1-e,i,a];case 270:return[e,1-t,i*(o/c),a*(c/o)];default:return[t,e,i,a]}}#m(t){if([this.x,this.y,this.width,this.height]=this.#a(t),this.div){this.fixAndSetPosition();const[e,i]=this.parentDimensions;this.setDims(this.width*e,this.height*i)}this._onResized()}#g(){const{x:t,y:e,width:i,height:a,rotation:o,parentRotation:c,parentDimensions:[u,h]}=this;switch((o*4+c)/90){case 1:return[1-e-a,t,a,i];case 2:return[1-t-i,1-e-a,i,a];case 3:return[e,1-t-i,a,i];case 4:return[t,e-i*(u/h),a*(h/u),i*(u/h)];case 5:return[1-e,t,i*(u/h),a*(h/u)];case 6:return[1-t-a*(h/u),1-e,a*(h/u),i*(u/h)];case 7:return[e-i*(u/h),1-t-a*(h/u),i*(u/h),a*(h/u)];case 8:return[t-i,e-a,i,a];case 9:return[1-e,t-i,a,i];case 10:return[1-t,1-e,i,a];case 11:return[e-a,1-t,a,i];case 12:return[t-a*(h/u),e,a*(h/u),i*(u/h)];case 13:return[1-e-i*(u/h),t-a*(h/u),i*(u/h),a*(h/u)];case 14:return[1-t,1-e-i*(u/h),a*(h/u),i*(u/h)];case 15:return[e,1-t,i*(u/h),a*(h/u)];default:return[t,e,i,a]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Ft._mergeSVGProperties({bbox:this.#g()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#m(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const i=super.render();i.classList.add("draw");const a=document.createElement("div");i.append(a),a.setAttribute("aria-hidden","true"),a.className="internal";const[o,c]=this.parentDimensions;return this.setDims(this.width*o,this.height*c),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),i}static createDrawerInstance(t,e,i,a,o){Te("Not implemented")}static startDrawing(t,e,i,a){const{target:o,offsetX:c,offsetY:u,pointerId:h,pointerType:f}=a;if(Ft.#l&&Ft.#l!==f)return;const{viewport:{rotation:p}}=t,{width:m,height:v}=o.getBoundingClientRect(),_=Ft.#i=new AbortController,S=t.combinedSignal(_);if(Ft.#s||=h,Ft.#l??=f,window.addEventListener("pointerup",E=>{Ft.#s===E.pointerId?this._endDraw(E):Ft.#o?.delete(E.pointerId)},{signal:S}),window.addEventListener("pointercancel",E=>{Ft.#s===E.pointerId?this._currentParent.endDrawingSession():Ft.#o?.delete(E.pointerId)},{signal:S}),window.addEventListener("pointerdown",E=>{Ft.#l===E.pointerType&&((Ft.#o||=new Set).add(E.pointerId),Ft.#n.isCancellable()&&(Ft.#n.removeLastElement(),Ft.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:S}),window.addEventListener("contextmenu",rs,{signal:S}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:S}),o.addEventListener("touchmove",E=>{E.timeStamp===Ft.#d&&Xe(E)},{signal:S}),t.toggleDrawing(),e._editorUndoBar?.hide(),Ft.#n){t.drawLayer.updateProperties(this._currentDrawId,Ft.#n.startNew(c,u,m,v,p));return}e.updateUIForDefaultProperties(this),Ft.#n=this.createDrawerInstance(c,u,m,v,p),Ft.#r=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(Ft.#r.toSVGProperties(),Ft.#n.defaultSVGProperties),!0,!1)}static _drawMove(t){if(Ft.#d=-1,!Ft.#n)return;const{offsetX:e,offsetY:i,pointerId:a}=t;if(Ft.#s===a){if(Ft.#o?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Ft.#n.add(e,i)),Ft.#d=t.timeStamp,Xe(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,Ft.#n=null,Ft.#r=null,Ft.#l=null,Ft.#d=NaN),Ft.#i&&(Ft.#i.abort(),Ft.#i=null,Ft.#s=NaN,Ft.#o=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,Ft.#n.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=Ft.#n,a=this._currentDrawId,o=i.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(a,i.setLastElement(o))},undo:()=>{e.drawLayer.updateProperties(a,i.removeLastElement())},mustExec:!1,type:re.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(re.DRAW_STEP),!Ft.#n.isEmpty()){const{pageDimensions:[i,a],scale:o}=e,c=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Ft.#n.getOutlines(i*o,a*o,o,this._INNER_MARGIN),drawingOptions:Ft.#r,mustBeCommitted:!t});return this._cleanup(!0),c}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,i,a,o,c){Te("Not implemented")}static async deserialize(t,e,i){const{rawDims:{pageWidth:a,pageHeight:o,pageX:c,pageY:u}}=e.viewport,h=this.deserializeDraw(c,u,a,o,this._INNER_MARGIN,t),f=await super.deserialize(t,e,i);return f.createDrawingOptions(t),f.#c({drawOutlines:h}),f.#f(),f.onScaleChanging(),f.rotate(),f}serializeDraw(t){const[e,i]=this.pageTranslation,[a,o]=this.pageDimensions;return this.#t.serialize([e,i,a,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class uM{#t=new Float64Array(6);#e;#n;#i;#r;#s;#l="";#o=0;#d=new Sd;#c;#h;constructor(t,e,i,a,o,c){this.#c=i,this.#h=a,this.#i=o,this.#r=c,[t,e]=this.#u(t,e);const u=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e],this.#n=[{line:u,points:this.#s}],this.#t.set(u,0)}updateProperty(t,e){t==="stroke-width"&&(this.#r=e)}#u(t,e){return wt._normalizePoint(t,e,this.#c,this.#h,this.#i)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#s.length<=10}add(t,e){[t,e]=this.#u(t,e);const[i,a,o,c]=this.#t.subarray(2,6),u=t-o,h=e-c;return Math.hypot(this.#c*u,this.#h*h)<=2?null:(this.#s.push(t,e),isNaN(i)?(this.#t.set([o,c,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([i,a,o,c,t,e],0),this.#e.push(...wt.createBezierPoints(i,a,o,c,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const i=this.add(t,e);return i||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,i,a,o){this.#c=i,this.#h=a,this.#i=o,[t,e]=this.#u(t,e);const c=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e];const u=this.#n.at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),this.#n.push({line:c,points:this.#s}),this.#t.set(c,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(t){return this.#n?(this.#n.push(t),this.#e=t.line,this.#s=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#d.setLastElement(t)}removeLastElement(){if(!this.#n)return this.#d.removeLastElement();this.#n.pop(),this.#l="";for(let t=0,e=this.#n.length;t<e;t++){const{line:i,points:a}=this.#n[t];this.#e=i,this.#s=a,this.#o=0,this.toSVGPath()}return{path:{d:this.#l}}}toSVGPath(){const t=wt.svgRound(this.#e[4]),e=wt.svgRound(this.#e[5]);if(this.#s.length===2)return this.#l=`${this.#l} M ${t} ${e} Z`,this.#l;if(this.#s.length<=6){const a=this.#l.lastIndexOf("M");this.#l=`${this.#l.slice(0,a)} M ${t} ${e}`,this.#o=6}if(this.#s.length===4){const a=wt.svgRound(this.#e[10]),o=wt.svgRound(this.#e[11]);return this.#l=`${this.#l} L ${a} ${o}`,this.#o=12,this.#l}const i=[];this.#o===0&&(i.push(`M ${t} ${e}`),this.#o=6);for(let a=this.#o,o=this.#e.length;a<o;a+=6){const[c,u,h,f,p,m]=this.#e.slice(a,a+6).map(wt.svgRound);i.push(`C${c} ${u} ${h} ${f} ${p} ${m}`)}return this.#l+=i.join(" "),this.#o=this.#e.length,this.#l}getOutlines(t,e,i,a){const o=this.#n.at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),this.#d.build(this.#n,t,e,i,this.#i,this.#r,a),this.#t=null,this.#e=null,this.#n=null,this.#l=null,this.#d}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Sd extends wt{#t;#e=0;#n;#i;#r;#s;#l;#o;#d;build(t,e,i,a,o,c,u){this.#r=e,this.#s=i,this.#l=a,this.#o=o,this.#d=c,this.#n=u??0,this.#i=t,this.#u()}get thickness(){return this.#d}setLastElement(t){return this.#i.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#i.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#i){if(t.push(`M${wt.svgRound(e[4])} ${wt.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${wt.svgRound(e[10])} ${wt.svgRound(e[11])}`);continue}for(let i=6,a=e.length;i<a;i+=6){const[o,c,u,h,f,p]=e.subarray(i,i+6).map(wt.svgRound);t.push(`C${o} ${c} ${u} ${h} ${f} ${p}`)}}return t.join("")}serialize([t,e,i,a],o){const c=[],u=[],[h,f,p,m]=this.#h();let v,_,S,E,T,C,N,L,P;switch(this.#o){case 0:P=wt._rescale,v=t,_=e+a,S=i,E=-a,T=t+h*i,C=e+(1-f-m)*a,N=t+(h+p)*i,L=e+(1-f)*a;break;case 90:P=wt._rescaleAndSwap,v=t,_=e,S=i,E=a,T=t+f*i,C=e+h*a,N=t+(f+m)*i,L=e+(h+p)*a;break;case 180:P=wt._rescale,v=t+i,_=e,S=-i,E=a,T=t+(1-h-p)*i,C=e+f*a,N=t+(1-h)*i,L=e+(f+m)*a;break;case 270:P=wt._rescaleAndSwap,v=t+i,_=e+a,S=-i,E=-a,T=t+(1-f-m)*i,C=e+(1-h-p)*a,N=t+(1-f)*i,L=e+(1-h)*a;break}for(const{line:M,points:I}of this.#i)c.push(P(M,v,_,S,E,o?new Array(M.length):null)),u.push(P(I,v,_,S,E,o?new Array(I.length):null));return{lines:c,points:u,rect:[T,C,N,L]}}static deserialize(t,e,i,a,o,{paths:{lines:c,points:u},rotation:h,thickness:f}){const p=[];let m,v,_,S,E;switch(h){case 0:E=wt._rescale,m=-t/i,v=e/a+1,_=1/i,S=-1/a;break;case 90:E=wt._rescaleAndSwap,m=-e/a,v=-t/i,_=1/a,S=1/i;break;case 180:E=wt._rescale,m=t/i+1,v=-e/a,_=-1/i,S=1/a;break;case 270:E=wt._rescaleAndSwap,m=e/a+1,v=t/i+1,_=-1/a,S=-1/i;break}if(!c){c=[];for(const C of u){const N=C.length;if(N===2){c.push(new Float32Array([NaN,NaN,NaN,NaN,C[0],C[1]]));continue}if(N===4){c.push(new Float32Array([NaN,NaN,NaN,NaN,C[0],C[1],NaN,NaN,NaN,NaN,C[2],C[3]]));continue}const L=new Float32Array(3*(N-2));c.push(L);let[P,M,I,F]=C.subarray(0,4);L.set([NaN,NaN,NaN,NaN,P,M],0);for(let q=4;q<N;q+=2){const Z=C[q],nt=C[q+1];L.set(wt.createBezierPoints(P,M,I,F,Z,nt),(q-2)*3),[P,M,I,F]=[I,F,Z,nt]}}}for(let C=0,N=c.length;C<N;C++)p.push({line:E(c[C].map(L=>L??NaN),m,v,_,S),points:E(u[C].map(L=>L??NaN),m,v,_,S)});const T=new this.prototype.constructor;return T.build(p,i,a,1,h,f,o),T}#c(t=this.#d){const e=this.#n+t/2*this.#l;return this.#o%180===0?[e/this.#r,e/this.#s]:[e/this.#s,e/this.#r]}#h(){const[t,e,i,a]=this.#t,[o,c]=this.#c(0);return[t+o,e+c,i-2*o,a-2*c]}#u(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:a}of this.#i){if(a.length<=12){for(let u=4,h=a.length;u<h;u+=6)Nt.pointBoundingBox(a[u],a[u+1],t);continue}let o=a[4],c=a[5];for(let u=6,h=a.length;u<h;u+=6){const[f,p,m,v,_,S]=a.subarray(u,u+6);Nt.bezierBoundingBox(o,c,f,p,m,v,_,S,t),o=_,c=S}}const[e,i]=this.#c();t[0]=Fn(t[0]-e,0,1),t[1]=Fn(t[1]-i,0,1),t[2]=Fn(t[2]+e,0,1),t[3]=Fn(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,i]=this.#c();this.#d=t;const[a,o]=this.#c(),[c,u]=[a-e,o-i],h=this.#t;return h[0]-=c,h[1]-=u,h[2]+=2*c,h[3]+=2*u,h}updateParentDimensions([t,e],i){const[a,o]=this.#c();this.#r=t,this.#s=e,this.#l=i;const[c,u]=this.#c(),h=c-a,f=u-o,p=this.#t;return p[0]-=h,p[1]-=f,p[2]+=2*h,p[3]+=2*f,p}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(wt.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${wt.svgRound(t)} ${wt.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let i=0,a=0,o=0,c=0,u=0,h=0;switch(this.#e){case 90:a=e/t,o=-t/e,u=t;break;case 180:i=-1,c=-1,u=t,h=e;break;case 270:a=-e/t,o=t/e,h=e;break;default:return""}return`matrix(${i} ${a} ${o} ${c} ${wt.svgRound(u)} ${wt.svgRound(h)})`}getPathResizingSVGProperties([t,e,i,a]){const[o,c]=this.#c(),[u,h,f,p]=this.#t;if(Math.abs(f-o)<=wt.PRECISION||Math.abs(p-c)<=wt.PRECISION){const E=t+i/2-(u+f/2),T=e+a/2-(h+p/2);return{path:{"transform-origin":`${wt.svgRound(t)} ${wt.svgRound(e)}`,transform:`${this.rotationTransform} translate(${E} ${T})`}}}const m=(i-2*o)/(f-2*o),v=(a-2*c)/(p-2*c),_=f/i,S=p/a;return{path:{"transform-origin":`${wt.svgRound(u)} ${wt.svgRound(h)}`,transform:`${this.rotationTransform} scale(${_} ${S}) translate(${wt.svgRound(o)} ${wt.svgRound(c)}) scale(${m} ${v}) translate(${wt.svgRound(-o)} ${wt.svgRound(-c)})`}}}getPathResizedSVGProperties([t,e,i,a]){const[o,c]=this.#c(),u=this.#t,[h,f,p,m]=u;if(u[0]=t,u[1]=e,u[2]=i,u[3]=a,Math.abs(p-o)<=wt.PRECISION||Math.abs(m-c)<=wt.PRECISION){const T=t+i/2-(h+p/2),C=e+a/2-(f+m/2);for(const{line:N,points:L}of this.#i)wt._translate(N,T,C,N),wt._translate(L,T,C,L);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${wt.svgRound(t)} ${wt.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(i-2*o)/(p-2*o),_=(a-2*c)/(m-2*c),S=-v*(h+o)+t+o,E=-_*(f+c)+e+c;if(v!==1||_!==1||S!==0||E!==0)for(const{line:T,points:C}of this.#i)wt._rescale(T,S,E,v,_,T),wt._rescale(C,S,E,v,_,C);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${wt.svgRound(t)} ${wt.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],i){const[a,o]=i,c=this.#t,u=t-c[0],h=e-c[1];if(this.#r===a&&this.#s===o)for(const{line:f,points:p}of this.#i)wt._translate(f,u,h,f),wt._translate(p,u,h,p);else{const f=this.#r/a,p=this.#s/o;this.#r=a,this.#s=o;for(const{line:m,points:v}of this.#i)wt._rescale(m,u,h,f,p,m),wt._rescale(v,u,h,f,p,v);c[2]*=f,c[3]*=p}return c[0]=t,c[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${wt.svgRound(t)} ${wt.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${wt.svgRound(t[0])} ${wt.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class hp extends kS{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:Pt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new hp(this._viewParameters);return t.updateAll(this),t}}class Zb extends Ft{static _type="ink";static _editorType=Vt.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){Pt.initialize(t,e),this._defaultDrawingOptions=new hp(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return ie(this,"typesMap",new Map([[re.INK_THICKNESS,"stroke-width"],[re.INK_COLOR,"stroke"],[re.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,i,a,o){return new uM(t,e,i,a,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,i,a,o,c){return Sd.deserialize(t,e,i,a,o,c)}static async deserialize(t,e,i){let a=null;if(t instanceof Kb){const{data:{inkLists:c,rect:u,rotation:h,id:f,color:p,opacity:m,borderStyle:{rawWidth:v},popupRef:_},parent:{page:{pageNumber:S}}}=t;a=t={annotationType:Vt.INK,color:Array.from(p),thickness:v,opacity:m,paths:{points:c},boxes:null,pageIndex:S-1,rect:u.slice(0),rotation:h,id:f,deleted:!1,popupRef:_}}const o=await super.deserialize(t,e,i);return o.annotationElementId=t.id||null,o._initialData=a,o}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:i}=this;e.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:i}){this._drawingOptions=Zb.getDefaultDrawingOptions({stroke:Nt.makeHexColor(...t),"stroke-width":e,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:i,rect:a}=this.serializeDraw(t),{_drawingOptions:{stroke:o,"stroke-opacity":c,"stroke-width":u}}=this,h={annotationType:Vt.INK,color:Pt._colorManager.convert(o),opacity:c,thickness:u,paths:{lines:e,points:i},pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(h.isCopy=!0,h):this.annotationElementId&&!this.#t(h)?null:(h.id=this.annotationElementId,h)}#t(t){const{color:e,thickness:i,opacity:a,pageIndex:o}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((c,u)=>c!==e[u])||t.thickness!==i||t.opacity!==a||t.pageIndex!==o}renderAnnotationElement(t){const{points:e,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:e}),null}}class sb extends Sd{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const Tf=8,Fu=3;class yo{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,i,a){return i-=t,a-=e,i===0?a>0?0:4:i===1?a+6:2-a}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#i(t,e,i,a,o,c,u){const h=this.#e(i,a,o,c);for(let f=0;f<8;f++){const p=(-f+h-u+16)%8,m=this.#n[2*p],v=this.#n[2*p+1];if(t[(i+m)*e+(a+v)]!==0)return p}return-1}static#r(t,e,i,a,o,c,u){const h=this.#e(i,a,o,c);for(let f=0;f<8;f++){const p=(f+h+u+16)%8,m=this.#n[2*p],v=this.#n[2*p+1];if(t[(i+m)*e+(a+v)]!==0)return p}return-1}static#s(t,e,i,a){const o=t.length,c=new Int32Array(o);for(let p=0;p<o;p++)c[p]=t[p]<=a?1:0;for(let p=1;p<i-1;p++)c[p*e]=c[p*e+e-1]=0;for(let p=0;p<e;p++)c[p]=c[e*i-1-p]=0;let u=1,h;const f=[];for(let p=1;p<i-1;p++){h=1;for(let m=1;m<e-1;m++){const v=p*e+m,_=c[v];if(_===0)continue;let S=p,E=m;if(_===1&&c[v-1]===0)u+=1,E-=1;else if(_>=1&&c[v+1]===0)u+=1,E+=1,_>1&&(h=_);else{_!==1&&(h=Math.abs(_));continue}const T=[m,p],C=E===m+1,N={isHole:C,points:T,id:u,parent:0};f.push(N);let L;for(const tt of f)if(tt.id===h){L=tt;break}L?L.isHole?N.parent=C?L.parent:h:N.parent=C?h:L.parent:N.parent=C?h:0;const P=this.#i(c,e,p,m,S,E,0);if(P===-1){c[v]=-u,c[v]!==1&&(h=Math.abs(c[v]));continue}let M=this.#n[2*P],I=this.#n[2*P+1];const F=p+M,q=m+I;S=F,E=q;let Z=p,nt=m;for(;;){const tt=this.#r(c,e,Z,nt,S,E,1);M=this.#n[2*tt],I=this.#n[2*tt+1];const ht=Z+M,vt=nt+I;T.push(vt,ht);const Et=Z*e+nt;if(c[Et+1]===0?c[Et]=-u:c[Et]===1&&(c[Et]=u),ht===p&&vt===m&&Z===F&&nt===q){c[v]!==1&&(h=Math.abs(c[v]));break}else S=Z,E=nt,Z=ht,nt=vt}}}return f}static#l(t,e,i,a){if(i-e<=4){for(let F=e;F<i-2;F+=2)a.push(t[F],t[F+1]);return}const o=t[e],c=t[e+1],u=t[i-4]-o,h=t[i-3]-c,f=Math.hypot(u,h),p=u/f,m=h/f,v=p*c-m*o,_=h/u,S=1/f,E=Math.atan(_),T=Math.cos(E),C=Math.sin(E),N=S*(Math.abs(T)+Math.abs(C)),L=S*(1-N+N**2),P=Math.max(Math.atan(Math.abs(C+T)*L),Math.atan(Math.abs(C-T)*L));let M=0,I=e;for(let F=e+2;F<i-2;F+=2){const q=Math.abs(v-p*t[F+1]+m*t[F]);q>M&&(I=F,M=q)}M>(f*P)**2?(this.#l(t,e,I+2,a),this.#l(t,I,i,a)):a.push(o,c)}static#o(t){const e=[],i=t.length;return this.#l(t,0,i,e),e.push(t[i-2],t[i-1]),e.length<=4?null:e}static#d(t,e,i,a,o,c){const u=new Float32Array(c**2),h=-2*a**2,f=c>>1;for(let E=0;E<c;E++){const T=(E-f)**2;for(let C=0;C<c;C++)u[E*c+C]=Math.exp((T+(C-f)**2)/h)}const p=new Float32Array(256),m=-2*o**2;for(let E=0;E<256;E++)p[E]=Math.exp(E**2/m);const v=t.length,_=new Uint8Array(v),S=new Uint32Array(256);for(let E=0;E<i;E++)for(let T=0;T<e;T++){const C=E*e+T,N=t[C];let L=0,P=0;for(let I=0;I<c;I++){const F=E+I-f;if(!(F<0||F>=i))for(let q=0;q<c;q++){const Z=T+q-f;if(Z<0||Z>=e)continue;const nt=t[F*e+Z],tt=u[I*c+q]*p[Math.abs(nt-N)];L+=nt*tt,P+=tt}}const M=_[C]=Math.round(L/P);S[M]++}return[_,S]}static#c(t){const e=new Uint32Array(256);for(const i of t)e[i]++;return e}static#h(t){const e=t.length,i=new Uint8ClampedArray(e>>2);let a=-1/0,o=1/0;for(let u=0,h=i.length;u<h;u++){if(t[(u<<2)+3]===0){a=i[u]=255;continue}const p=i[u]=t[u<<2];p>a&&(a=p),p<o&&(o=p)}const c=255/(a-o);for(let u=0;u<e;u++)i[u]=(i[u]-o)*c;return i}static#u(t){let e,i=-1/0,a=-1/0;const o=t.findIndex(h=>h!==0);let c=o,u=o;for(e=o;e<256;e++){const h=t[e];h>i&&(e-c>a&&(a=e-c,u=e-1),i=h,c=e)}for(e=u-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:i,height:a}=t,{maxDim:o}=this.#t;let c=i,u=a;if(i>o||a>o){let v=i,_=a,S=Math.log2(Math.max(i,a)/o);const E=Math.floor(S);S=S===E?E-1:E;for(let C=0;C<S;C++){c=Math.ceil(v/2),u=Math.ceil(_/2);const N=new OffscreenCanvas(c,u);N.getContext("2d").drawImage(t,0,0,v,_,0,0,c,u),v=c,_=u,t!==e&&t.close(),t=N.transferToImageBitmap()}const T=Math.min(o/c,o/u);c=Math.round(c*T),u=Math.round(u*T)}const f=new OffscreenCanvas(c,u).getContext("2d",{willReadFrequently:!0});f.filter="grayscale(1)",f.drawImage(t,0,0,t.width,t.height,0,0,c,u);const p=f.getImageData(0,0,c,u).data;return[this.#h(p),c,u]}static extractContoursFromText(t,{fontFamily:e,fontStyle:i,fontWeight:a},o,c,u,h){let f=new OffscreenCanvas(1,1),p=f.getContext("2d",{alpha:!1});const m=200,v=p.font=`${i} ${a} ${m}px ${e}`,{actualBoundingBoxLeft:_,actualBoundingBoxRight:S,actualBoundingBoxAscent:E,actualBoundingBoxDescent:T,fontBoundingBoxAscent:C,fontBoundingBoxDescent:N,width:L}=p.measureText(t),P=1.5,M=Math.ceil(Math.max(Math.abs(_)+Math.abs(S)||0,L)*P),I=Math.ceil(Math.max(Math.abs(E)+Math.abs(T)||m,Math.abs(C)+Math.abs(N)||m)*P);f=new OffscreenCanvas(M,I),p=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=v,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,M,I),p.fillStyle="black",p.fillText(t,M*(P-1)/2,I*(3-P)/2);const F=this.#h(p.getImageData(0,0,M,I).data),q=this.#c(F),Z=this.#u(q),nt=this.#s(F,M,I,Z);return this.processDrawnLines({lines:{curves:nt,width:M,height:I},pageWidth:o,pageHeight:c,rotation:u,innerMargin:h,mustSmooth:!0,areContours:!0})}static process(t,e,i,a,o){const[c,u,h]=this.#f(t),[f,p]=this.#d(c,u,h,Math.hypot(u,h)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),m=this.#u(p),v=this.#s(f,u,h,m);return this.processDrawnLines({lines:{curves:v,width:u,height:h},pageWidth:e,pageHeight:i,rotation:a,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:a,innerMargin:o,mustSmooth:c,areContours:u}){a%180!==0&&([e,i]=[i,e]);const{curves:h,width:f,height:p}=t,m=t.thickness??0,v=[],_=Math.min(e/f,i/p),S=_/e,E=_/i,T=[];for(const{points:N}of h){const L=c?this.#o(N):N;if(!L)continue;T.push(L);const P=L.length,M=new Float32Array(P),I=new Float32Array(3*(P===2?2:P-2));if(v.push({line:I,points:M}),P===2){M[0]=L[0]*S,M[1]=L[1]*E,I.set([NaN,NaN,NaN,NaN,M[0],M[1]],0);continue}let[F,q,Z,nt]=L;F*=S,q*=E,Z*=S,nt*=E,M.set([F,q,Z,nt],0),I.set([NaN,NaN,NaN,NaN,F,q],0);for(let tt=4;tt<P;tt+=2){const ht=M[tt]=L[tt]*S,vt=M[tt+1]=L[tt+1]*E;I.set(wt.createBezierPoints(F,q,Z,nt,ht,vt),(tt-2)*3),[F,q,Z,nt]=[Z,nt,ht,vt]}}if(v.length===0)return null;const C=u?new sb:new Sd;return C.build(v,e,i,1,a,u?0:m,o),{outline:C,newCurves:T,areContours:u,thickness:m,width:f,height:p}}static async compressSignature({outlines:t,areContours:e,thickness:i,width:a,height:o}){let c=1/0,u=-1/0,h=0;for(const L of t){h+=L.length;for(let P=2,M=L.length;P<M;P++){const I=L[P]-L[P-2];c=Math.min(c,I),u=Math.max(u,I)}}let f;c>=-128&&u<=127?f=Int8Array:c>=-32768&&u<=32767?f=Int16Array:f=Int32Array;const p=t.length,m=Tf+Fu*p,v=new Uint32Array(m);let _=0;v[_++]=m*Uint32Array.BYTES_PER_ELEMENT+(h-2*p)*f.BYTES_PER_ELEMENT,v[_++]=0,v[_++]=a,v[_++]=o,v[_++]=e?0:1,v[_++]=Math.max(0,Math.floor(i??0)),v[_++]=p,v[_++]=f.BYTES_PER_ELEMENT;for(const L of t)v[_++]=L.length-2,v[_++]=L[0],v[_++]=L[1];const S=new CompressionStream("deflate-raw"),E=S.writable.getWriter();await E.ready,E.write(v);const T=f.prototype.constructor;for(const L of t){const P=new T(L.length-2);for(let M=2,I=L.length;M<I;M++)P[M-2]=L[M]-L[M-2];E.write(P)}E.close();const C=await new Response(S.readable).arrayBuffer(),N=new Uint8Array(C);return sS(N)}static async decompressSignature(t){try{const e=jR(t),{readable:i,writable:a}=new DecompressionStream("deflate-raw"),o=a.getWriter();await o.ready,o.write(e).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let c=null,u=0;for await(const L of i)c||=new Uint8Array(new Uint32Array(L.buffer,0,4)[0]),c.set(L,u),u+=L.length;const h=new Uint32Array(c.buffer,0,c.length>>2),f=h[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const p=h[2],m=h[3],v=h[4]===0,_=h[5],S=h[6],E=h[7],T=[],C=(Tf+Fu*S)*Uint32Array.BYTES_PER_ELEMENT;let N;switch(E){case Int8Array.BYTES_PER_ELEMENT:N=new Int8Array(c.buffer,C);break;case Int16Array.BYTES_PER_ELEMENT:N=new Int16Array(c.buffer,C);break;case Int32Array.BYTES_PER_ELEMENT:N=new Int32Array(c.buffer,C);break}u=0;for(let L=0;L<S;L++){const P=h[Fu*L+Tf],M=new Float32Array(P+2);T.push(M);for(let I=0;I<Fu-1;I++)M[I]=h[Fu*L+Tf+I+1];for(let I=0;I<P;I++)M[I+2]=M[I]+N[u++]}return{areContours:v,thickness:_,outlines:T,width:p,height:m}}catch(e){return Yt(`decompressSignature: ${e}`),null}}}class Jb extends kS{constructor(){super(),super.updateProperties({fill:Pt._defaultLineColor,"stroke-width":0})}clone(){const t=new Jb;return t.updateAll(this),t}}class tv extends hp{constructor(t){super(t),super.updateProperties({stroke:Pt._defaultLineColor,"stroke-width":1})}clone(){const t=new tv(this._viewParameters);return t.updateAll(this),t}}class Ws extends Ft{#t=!1;#e=null;#n=null;#i=null;static _type="signature";static _editorType=Vt.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){Pt.initialize(t,e),this._defaultDrawingOptions=new Jb,this._defaultDrawnSignatureOptions=new tv(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return ie(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:a,mustSmooth:o,areContours:c,description:u,uuid:h,heightInPage:f}=this.#n,{rawDims:{pageWidth:p,pageHeight:m},rotation:v}=this.parent.viewport,_=yo.processDrawnLines({lines:a,pageWidth:p,pageHeight:m,rotation:v,innerMargin:Ws._INNER_MARGIN,mustSmooth:o,areContours:c});this.addSignature(_,f,u,h)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return i&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#i=t,this.addEditToolbar()}getUuid(){return this.#i}get description(){return this.#e}set description(t){this.#e=t,super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:i,width:a,height:o}=this.#n,c=Math.max(a,o),u=yo.processDrawnLines({lines:{curves:t.map(h=>({points:h})),thickness:i,width:a,height:o},pageWidth:c,pageHeight:c,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:u.outline}}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.signatureManager&&this.#e!==null&&(await t.addEditSignatureButton(this._uiManager.signatureManager,this.#i,this.#e),t.show()),t):null}addSignature(t,e,i,a){const{x:o,y:c}=this,{outline:u}=this.#n=t;this.#t=u instanceof sb,this.#e=i,this.div.setAttribute("data-l10n-args",JSON.stringify({description:i}));let h;this.#t?h=Ws.getDefaultDrawingOptions():(h=Ws._defaultDrawnSignatureOptions.clone(),h.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:h});const[f,p]=this.parentDimensions,[,m]=this.pageDimensions;let v=e/m;v=v>=1?.5:v,this.width*=v/this.height,this.width>=1&&(v*=.9/this.width,this.width=.9),this.height=v,this.setDims(f*this.width,p*this.height),this.x=o,this.y=c,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:i},rotation:a}=this.parent.viewport;return yo.process(t,e,i,a,Ws._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:i,pageHeight:a},rotation:o}=this.parent.viewport;return yo.extractContoursFromText(t,e,i,a,o,Ws._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:i},rotation:a}=this.parent.viewport;return yo.processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:a,innerMargin:Ws._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=Ws.getDefaultDrawingOptions():(this._drawingOptions=Ws._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:i,rect:a}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":o}}=this,c={annotationType:Vt.SIGNATURE,isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:o,pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(c.paths={lines:e,points:i},c.uuid=this.#i,c.isCopy=!0):c.lines=e,this.#e&&(c.accessibilityData={type:"Figure",alt:this.#e}),c}static deserializeDraw(t,e,i,a,o,c){return c.areContours?sb.deserialize(t,e,i,a,o,c):Sd.deserialize(t,e,i,a,o,c)}static async deserialize(t,e,i){const a=await super.deserialize(t,e,i);return a.#t=t.areContours,a.#e=t.accessibilityData?.alt||"",a.#i=t.uuid,a}}class dM extends Pt{#t=null;#e=null;#n=null;#i=null;#r=null;#s="";#l=null;#o=!1;#d=null;#c=!1;#h=!1;static _type="stamp";static _editorType=Vt.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#i=t.bitmapUrl,this.#r=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){Pt.initialize(t,e)}static isHandlingMimeForPasting(t){return zf.includes(t)}static paste(t,e){e.pasteEditor({mode:Vt.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#u(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#c=t.isSvg),t.file&&(this.#s=t.file.name),this.#p()}#f(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#l){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:o,height:c}=t||this.copyCanvas(null,null,!0).imageData,u=await i.guess({name:"altText",request:{data:a,width:o,height:c,channels:a.length/(o*c)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const h=u.output;return await this.setGuessedAltText(h),e&&!this.hasAltTextData()&&(this.altTextData={alt:h,decorative:!1}),h}#a(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(i=>this.#u(i,!0)).finally(()=>this.#f());return}if(this.#i){const i=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(i).then(a=>this.#u(a)).finally(()=>this.#f());return}if(this.#r){const i=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(i).then(a=>this.#u(a)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=zf.join(",");const e=this._uiManager._signal;this.#n=new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#u(a)}i()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#l?.remove(),this.#l=null,this.#d&&(clearTimeout(this.#d),this.#d=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#a();return}super.rebuild(),this.div!==null&&(this.#e&&this.#l===null&&this.#a(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#n||this.#t||this.#i||this.#r||this.#e||this.#o)}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),this.#o||(this.#t?this.#p():this.#a()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:i,bitmap:a}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(this.#e=i,a&&(this.#t=a),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#d!==null&&clearTimeout(this.#d);const t=200;this.#d=setTimeout(()=>{this.#d=null,this.#g()},t)}#p(){const{div:t}=this;let{width:e,height:i}=this.#t;const[a,o]=this.pageDimensions,c=.75;if(this.width)e=this.width*a,i=this.height*o;else if(e>c*a||i>c*o){const p=Math.min(c*a/e,c*o/i);e*=p,i*=p}const[u,h]=this.parentDimensions;this.setDims(e*u/a,i*h/o),this._uiManager.enableWaiting(!1);const f=this.#l=document.createElement("canvas");f.setAttribute("role","img"),this.addContainer(f),this.width=e/a,this.height=i/o,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#g(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s)}copyCanvas(t,e,i=!1){t||(t=224);const{width:a,height:o}=this.#t,c=new Es;let u=this.#t,h=a,f=o,p=null;if(e){if(a>e||o>e){const I=Math.min(e/a,e/o);h=Math.floor(a*I),f=Math.floor(o*I)}p=document.createElement("canvas");const v=p.width=Math.ceil(h*c.sx),_=p.height=Math.ceil(f*c.sy);this.#c||(u=this.#m(v,_));const S=p.getContext("2d");S.filter=this._uiManager.hcmFilter;let E="white",T="#cfcfd8";this._uiManager.hcmFilter!=="none"?T="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(E="#8f8f9d",T="#42414d");const C=15,N=C*c.sx,L=C*c.sy,P=new OffscreenCanvas(N*2,L*2),M=P.getContext("2d");M.fillStyle=E,M.fillRect(0,0,N*2,L*2),M.fillStyle=T,M.fillRect(0,0,N,L),M.fillRect(N,L,N,L),S.fillStyle=S.createPattern(P,"repeat"),S.fillRect(0,0,v,_),S.drawImage(u,0,0,u.width,u.height,0,0,v,_)}let m=null;if(i){let v,_;if(c.symmetric&&u.width<t&&u.height<t)v=u.width,_=u.height;else if(u=this.#t,a>t||o>t){const T=Math.min(t/a,t/o);v=Math.floor(a*T),_=Math.floor(o*T),this.#c||(u=this.#m(v,_))}const E=new OffscreenCanvas(v,_).getContext("2d",{willReadFrequently:!0});E.drawImage(u,0,0,u.width,u.height,0,0,v,_),m={width:v,height:_,data:E.getImageData(0,0,v,_).data}}return{canvas:p,width:h,height:f,imageData:m}}#m(t,e){const{width:i,height:a}=this.#t;let o=i,c=a,u=this.#t;for(;o>2*t||c>2*e;){const h=o,f=c;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),c>2*e&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const p=new OffscreenCanvas(o,c);p.getContext("2d").drawImage(u,0,0,h,f,0,0,o,c),u=p.transferToImageBitmap()}return u}#g(){const[t,e]=this.parentDimensions,{width:i,height:a}=this,o=new Es,c=Math.ceil(i*t*o.sx),u=Math.ceil(a*e*o.sy),h=this.#l;if(!h||h.width===c&&h.height===u)return;h.width=c,h.height=u;const f=this.#c?this.#t:this.#m(c,u),p=h.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,c,u)}#b(t){if(t){if(this.#c){const a=this._uiManager.imageManager.getSvgUrl(this.#e);if(a)return a}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#c){const[e,i]=this.pageDimensions,a=Math.round(this.width*e*Ro.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*Ro.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(a,o);return c.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,a,o),c.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,i){let a=null,o=!1;if(t instanceof LS){const{data:{rect:E,rotation:T,id:C,structParent:N,popupRef:L},container:P,parent:{page:{pageNumber:M}},canvas:I}=t;let F,q;I?(delete t.canvas,{id:F,bitmap:q}=i.imageManager.getFromCanvas(P.id,I),I.remove()):(o=!0,t._hasNoCanvas=!0);const Z=(await e._structTree.getAriaAttributes(`${Bb}${C}`))?.get("aria-label")||"";a=t={annotationType:Vt.STAMP,bitmapId:F,bitmap:q,pageIndex:M-1,rect:E.slice(0),rotation:T,id:C,deleted:!1,accessibilityData:{decorative:!1,altText:Z},isSvg:!1,structParent:N,popupRef:L}}const c=await super.deserialize(t,e,i),{rect:u,bitmap:h,bitmapUrl:f,bitmapId:p,isSvg:m,accessibilityData:v}=t;o?(i.addMissingCanvas(t.id,c),c.#o=!0):p&&i.imageManager.isValidId(p)?(c.#e=p,h&&(c.#t=h)):c.#i=f,c.#c=m;const[_,S]=c.pageDimensions;return c.width=(u[2]-u[0])/_,c.height=(u[3]-u[1])/S,c.annotationElementId=t.id||null,v&&(c.altTextData=v),c._initialData=a,c.#h=!!a,c}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:Vt.STAMP,bitmapId:this.#e,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=this.#b(!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:a,altText:o}=this.serializeAltText(!1);if(!a&&o&&(i.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const u=this.#v(i);if(u.isSame)return null;u.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,e===null)return i;e.stamps||=new Map;const c=this.#c?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:c,serialized:i}),i.bitmap=this.#b(!1);else if(this.#c){const u=e.stamps.get(this.#e);c>u.area&&(u.area=c,u.serialized.bitmap.close(),u.serialized.bitmap=this.#b(!1))}return i}#v(t){const{pageIndex:e,accessibilityData:{altText:i}}=this._initialData,a=t.pageIndex===e,o=(t.accessibilityData?.alt||"")===i;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&a&&o,isSameAltText:o}}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}class Ks{#t;#e=!1;#n=null;#i=null;#r=null;#s=new Map;#l=!1;#o=!1;#d=!1;#c=null;#h=null;#u=null;#f=null;#a;static _initialized=!1;static#p=new Map([on,Zb,dM,We,Ws].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:a,accessibilityManager:o,annotationLayer:c,drawLayer:u,textLayer:h,viewport:f,l10n:p}){const m=[...Ks.#p.values()];if(!Ks._initialized){Ks._initialized=!0;for(const v of m)v.initialize(p,t)}t.registerEditorTypes(m),this.#a=t,this.pageIndex=e,this.div=i,this.#t=o,this.#n=c,this.viewport=f,this.#u=h,this.drawLayer=u,this._structTree=a,this.#a.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#a.getMode()===Vt.NONE}updateToolbar(t){this.#a.updateToolbar(t)}updateMode(t=this.#a.getMode()){switch(this.#y(),t){case Vt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Vt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Vt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const i of Ks.#p.values())e.toggle(`${i._type}Editing`,t===i._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#u?.div}setEditingState(t){this.#a.setEditingState(t)}addCommands(t){this.#a.addCommands(t)}cleanUndoStack(t){this.#a.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#n?.div.classList.toggle("disabled",!t)}async enable(){this.#d=!0,this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const i of this.#s.values())i.enableEditing(),i.show(!0),i.annotationElementId&&(this.#a.removeChangedExistingAnnotation(i),t.add(i.annotationElementId));if(!this.#n){this.#d=!1;return}const e=this.#n.getEditableAnnotations();for(const i of e){if(i.hide(),this.#a.isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const a=await this.deserialize(i);a&&(this.addOrRebuild(a),a.enableEditing())}this.#d=!1}disable(){this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const a of this.#s.values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){t.set(a.annotationElementId,a);continue}else e.set(a.annotationElementId,a);this.getEditableAnnotation(a.annotationElementId)?.show(),a.remove()}if(this.#n){const a=this.#n.getEditableAnnotations();for(const o of a){const{id:c}=o.data;if(this.#a.isDeletedAnnotationElement(c))continue;let u=e.get(c);if(u){u.resetAnnotationElement(o),u.show(!1),o.show();continue}u=t.get(c),u&&(this.#a.addChangedExistingAnnotation(u),u.renderAnnotationElement(o)&&u.show(!1)),o.show()}}this.#y(),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const a of Ks.#p.values())i.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(t){return this.#n?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#a.getActive()!==t&&this.#a.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#u?.div&&!this.#f){this.#f=new AbortController;const t=this.#a.combinedSignal(this.#f);this.#u.div.addEventListener("pointerdown",this.#m.bind(this),{signal:t}),this.#u.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#u?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#u.div.classList.remove("highlighting"))}#m(t){this.#a.unselectAll();const{target:e}=t;if(e===this.#u.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#u.div.contains(e)){const{isMac:i}=pn.platform;if(t.button!==0||t.ctrlKey&&i)return;this.#a.showAllEditors("highlight",!0,!0),this.#u.div.classList.add("free"),this.toggleDrawing(),We.startHighlighting(this,this.#a.direction==="ltr",{target:this.#u.div,x:t.x,y:t.y}),this.#u.div.addEventListener("pointerup",()=>{this.#u.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#a._signal}),t.preventDefault()}}enableClick(){if(this.#i)return;this.#i=new AbortController;const t=this.#a.combinedSignal(this.#i);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#i?.abort(),this.#i=null}attach(t){this.#s.set(t.id,t);const{annotationElementId:e}=t;e&&this.#a.isDeletedAnnotationElement(e)&&this.#a.removeDeletedAnnotationElement(t)}detach(t){this.#s.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#a.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#a.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#a.addDeletedAnnotationElement(t.annotationElementId),Pt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#a.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#d),this.#a.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#r&&(t._focusEventsAllowed=!1,this.#r=setTimeout(()=>{this.#r=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#a._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getNextId(){return this.#a.getId()}get#g(){return Ks.#p.get(this.#a.getMode())}combinedSignal(t){return this.#a.combinedSignal(t)}#b(t){const e=this.#g;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#g?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#a.updateMode(t.mode);const{offsetX:i,offsetY:a}=this.#v(),o=this.getNextId(),c=this.#b({parent:this,id:o,x:i,y:a,uiManager:this.#a,isCentered:!0,...e});c&&this.add(c)}async deserialize(t){return await Ks.#p.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#a)||null}createAndAddNewEditor(t,e,i={}){const a=this.getNextId(),o=this.#b({parent:this,id:a,x:t.offsetX,y:t.offsetY,uiManager:this.#a,isCentered:e,...i});return o&&this.add(o),o}#v(){const{x:t,y:e,width:i,height:a}=this.div.getBoundingClientRect(),o=Math.max(0,t),c=Math.max(0,e),u=Math.min(window.innerWidth,t+i),h=Math.min(window.innerHeight,e+a),f=(o+u)/2-t,p=(c+h)/2-e,[m,v]=this.viewport.rotation%180===0?[f,p]:[p,f];return{offsetX:m,offsetY:v}}addNewEditor(t={}){this.createAndAddNewEditor(this.#v(),!0,t)}setSelected(t){this.#a.setSelected(t)}toggleSelected(t){this.#a.toggleSelected(t)}unselect(t){this.#a.unselect(t)}pointerup(t){const{isMac:e}=pn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#l||(this.#l=!1,this.#g?.isDrawer&&this.#g.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const i=this.#a.getMode();if(i===Vt.STAMP||i===Vt.SIGNATURE){this.#a.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#a.getMode()===Vt.HIGHLIGHT&&this.enableTextSelection(),this.#l){this.#l=!1;return}const{isMac:e}=pn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#l=!0,this.#g?.isDrawer){this.startDrawingSession(t);return}const i=this.#a.getActive();this.#e=!i||i.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#c){this.#g.startDrawing(this,this.#a,!1,t);return}this.#a.setCurrentDrawingSession(this),this.#c=new AbortController;const e=this.#a.combinedSignal(this.#c);this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(this.#h=null,this.commitOrRemove())},{signal:e}),this.#g.startDrawing(this,this.#a,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#h=e);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(t=!1){return this.#c?(this.#a.setCurrentDrawingSession(null),this.#c.abort(),this.#c=null,this.#h=null,this.#g.endDrawing(t)):null}findNewParent(t,e,i){const a=this.#a.findParent(e,i);return a===null||a===this?!1:(a.changeParent(t),!0)}commitOrRemove(){return this.#c?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#c&&this.#g.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#a.getActive()?.parent===this&&(this.#a.commitOrRemove(),this.#a.setActiveEditor(null)),this.#r&&(clearTimeout(this.#r),this.#r=null);for(const t of this.#s.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#s.clear(),this.#a.removeLayer(this)}#y(){for(const t of this.#s.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,Ha(this.div,t);for(const e of this.#a.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#a.commitOrRemove(),this.#y();const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,Ha(this.div,{rotation:i}),e!==i)for(const a of this.#s.values())a.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#a.viewParameters.realScale}}class fn{#t=null;#e=new Map;#n=new Map;static#i=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return ie(this,"_svgFactory",new nd)}static#r(t,[e,i,a,o]){const{style:c}=t;c.top=`${100*i}%`,c.left=`${100*e}%`,c.width=`${100*a}%`,c.height=`${100*o}%`}#s(){const t=fn._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#l(t,e){const i=fn._svgFactory.createElement("clipPath");t.append(i);const a=`clip_${e}`;i.setAttribute("id",a),i.setAttribute("clipPathUnits","objectBoundingBox");const o=fn._svgFactory.createElement("use");return i.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),a}#o(t,e){for(const[i,a]of Object.entries(e))a===null?t.removeAttribute(i):t.setAttribute(i,a)}draw(t,e=!1,i=!1){const a=fn.#i++,o=this.#s(),c=fn._svgFactory.createElement("defs");o.append(c);const u=fn._svgFactory.createElement("path");c.append(u);const h=`path_p${this.pageIndex}_${a}`;u.setAttribute("id",h),u.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#n.set(a,u);const f=i?this.#l(c,h):null,p=fn._svgFactory.createElement("use");return o.append(p),p.setAttribute("href",`#${h}`),this.updateProperties(o,t),this.#e.set(a,o),{id:a,clipPathId:`url(#${f})`}}drawOutline(t,e){const i=fn.#i++,a=this.#s(),o=fn._svgFactory.createElement("defs");a.append(o);const c=fn._svgFactory.createElement("path");o.append(c);const u=`path_p${this.pageIndex}_${i}`;c.setAttribute("id",u),c.setAttribute("vector-effect","non-scaling-stroke");let h;if(e){const m=fn._svgFactory.createElement("mask");o.append(m),h=`mask_p${this.pageIndex}_${i}`,m.setAttribute("id",h),m.setAttribute("maskUnits","objectBoundingBox");const v=fn._svgFactory.createElement("rect");m.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const _=fn._svgFactory.createElement("use");m.append(_),_.setAttribute("href",`#${u}`),_.setAttribute("stroke","none"),_.setAttribute("fill","black"),_.setAttribute("fill-rule","nonzero"),_.classList.add("mask")}const f=fn._svgFactory.createElement("use");a.append(f),f.setAttribute("href",`#${u}`),h&&f.setAttribute("mask",`url(#${h})`);const p=f.cloneNode();return a.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(a,t),this.#e.set(i,a),i}finalizeDraw(t,e){this.#n.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:i,bbox:a,rootClass:o,path:c}=e,u=typeof t=="number"?this.#e.get(t):t;if(u){if(i&&this.#o(u,i),a&&fn.#r(u,a),o){const{classList:h}=u;for(const[f,p]of Object.entries(o))h.toggle(f,p)}if(c){const f=u.firstChild.firstChild;this.#o(f,c)}}}updateParent(t,e){if(e===this)return;const i=this.#e.get(t);i&&(e.#t.append(i),this.#e.delete(t),e.#e.set(t,i))}remove(t){this.#n.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#n.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:nb};globalThis.pdfjsLib={AbortException:zr,AnnotationEditorLayer:Ks,AnnotationEditorParamsType:re,AnnotationEditorType:Vt,AnnotationEditorUIManager:$r,AnnotationLayer:Qb,AnnotationMode:Qs,AnnotationType:Ye,build:CS,ColorPicker:Oi,createValidAbsoluteUrl:Pb,DOMSVGFactory:nd,DrawLayer:fn,FeatureTest:pn,fetchData:sc,getDocument:qb,getFilenameFromUrl:rS,getPdfFilenameFromUrl:aS,getUuid:kb,getXfaPageViewport:oS,GlobalWorkerOptions:La,ImageKind:Yu,InvalidPDFException:jf,isDataScheme:vd,isPdfFile:up,isValidExplicitDest:dS,MathClamp:Fn,noContextMenu:rs,normalizeUnicode:iS,OPS:Zu,OutputScale:Es,PasswordResponses:eS,PDFDataRangeTransport:Wb,PDFDateString:Fb,PDFWorker:Xl,PermissionFlag:tS,PixelsPerInch:Ro,RenderingCancelledException:cp,ResponseException:Ju,setLayerDimensions:Ha,shadow:ie,SignatureExtractor:yo,stopEvent:Xe,SupportedImageMimeTypes:zf,TextLayer:td,TouchManager:_d,updateUrlHash:Ib,Util:Nt,VerbosityLevel:gd,version:xS,XfaLayer:Xb};const hM=Object.freeze(Object.defineProperty({__proto__:null,AbortException:zr,AnnotationEditorLayer:Ks,AnnotationEditorParamsType:re,AnnotationEditorType:Vt,AnnotationEditorUIManager:$r,AnnotationLayer:Qb,AnnotationMode:Qs,AnnotationType:Ye,ColorPicker:Oi,DOMSVGFactory:nd,DrawLayer:fn,FeatureTest:pn,GlobalWorkerOptions:La,ImageKind:Yu,InvalidPDFException:jf,MathClamp:Fn,OPS:Zu,OutputScale:Es,PDFDataRangeTransport:Wb,PDFDateString:Fb,PDFWorker:Xl,PasswordResponses:eS,PermissionFlag:tS,PixelsPerInch:Ro,RenderingCancelledException:cp,ResponseException:Ju,SignatureExtractor:yo,SupportedImageMimeTypes:zf,TextLayer:td,TouchManager:_d,Util:Nt,VerbosityLevel:gd,XfaLayer:Xb,build:CS,createValidAbsoluteUrl:Pb,fetchData:sc,getDocument:qb,getFilenameFromUrl:rS,getPdfFilenameFromUrl:aS,getUuid:kb,getXfaPageViewport:oS,isDataScheme:vd,isPdfFile:up,isValidExplicitDest:dS,noContextMenu:rs,normalizeUnicode:iS,setLayerDimensions:Ha,shadow:ie,stopEvent:Xe,updateUrlHash:Ib,version:xS},Symbol.toStringTag,{value:"Module"})),fM=["onCopy","onCut","onPaste"],pM=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],gM=["onFocus","onBlur"],mM=["onInput","onInvalid","onReset","onSubmit"],bM=["onLoad","onError"],vM=["onKeyDown","onKeyPress","onKeyUp"],yM=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],_M=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],AM=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],EM=["onSelect"],SM=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],wM=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],TM=["onScroll"],xM=["onWheel"],CM=["onAnimationStart","onAnimationEnd","onAnimationIteration"],DM=["onTransitionEnd"],OM=["onToggle"],RM=["onChange"],NM=[...fM,...pM,...gM,...mM,...bM,...vM,...yM,..._M,...AM,...EM,...SM,...wM,...TM,...xM,...CM,...DM,...RM,...OM];function BS(r,t){const e={};for(const i of NM){const a=r[i];a&&(t?e[i]=o=>a(o,t(i)):e[i]=a)}return e}function wd(r){let t=!1;return{promise:new Promise((i,a)=>{r.then(o=>!t&&i(o)).catch(o=>!t&&a(o))}),cancel(){t=!0}}}function FS(r){var t,e,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(t=0;t<a;t++)r[t]&&(e=FS(r[t]))&&(i&&(i+=" "),i+=e)}else for(e in r)r[e]&&(i&&(i+=" "),i+=e);return i}function fp(){for(var r,t,e=0,i="",a=arguments.length;e<a;e++)(r=arguments[e])&&(t=FS(r))&&(i&&(i+=" "),i+=t);return i}var MM="Invariant failed";function we(r,t){if(!r)throw new Error(MM)}var Tm,JA;function LM(){if(JA)return Tm;JA=1;var r=function(){};return Tm=r,Tm}var PM=LM();const Hn=gb(PM);var tE=Object.prototype.hasOwnProperty;function eE(r,t,e){for(e of r.keys())if(jl(e,t))return e}function jl(r,t){var e,i,a;if(r===t)return!0;if(r&&t&&(e=r.constructor)===t.constructor){if(e===Date)return r.getTime()===t.getTime();if(e===RegExp)return r.toString()===t.toString();if(e===Array){if((i=r.length)===t.length)for(;i--&&jl(r[i],t[i]););return i===-1}if(e===Set){if(r.size!==t.size)return!1;for(i of r)if(a=i,a&&typeof a=="object"&&(a=eE(t,a),!a)||!t.has(a))return!1;return!0}if(e===Map){if(r.size!==t.size)return!1;for(i of r)if(a=i[0],a&&typeof a=="object"&&(a=eE(t,a),!a)||!jl(i[1],t.get(a)))return!1;return!0}if(e===ArrayBuffer)r=new Uint8Array(r),t=new Uint8Array(t);else if(e===DataView){if((i=r.byteLength)===t.byteLength)for(;i--&&r.getInt8(i)===t.getInt8(i););return i===-1}if(ArrayBuffer.isView(r)){if((i=r.byteLength)===t.byteLength)for(;i--&&r[i]===t[i];);return i===-1}if(!e||typeof r=="object"){i=0;for(e in r)if(tE.call(r,e)&&++i&&!tE.call(t,e)||!(e in t)||!jl(r[e],t[e]))return!1;return Object.keys(t).length===i}}return r!==r&&t!==t}const HS=V.createContext(null);function zl({children:r,type:t}){return $.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:r})}const IM="noopener noreferrer nofollow";class kM{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return we(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){we(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{we(this.pdfDocument),we(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{we(Array.isArray(e));const i=e[0];new Promise(a=>{we(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(o=>{a(o)}).catch(()=>{we(!1)}):typeof i=="number"?a(i):we(!1)}).then(a=>{const o=a+1;we(this.pdfViewer),we(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:a,pageNumber:o})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;we(this.pdfViewer),we(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,i){t.href=e,t.rel=this.externalLinkRel||IM,t.target=i?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const nE={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},pp=typeof window<"u",jS=pp&&window.location.protocol==="file:";function BM(r){return typeof r<"u"}function mo(r){return BM(r)&&r!==null}function FM(r){return typeof r=="string"}function HM(r){return r instanceof ArrayBuffer}function jM(r){return we(pp),r instanceof Blob}function rb(r){return FM(r)&&/^data:/.test(r)}function iE(r){we(rb(r));const[t="",e=""]=r.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function zM(){return pp&&window.devicePixelRatio||1}const zS="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function sE(){Hn(!jS,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${zS}`)}function $M(){Hn(!jS,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${zS}`)}function Mo(r){r?.cancel&&r.cancel()}function ab(r,t){return Object.defineProperty(r,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(r,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(r,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(r,"originalHeight",{get(){return this.view[3]},configurable:!0}),r}function UM(r){return r.name==="RenderingCancelledException"}function GM(r){return new Promise((t,e)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return e(new Error("Error while reading a file."));t(i.result)},i.onerror=a=>{if(!a.target)return e(new Error("Error while reading a file."));const{error:o}=a.target;if(!o)return e(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},i.readAsArrayBuffer(r)})}function VM(r,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return r}}function Kl(){return V.useReducer(VM,{value:void 0,error:void 0})}var rE=function(r,t){var e={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(e[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(r);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(r,i[a])&&(e[i[a]]=r[i[a]]);return e};const{PDFDataRangeTransport:qM}=hM,YM=(r,t)=>{switch(t){case nE.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");r(e);break}case nE.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");r(e);break}}};function aE(r){return typeof r=="object"&&r!==null&&("data"in r||"range"in r||"url"in r)}const WM=V.forwardRef(function(t,e){var{children:i,className:a,error:o="Failed to load PDF file.",externalLinkRel:c,externalLinkTarget:u,file:h,inputRef:f,imageResourcesPath:p,loading:m="Loading PDF…",noData:v="No PDF file specified.",onItemClick:_,onLoadError:S,onLoadProgress:E,onLoadSuccess:T,onPassword:C=YM,onSourceError:N,onSourceSuccess:L,options:P,renderMode:M,rotate:I,scale:F}=t,q=rE(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate","scale"]);const[Z,nt]=Kl(),{value:tt,error:ht}=Z,[vt,Et]=Kl(),{value:bt,error:B}=vt,G=V.useRef(new kM),pt=V.useRef([]),xt=V.useRef(void 0),O=V.useRef(void 0);h&&h!==xt.current&&aE(h)&&(Hn(!jl(h,xt.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),xt.current=h),P&&P!==O.current&&(Hn(!jl(P,O.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),O.current=P);const et=V.useRef({scrollPageIntoView:Jt=>{const{dest:he,pageNumber:se,pageIndex:Ce=se-1}=Jt;if(_){_({dest:he,pageIndex:Ce,pageNumber:se});return}const ni=pt.current[Ce];if(ni){ni.scrollIntoView();return}Hn(!1,`An internal link leading to page ${se} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});V.useImperativeHandle(e,()=>({linkService:G,pages:pt,viewer:et}),[]);function ot(){L&&L()}function K(){ht&&(Hn(!1,ht.toString()),N&&N(ht))}function ct(){nt({type:"RESET"})}V.useEffect(ct,[h,nt]);const mt=V.useCallback(async()=>{if(!h)return null;if(typeof h=="string")return rb(h)?{data:iE(h)}:(sE(),{url:h});if(h instanceof qM)return{range:h};if(HM(h))return{data:h};if(pp&&jM(h))return{data:await GM(h)};if(we(typeof h=="object"),we(aE(h)),"url"in h&&typeof h.url=="string"){if(rb(h.url)){const{url:Jt}=h,he=rE(h,["url"]),se=iE(Jt);return Object.assign({data:se},he)}sE()}return h},[h]);V.useEffect(()=>{const Jt=wd(mt());return Jt.promise.then(he=>{nt({type:"RESOLVE",value:he})}).catch(he=>{nt({type:"REJECT",error:he})}),()=>{Mo(Jt)}},[mt,nt]),V.useEffect(()=>{if(!(typeof tt>"u")){if(tt===!1){K();return}ot()}},[tt]);function dt(){bt&&(T&&T(bt),pt.current=new Array(bt.numPages),G.current.setDocument(bt))}function Ct(){B&&(Hn(!1,B.toString()),S&&S(B))}V.useEffect(function(){Et({type:"RESET"})},[Et,tt]),V.useEffect(function(){if(!tt)return;const he=P?Object.assign(Object.assign({},tt),P):tt,se=qb(he);E&&(se.onProgress=E),C&&(se.onPassword=C);const Ce=se,ni=Ce.promise.then(ii=>{Et({type:"RESOLVE",value:ii})}).catch(ii=>{Ce.destroyed||Et({type:"REJECT",error:ii})});return()=>{ni.finally(()=>Ce.destroy())}},[P,Et,tt]),V.useEffect(()=>{if(!(typeof bt>"u")){if(bt===!1){Ct();return}dt()}},[bt]),V.useEffect(function(){G.current.setViewer(et.current),G.current.setExternalLinkRel(c),G.current.setExternalLinkTarget(u)},[c,u]);const lt=V.useCallback((Jt,he)=>{pt.current[Jt]=he},[]),Kt=V.useCallback(Jt=>{delete pt.current[Jt]},[]),Wt=V.useMemo(()=>({imageResourcesPath:p,linkService:G.current,onItemClick:_,pdf:bt,registerPage:lt,renderMode:M,rotate:I,scale:F,unregisterPage:Kt}),[p,_,bt,lt,M,I,F,Kt]),Re=V.useMemo(()=>BS(q,()=>bt),[q,bt]);function ae(){return $.jsx(HS.Provider,{value:Wt,children:i})}function Zt(){return h?bt==null?$.jsx(zl,{type:"loading",children:typeof m=="function"?m():m}):bt===!1?$.jsx(zl,{type:"error",children:typeof o=="function"?o():o}):ae():$.jsx(zl,{type:"no-data",children:typeof v=="function"?v():v})}return $.jsx("div",Object.assign({className:fp("react-pdf__Document",a),ref:f},Re,{children:Zt()}))});function $S(){return V.useContext(HS)}function US(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=r.filter(Boolean);if(e.length<=1){var i=e[0];return i||null}return function(o){for(var c=0,u=e;c<u.length;c++){var h=u[c];typeof h=="function"?h(o):h&&(h.current=o)}}}const GS=V.createContext(null),VS={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},XM=/^H(\d+)$/;function KM(r){return r in VS}function gp(r){return"children"in r}function qS(r){return gp(r)?r.children.length===1&&0 in r.children&&"id"in r.children[0]:!1}function QM(r){const t={};if(gp(r)){const{role:e}=r,i=e.match(XM);if(i)t.role="heading",t["aria-level"]=Number(i[1]);else if(KM(e)){const a=VS[e];a&&(t.role=a)}}return t}function YS(r){const t={};if(gp(r)){if(r.alt!==void 0&&(t["aria-label"]=r.alt),r.lang!==void 0&&(t.lang=r.lang),qS(r)){const[e]=r.children;if(e){const i=YS(e);return Object.assign(Object.assign({},t),i)}}}else"id"in r&&(t["aria-owns"]=r.id);return t}function ZM(r){return r?Object.assign(Object.assign({},QM(r)),YS(r)):null}function WS({className:r,node:t}){const e=V.useMemo(()=>ZM(t),[t]),i=V.useMemo(()=>!gp(t)||qS(t)?null:t.children.map((a,o)=>$.jsx(WS,{node:a},o)),[t]);return $.jsx("span",Object.assign({className:r},e,{children:i}))}function mp(){return V.useContext(GS)}function JM(){const r=mp();we(r);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=r,[i,a]=Kl(),{value:o,error:c}=i,{customTextRenderer:u,page:h}=r;function f(){o&&e&&e(o)}function p(){c&&(Hn(!1,c.toString()),t&&t(c))}return V.useEffect(function(){a({type:"RESET"})},[a,h]),V.useEffect(function(){if(u||!h)return;const v=wd(h.getStructTree()),_=v;return v.promise.then(S=>{a({type:"RESOLVE",value:S})}).catch(S=>{a({type:"REJECT",error:S})}),()=>Mo(_)},[u,h,a]),V.useEffect(()=>{if(o!==void 0){if(o===!1){p();return}f()}},[o]),o?$.jsx(WS,{className:"react-pdf__Page__structTree structTree",node:o}):null}const oE=Qs;function tL(r){const t=mp();we(t);const e=Object.assign(Object.assign({},t),r),{_className:i,canvasBackground:a,devicePixelRatio:o=zM(),onRenderError:c,onRenderSuccess:u,page:h,renderForms:f,renderTextLayer:p,rotate:m,scale:v}=e,{canvasRef:_}=r;we(h);const S=V.useRef(null);function E(){h&&u&&u(ab(h,v))}function T(P){UM(P)||(Hn(!1,P.toString()),c&&c(P))}const C=V.useMemo(()=>h.getViewport({scale:v*o,rotation:m}),[o,h,m,v]),N=V.useMemo(()=>h.getViewport({scale:v,rotation:m}),[h,m,v]);V.useEffect(function(){if(!h)return;h.cleanup();const{current:M}=S;if(!M)return;M.width=C.width,M.height=C.height,M.style.width=`${Math.floor(N.width)}px`,M.style.height=`${Math.floor(N.height)}px`,M.style.visibility="hidden";const I={annotationMode:f?oE.ENABLE_FORMS:oE.ENABLE,canvasContext:M.getContext("2d",{alpha:!1}),viewport:C};a&&(I.background=a);const F=h.render(I),q=F;return F.promise.then(()=>{M.style.visibility="",E()}).catch(T),()=>Mo(q)},[a,h,f,C,N]);const L=V.useCallback(()=>{const{current:P}=S;P&&(P.width=0,P.height=0)},[]);return V.useEffect(()=>L,[L]),$.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:US(_,S),style:{display:"block",userSelect:"none"},children:p?$.jsx(JM,{}):null})}function eL(r){return"str"in r}function nL(){const r=mp();we(r);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:i,onRenderTextLayerError:a,onRenderTextLayerSuccess:o,page:c,pageIndex:u,pageNumber:h,rotate:f,scale:p}=r;we(c);const[m,v]=Kl(),{value:_,error:S}=m,E=V.useRef(null);Hn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function T(){_&&i&&i(_)}function C(){S&&(Hn(!1,S.toString()),e&&e(S))}V.useEffect(function(){v({type:"RESET"})},[c,v]),V.useEffect(function(){if(!c)return;const q=wd(c.getTextContent()),Z=q;return q.promise.then(nt=>{v({type:"RESOLVE",value:nt})}).catch(nt=>{v({type:"REJECT",error:nt})}),()=>Mo(Z)},[c,v]),V.useEffect(()=>{if(_!==void 0){if(_===!1){C();return}T()}},[_]);const N=V.useCallback(()=>{o&&o()},[o]),L=V.useCallback(F=>{Hn(!1,F.toString()),a&&a(F)},[a]);function P(){const F=E.current;F&&F.classList.add("selecting")}function M(){const F=E.current;F&&F.classList.remove("selecting")}const I=V.useMemo(()=>c.getViewport({scale:p,rotation:f}),[c,f,p]);return V.useLayoutEffect(function(){if(!c||!_)return;const{current:q}=E;if(!q)return;q.innerHTML="";const Z=c.streamTextContent({includeMarkedContent:!0}),nt={container:q,textContentSource:Z,viewport:I},tt=new td(nt),ht=tt;return tt.render().then(()=>{const vt=document.createElement("div");vt.className="endOfContent",q.append(vt);const Et=q.querySelectorAll('[role="presentation"]');if(t){let bt=0;_.items.forEach((B,G)=>{if(!eL(B))return;const pt=Et[bt];if(!pt)return;const xt=t(Object.assign({pageIndex:u,pageNumber:h,itemIndex:G},B));pt.innerHTML=xt,bt+=B.str&&B.hasEOL?2:1})}N()}).catch(L),()=>Mo(ht)},[t,L,N,c,u,h,_,I]),$.jsx("div",{className:fp("react-pdf__Page__textContent","textLayer"),onMouseUp:M,onMouseDown:P,ref:E})}function iL(){const r=$S(),t=mp();we(t);const e=Object.assign(Object.assign({},r),t),{imageResourcesPath:i,linkService:a,onGetAnnotationsError:o,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:u,onRenderAnnotationLayerSuccess:h,page:f,pdf:p,renderForms:m,rotate:v,scale:_=1}=e;we(p),we(f),we(a);const[S,E]=Kl(),{value:T,error:C}=S,N=V.useRef(null);Hn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function L(){T&&c&&c(T)}function P(){C&&(Hn(!1,C.toString()),o&&o(C))}V.useEffect(function(){E({type:"RESET"})},[E,f]),V.useEffect(function(){if(!f)return;const Z=wd(f.getAnnotations()),nt=Z;return Z.promise.then(tt=>{E({type:"RESOLVE",value:tt})}).catch(tt=>{E({type:"REJECT",error:tt})}),()=>{Mo(nt)}},[E,f]),V.useEffect(()=>{if(T!==void 0){if(T===!1){P();return}L()}},[T]);function M(){h&&h()}function I(q){Hn(!1,`${q}`),u&&u(q)}const F=V.useMemo(()=>f.getViewport({scale:_,rotation:v}),[f,v,_]);return V.useEffect(function(){if(!p||!f||!a||!T)return;const{current:Z}=N;if(!Z)return;const nt=F.clone({dontFlip:!0}),tt={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:Z,l10n:null,page:f,structTreeLayer:null,viewport:nt},ht={annotations:T,annotationStorage:p.annotationStorage,div:Z,imageResourcesPath:i,linkService:a,page:f,renderForms:m,viewport:nt};Z.innerHTML="";try{new Qb(tt).render(ht),M()}catch(vt){I(vt)}return()=>{}},[T,i,a,f,p,m,F]),$.jsx("div",{className:fp("react-pdf__Page__annotations","annotationLayer"),ref:N})}var sL=function(r,t){var e={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(e[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(r);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(r,i[a])&&(e[i[a]]=r[i[a]]);return e};const lE=1;function rL(r){const t=$S(),e=Object.assign(Object.assign({},t),r),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:a=!0,canvasBackground:o,canvasRef:c,children:u,className:h,customRenderer:f,customTextRenderer:p,devicePixelRatio:m,error:v="Failed to load the page.",height:_,inputRef:S,loading:E="Loading page…",noData:T="No page specified.",onGetAnnotationsError:C,onGetAnnotationsSuccess:N,onGetStructTreeError:L,onGetStructTreeSuccess:P,onGetTextError:M,onGetTextSuccess:I,onLoadError:F,onLoadSuccess:q,onRenderAnnotationLayerError:Z,onRenderAnnotationLayerSuccess:nt,onRenderError:tt,onRenderSuccess:ht,onRenderTextLayerError:vt,onRenderTextLayerSuccess:Et,pageIndex:bt,pageNumber:B,pdf:G,registerPage:pt,renderAnnotationLayer:xt=!0,renderForms:O=!1,renderMode:et="canvas",renderTextLayer:ot=!0,rotate:K,scale:ct=lE,unregisterPage:mt,width:dt}=e,Ct=sL(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[lt,Kt]=Kl(),{value:Wt,error:Re}=lt,ae=V.useRef(null);we(G);const Zt=mo(B)?B-1:bt??null,Jt=B??(mo(bt)?bt+1:null),he=K??(Wt?Wt.rotate:null),se=V.useMemo(()=>{if(!Wt)return null;let Ne=1;const ln=ct??lE;if(dt||_){const Me=Wt.getViewport({scale:1,rotation:he});dt?Ne=dt/Me.width:_&&(Ne=_/Me.height)}return ln*Ne},[_,Wt,he,ct,dt]);V.useEffect(function(){return()=>{mo(Zt)&&a&&mt&&mt(Zt)}},[a,G,Zt,mt]);function Ce(){if(q){if(!Wt||!se)return;q(ab(Wt,se))}if(a&&pt){if(!mo(Zt)||!ae.current)return;pt(Zt,ae.current)}}function ni(){Re&&(Hn(!1,Re.toString()),F&&F(Re))}V.useEffect(function(){Kt({type:"RESET"})},[Kt,G,Zt]),V.useEffect(function(){if(!G||!Jt)return;const ln=wd(G.getPage(Jt)),Me=ln;return ln.promise.then(Fi=>{Kt({type:"RESOLVE",value:Fi})}).catch(Fi=>{Kt({type:"REJECT",error:Fi})}),()=>Mo(Me)},[Kt,G,Jt]),V.useEffect(()=>{if(Wt!==void 0){if(Wt===!1){ni();return}Ce()}},[Wt,se]);const ii=V.useMemo(()=>Wt&&mo(Zt)&&Jt&&mo(he)&&mo(se)?{_className:i,canvasBackground:o,customTextRenderer:p,devicePixelRatio:m,onGetAnnotationsError:C,onGetAnnotationsSuccess:N,onGetStructTreeError:L,onGetStructTreeSuccess:P,onGetTextError:M,onGetTextSuccess:I,onRenderAnnotationLayerError:Z,onRenderAnnotationLayerSuccess:nt,onRenderError:tt,onRenderSuccess:ht,onRenderTextLayerError:vt,onRenderTextLayerSuccess:Et,page:Wt,pageIndex:Zt,pageNumber:Jt,renderForms:O,renderTextLayer:ot,rotate:he,scale:se}:null,[i,o,p,m,C,N,L,P,M,I,Z,nt,tt,ht,vt,Et,Wt,Zt,Jt,O,ot,he,se]),Tn=V.useMemo(()=>BS(Ct,()=>Wt&&(se?ab(Wt,se):void 0)),[Ct,Wt,se]),xn=`${Zt}@${se}/${he}`;function Gr(){switch(et){case"custom":return we(f),$.jsx(f,{},`${xn}_custom`);case"none":return null;case"canvas":default:return $.jsx(tL,{canvasRef:c},`${xn}_canvas`)}}function er(){return ot?$.jsx(nL,{},`${xn}_text`):null}function Bi(){return xt?$.jsx(iL,{},`${xn}_annotations`):null}function zn(){return $.jsxs(GS.Provider,{value:ii,children:[Gr(),er(),Bi(),u]})}function bi(){return Jt?G===null||Wt===void 0||Wt===null?$.jsx(zl,{type:"loading",children:typeof E=="function"?E():E}):G===!1||Wt===!1?$.jsx(zl,{type:"error",children:typeof v=="function"?v():v}):zn():$.jsx(zl,{type:"no-data",children:typeof T=="function"?T():T})}return $.jsx("div",Object.assign({className:fp(i,h),"data-page-number":Jt,ref:US(S,ae),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${se}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Tn,{children:bi()}))}$M();La.workerSrc="pdf.worker.mjs";const xm=(r,t,e)=>Math.max(Math.min(r,e),t),aL=({areas:r,zoomScale:t,activeAreaId:e})=>$.jsx($.Fragment,{children:r.map(i=>!i.coordinates||i.id===e?null:$.jsx("div",{className:"position-absolute border",style:{left:i.coordinates.x*t,top:i.coordinates.y*t,width:i.coordinates.width*t,height:i.coordinates.height*t,backgroundColor:`${i.color}20`,borderColor:i.color,borderWidth:"2px",zIndex:10},title:i.name}))});/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lL=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),cE=r=>{const t=lL(r);return t.charAt(0).toUpperCase()+t.slice(1)},XS=(...r)=>r.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),cL=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=V.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:c,...u},h)=>V.createElement("svg",{ref:h,...uL,width:t,height:t,stroke:r,strokeWidth:i?Number(e)*24/Number(t):e,className:XS("lucide",a),...!o&&!cL(u)&&{"aria-hidden":"true"},...u},[...c.map(([f,p])=>V.createElement(f,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=(r,t)=>{const e=V.forwardRef(({className:i,...a},o)=>V.createElement(dL,{ref:o,iconNode:t,className:XS(`lucide-${oL(cE(r))}`,`lucide-${r}`,i),...a}));return e.displayName=cE(r),e};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],fL=jn("check",hL);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],gL=jn("chevron-left",pL);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],bL=jn("chevron-right",mL);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],yL=jn("circle-question-mark",vL);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],KS=jn("download",_L);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],EL=jn("eraser",AL);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],wL=jn("folder",SL);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],xL=jn("play",TL);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],DL=jn("plus",CL);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],RL=jn("save",OL);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=[["path",{d:"M14 21h1",key:"v9vybs"}],["path",{d:"M14 3h1",key:"1ec4yj"}],["path",{d:"M19 3a2 2 0 0 1 2 2",key:"18rm91"}],["path",{d:"M21 14v1",key:"169vum"}],["path",{d:"M21 19a2 2 0 0 1-2 2",key:"1j7049"}],["path",{d:"M21 9v1",key:"mxsmne"}],["path",{d:"M3 14v1",key:"vnatye"}],["path",{d:"M3 9v1",key:"1r0deq"}],["path",{d:"M5 21a2 2 0 0 1-2-2",key:"sbafld"}],["path",{d:"M5 3a2 2 0 0 0-2 2",key:"y57alp"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M7 16h6",key:"1vyc9m"}],["path",{d:"M7 8h8",key:"1jbsf9"}],["path",{d:"M9 21h1",key:"15o7lz"}],["path",{d:"M9 3h1",key:"1yesri"}]],ML=jn("text-select",NL);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],PL=jn("trash-2",LL);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],kL=jn("trash",IL);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],QS=jn("x",BL);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],HL=jn("zoom-in",FL);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],zL=jn("zoom-out",jL);La.workerSrc=new URL("/JS-Extrator-Dados-PDF/assets/pdf.worker.min-BFAMBS4k.mjs",import.meta.url).toString();const Cm=.5,Dm=3,$L=V.forwardRef(({file:r,isSelectingActive:t,activeAreaId:e,onFinishSelection:i,areas:a})=>{const o=V.useRef(null),[c,u]=V.useState(),[h,f]=V.useState(1),[p,m]=V.useState(!1),[v,_]=V.useState(null),[S,E]=V.useState(null),T=V.useRef(null),[C,N]=V.useState(1),[L,P]=V.useState(null),M=()=>{N(K=>Math.min(K+.25,Dm)),ot(0,0)},I=()=>{ot(0,0),N(K=>Math.max(K-.25,Cm))},[F,q]=V.useState({x:0,y:0}),[Z,nt]=V.useState(null),[tt,ht]=V.useState(!1);function vt(K){f(ct=>ct+K)}function Et(){vt(-1)}function bt(){vt(1)}const B=K=>{if(T.current){if(p&&S&&S.x>=10&&S.y>=10)m(!1),E(null),i(S);else if(!p){const ct=T.current.getBoundingClientRect(),mt=(K.clientX-ct.left)/C,dt=(K.clientY-ct.top)/C;_({x:mt,y:dt}),m(!0),E(null)}}},G=K=>{if(!T.current)return;const ct=T.current.getBoundingClientRect();nt({x:K.clientX-ct.left,y:K.clientY-ct.top}),ht(!0)},pt=V.useCallback(K=>{T.current&&(K.currentTarget.setPointerCapture(K.pointerId),t?B(K):G(K))},[p,S,C,t]),xt=V.useCallback(K=>{if(!T.current)return;const ct=T.current.getBoundingClientRect();if(tt){if(tt&&Z){const lt=K.clientX-ct.left-Z.x,Kt=K.clientY-ct.top-Z.y;ot(lt,Kt)}return}if(!p||!v)return;const mt=(K.clientX-ct.left)/C,dt=(K.clientY-ct.top)/C,Ct={x:Math.min(v.x,mt),y:Math.min(v.y,dt),width:Math.abs(v.x-mt),height:Math.abs(v.y-dt)};E(Ct)},[p,v,tt,Z]),O=V.useCallback(K=>{K.currentTarget.releasePointerCapture(K.pointerId),tt&&ht(!1)},[tt,G]);V.useEffect(()=>{t||et()},[t]);const et=()=>{m(!1),E(null),_(null)},ot=V.useCallback((K,ct)=>{const mt=document.querySelector(".pdf-container"),dt=mt?.getBoundingClientRect().width||600,Ct=mt?parseInt(getComputedStyle(mt).height):800,lt=T.current?.querySelector(".react-pdf__Page")?.getBoundingClientRect().width||dt,Kt=T.current?.querySelector(".react-pdf__Page")?.getBoundingClientRect().height||Ct,Wt=document.querySelector(".pdf-nav")?.getBoundingClientRect().height||40,Re=lt>=dt,ae=Kt>=Ct-Wt,Zt=Math.max(0,lt-dt),Jt=Math.max(0,Kt-Ct+Wt);q(he=>({x:Re?xm(he.x+K,-Zt,0):0,y:ae?xm(he.y+ct,-Jt,0):0}))},[]);return V.useEffect(()=>{if(!r)return;const K=document.querySelector(".pdf-container");if(!K)return;const ct=mt=>{mt.preventDefault();const dt=K.getBoundingClientRect(),Ct=(mt.clientX-dt.left)/dt.width,lt=(mt.clientY-dt.top)/dt.height,Kt=.1;N(Wt=>{const Re=mt.deltaY>0?-Kt:Kt,ae=xm(Wt+Re,Cm,Dm),Zt=T.current?.querySelector(".react-pdf__Page"),Jt=Zt?.getBoundingClientRect().width||0,he=Zt?.getBoundingClientRect().height||0,se=ae-Wt,Ce=Jt*se,ni=he*se,ii=Ce*Ct,Tn=ni*lt;return P({x:-ii,y:-Tn}),ae})};return K.addEventListener("wheel",ct,{passive:!1}),()=>{K.removeEventListener("wheel",ct)}},[r,C]),V.useEffect(()=>{L&&(ot(L.x,L.y),P(null))},[C]),r?$.jsx($.Fragment,{children:$.jsxs("div",{className:"pdf-container",style:{minWidth:"600px",height:"min(800px, 90vh)",overflow:"hidden",position:"relative",border:"2px solid black",marginTop:"30px",marginBottom:"15px"},children:[$.jsxs("div",{ref:T,className:`position-relative d-inline-block ${t?"pdf-cursor-crosshair":tt?"pdf-cursor-grabbing":"pdf-cursor-grab"}`,onPointerDown:pt,onPointerMove:xt,onPointerUp:O,style:{userSelect:"none",transform:`translate(${F.x}px, ${F.y}px)`},children:[$.jsx(WM,{file:r,onLoadSuccess:K=>{u(K.numPages),f(1),N(1),o.current=K},children:$.jsx(rL,{pageNumber:h,renderTextLayer:!1,renderAnnotationLayer:!1,scale:C})}),$.jsx(aL,{areas:a,zoomScale:C,activeAreaId:e}),S&&$.jsx("div",{className:"position-absolute border border-secondary",style:{left:S.x*C,top:S.y*C,width:S.width*C,height:S.height*C,backgroundColor:"rgba(134, 142, 135, 0.2)",zIndex:10}})]}),$.jsxs("div",{className:"pdf-nav position-absolute bottom-0 start-0 end-0 d-flex align-items-center",style:{backgroundColor:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(4px)",padding:"4px 12px"},children:[$.jsx("div",{className:"flex-grow-1 d-flex justify-content-center",children:$.jsxs("span",{className:"text-white small",children:["Página ",h||1," ",c&&`de ${c}`]})}),$.jsxs("div",{className:"d-flex gap-1",children:[$.jsx("button",{className:"pdf-nav-button",title:"Página anterior",onClick:Et,disabled:h<=1,children:$.jsx(gL,{size:24,color:"#d0d0d0"})}),$.jsx("button",{className:"pdf-nav-button",title:"Próxima página",onClick:bt,disabled:h>=(c??0),children:$.jsx(bL,{size:24,color:"#d0d0d0"})}),$.jsx("button",{className:"pdf-nav-button",onClick:I,disabled:C<=Cm,children:$.jsx(zL,{size:24,color:"#d0d0d0"})}),$.jsx("button",{className:"pdf-nav-button",onClick:M,disabled:C>=Dm,children:$.jsx(HL,{size:24,color:"#d0d0d0"})})]})]})]})}):$.jsx($.Fragment,{children:$.jsx("div",{className:"row",children:$.jsx("div",{className:"col-12 d-flex justify-content-center align-items-center",style:{minHeight:"50vh"},children:$.jsx("p",{className:"text-muted",children:"Carregue um pdf para ser exibido aqui"})})})})}),UL=({id:r,name:t,order:e,coordinates:i,color:a,hasFile:o,onStartSelection:c,onClearArea:u,onDeleteArea:h,onRenameArea:f})=>{const[p,m]=V.useState(!1),[v,_]=V.useState(t),S=V.useRef(null);V.useEffect(()=>{p&&S.current&&(S.current.focus(),S.current.select())},[p]);const E=()=>{c(r)},T=()=>{h(r)},C=()=>{u(r)},N=()=>{_(t),m(!0)},L=I=>{I.key==="Enter"&&P(),I.key==="Escape"&&M()},P=()=>{v.trim()&&v.trim()!==t?(f(r,v.trim()),m(!1)):M()},M=()=>{_(t),m(!1)};return $.jsxs("div",{className:"d-flex align-items-center gap-2 p-2 border rounded mb-1",children:[$.jsx("div",{className:"drag-handle",style:{cursor:"grab"},children:"⋮⋮"}),$.jsxs("span",{className:"badge me-2",style:{backgroundColor:a,color:"white"},children:["#",e]}),p?$.jsxs("div",{className:"d-flex align-items-center flex-grow-1",children:[$.jsx("input",{type:"text",className:"form-control form-control-sm me-2",value:v,onChange:I=>_(I.target.value),onKeyDown:L}),$.jsxs("div",{className:"d-flex gap-2",children:[$.jsx("button",{className:"menu-btn menu-btn-cta",title:"Confirmar",onClick:P,children:$.jsx(fL,{size:16})}),$.jsx("button",{className:"menu-btn menu-btn-warning",title:"Cancelar",onClick:M,children:$.jsx(QS,{size:16})})]})]}):$.jsxs($.Fragment,{children:[$.jsx("div",{className:"flex-grow-1 text-start area-name-section",children:$.jsx("span",{onClick:N,children:t})}),$.jsx("button",{className:"menu-btn menu-btn-cta",disabled:!o,onClick:E,children:$.jsx(ML,{size:16})}),i&&$.jsx("button",{className:"menu-btn menu-btn-alert",onClick:C,title:"Limpar seleção",children:$.jsx(EL,{size:16})}),$.jsx("button",{className:"menu-btn menu-btn-warning area-delete",onClick:T,title:"Excluir área",children:$.jsx(kL,{size:14})})]})]})},GL=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent),ZS=r=>Array.isArray(r)&&r.every(t=>typeof t=="object"&&!(t instanceof Array)),VL=r=>Array.isArray(r)&&r.every(t=>Array.isArray(t)),qL=r=>Array.from(r.map(t=>Object.keys(t)).reduce((t,e)=>new Set([...t,...e]),[])),YL=(r,t)=>{t=t||qL(r);let e=t,i=t;ZS(t)&&(e=t.map(o=>o.label),i=t.map(o=>o.key));const a=r.map(o=>i.map(c=>WL(c,o)));return[e,...a]},WL=(r,t)=>{const e=r.replace(/\[([^\]]+)]/g,".$1").split(".").reduce(function(i,a,o,c){const u=i[a];if(u==null)c.splice(1);else return u},t);return e===void 0?r in t?t[r]:"":e},XL=r=>typeof r>"u"||r===null?"":r,JS=(r,t=",",e='"')=>r.filter(i=>i).map(i=>i.map(a=>XL(a)).map(a=>`${e}${a}${e}`).join(t)).join(`
`),KL=(r,t,e,i)=>JS(t?[t,...r]:r,e,i),QL=(r,t,e,i)=>JS(YL(r,t),e,i),ZL=(r,t,e,i)=>t?`${t.join(e)}
${r}`:r.replace(/"/g,'""'),tw=(r,t,e,i)=>{if(ZS(r))return QL(r,t,e,i);if(VL(r))return KL(r,t,e,i);if(typeof r=="string")return ZL(r,t,e);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')},ew=(r,t,e,i,a)=>{const o=tw(r,e,i,a),c=GL()?"application/csv":"text/csv",u=new Blob([t?"\uFEFF":"",o],{type:c}),h=`data:${c};charset=utf-8,${t?"\uFEFF":""}${o}`,f=window.URL||window.webkitURL;return typeof f.createObjectURL>"u"?h:f.createObjectURL(u)};var Om={exports:{}},Rm,uE;function JL(){if(uE)return Rm;uE=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Rm=r,Rm}var Nm,dE;function tP(){if(dE)return Nm;dE=1;var r=JL();function t(){}function e(){}return e.resetWarningCache=t,Nm=function(){function i(c,u,h,f,p,m){if(m!==r){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}i.isRequired=i;function a(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:e,resetWarningCache:t};return o.PropTypes=o,o},Nm}var hE;function eP(){return hE||(hE=1,Om.exports=tP()()),Om.exports}var Qi=eP();const nw={data:Qi.oneOfType([Qi.string,Qi.array,Qi.func]).isRequired,headers:Qi.array,target:Qi.string,separator:Qi.string,filename:Qi.string,uFEFF:Qi.bool,onClick:Qi.func,asyncOnClick:Qi.bool,enclosingCharacter:Qi.string},iw={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},nP={target:"_blank"};class HF extends je.Component{static defaultProps=Object.assign(iw,nP);static propTypes=nw;constructor(t){super(t),this.state={}}buildURI(){return ew(...arguments)}componentDidMount(){const{data:t,headers:e,separator:i,enclosingCharacter:a,uFEFF:o,target:c,specs:u,replace:h}=this.props;this.state.page=window.open(this.buildURI(t,o,e,i,a),c,u,h)}getWindow(){return this.state.page}render(){return null}}let iP=class extends je.Component{static defaultProps=iw;static propTypes=nw;constructor(t){super(t),this.buildURI=this.buildURI.bind(this)}buildURI(){return ew(...arguments)}handleLegacy(t,e=!1){if(window.navigator.msSaveOrOpenBlob){t.preventDefault();const{data:i,headers:a,separator:o,filename:c,enclosingCharacter:u,uFEFF:h}=this.props,f=e&&typeof i=="function"?i():i;let p=new Blob([h?"\uFEFF":"",tw(f,a,o,u)]);return window.navigator.msSaveBlob(p,c),!1}}handleAsyncClick(t){const e=i=>{if(i===!1){t.preventDefault();return}this.handleLegacy(t,!0)};this.props.onClick(t,e)}handleSyncClick(t){if(this.props.onClick(t)===!1){t.preventDefault();return}this.handleLegacy(t)}handleClick(){return t=>{if(typeof this.props.onClick=="function")return this.props.asyncOnClick?this.handleAsyncClick(t):this.handleSyncClick(t);this.handleLegacy(t)}}render(){const{data:t,headers:e,separator:i,filename:a,uFEFF:o,children:c,onClick:u,asyncOnClick:h,enclosingCharacter:f,...p}=this.props,v=typeof window>"u"?"":this.buildURI(t,o,e,i,f);return $.jsx("a",{download:a,...p,ref:_=>this.link=_,target:"_self",href:v,onClick:this.handleClick(),children:c})}};const sP=iP;function rP({extractedTexts:r}){return r.length===0?$.jsx("div",{className:"border mt-2",children:$.jsx("p",{className:"text-muted m-4",children:"O texto extraído será exibido aqui"})}):$.jsxs($.Fragment,{children:[$.jsx("div",{style:{maxHeight:"50vh",overflowY:"auto"},className:"border mt-2",children:$.jsxs("table",{className:"table",children:[$.jsx("thead",{children:$.jsxs("tr",{children:[$.jsx("th",{scope:"col",children:"Página"}),$.jsx("th",{scope:"col",children:"Texto"})]})}),$.jsx("tbody",{children:r.map(t=>$.jsxs("tr",{children:[$.jsx("th",{scope:"row",children:t.pageNumber}),$.jsx("td",{children:t.text})]},t.pageNumber))})]})}),$.jsx(sP,{data:r,filename:"textos-extraidos.csv",className:"btn btn-outline-success m-3",children:"Download CSV"})]})}function aP({onFileSelect:r}){const t=e=>{e.target.files&&r(e.target.files[0])};return $.jsx("div",{children:$.jsx("input",{className:"form-control mb-2",type:"file",id:"pdf-file",name:"pdf-file",accept:".pdf",onChange:t})})}const fE="extrator-dados-pdf-presets",oP=({isOpen:r,onClose:t,currentAreas:e,onLoadPreset:i})=>{const[a,o]=V.useState(""),[c,u]=V.useState([]);V.useEffect(()=>{h()},[]);const h=()=>{try{const E=localStorage.getItem(fE);if(E){const T=JSON.parse(E);u(T)}}catch(E){console.error("Erro ao carregar presets:",E)}},f=E=>{try{localStorage.setItem(fE,JSON.stringify(E))}catch(T){console.error("Erro ao salvar presets:",T)}},p=()=>{if(!a.trim())return;if(e.length<=0){alert("Não é possível salvar um preset sem áreas");return}const E={name:a.trim(),areas:e},T=[...c,E];u(T),f(T),o("")},m=E=>{confirm("Isso vai substituir todas as áreas atuais. Continuar?")&&(i(E.areas),t())},v=E=>{if(!confirm("Tem certeza que deseja excluir este preset?"))return;const T=c.filter((C,N)=>N!==E);u(T),f(T)},_=E=>{const T=JSON.stringify(E,null,2),C=new Blob([T],{type:"application/json"}),N=URL.createObjectURL(C),L=document.createElement("a");L.href=N,L.download=`${E.name}.json`,L.click(),URL.revokeObjectURL(N)},S=E=>{const T=E.target.files?.[0];if(!T)return;const C=new FileReader;C.onload=N=>{try{const L=N.target?.result,P=JSON.parse(L);if(!P.name||!Array.isArray(P.areas)){alert("Arquivo JSON inválido!");return}const M=[...c,P];u(M),f(M),E.target.value="",alert(`Preset "${P.name}" importado com sucesso!`)}catch(L){alert("Erro ao ler arquivo JSON!"),console.error(L)}},C.readAsText(T)};return r?$.jsxs($.Fragment,{children:[$.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 bg-dark bg-opacity-50",style:{zIndex:1050},onClick:t}),$.jsxs("div",{className:"position-fixed top-50 start-50 translate-middle bg-white rounded shadow-lg p-4",style:{zIndex:1051,width:"500px",maxHeight:"80vh",overflowY:"auto"},children:[$.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[$.jsx("h5",{className:"mb-0",children:"Gerenciar Presets"}),$.jsx("button",{className:"btn btn-outline-secondary btn-sm",onClick:t,children:$.jsx(QS,{size:16})})]}),$.jsxs("div",{className:"mb-4 p-3 border rounded",children:[$.jsx("h6",{children:"Salvar Preset Atual"}),$.jsxs("div",{className:"d-flex gap-2",children:[$.jsx("input",{type:"text",className:"form-control",placeholder:"Nome do preset...",value:a,onChange:E=>o(E.target.value),onKeyDown:E=>E.key==="Enter"&&p()}),$.jsxs("button",{className:"btn btn-success",onClick:p,disabled:!a.trim()||e.length===0,children:[$.jsx(RL,{size:16,className:"me-1"}),"Salvar"]})]}),$.jsx("small",{className:"text-muted",children:e.length===0?"Nenhuma área para salvar":e.length===1?"1 área será salva":`${e.length} áreas serão salvas`})]}),$.jsxs("div",{className:"mb-4",children:[$.jsx("h6",{children:"Presets Salvos"}),c.length===0?$.jsx("p",{className:"text-muted",children:"Nenhum preset salvo ainda."}):c.map((E,T)=>$.jsxs("div",{className:"d-flex justify-content-between align-items-center p-2 border rounded mb-2",children:[$.jsxs("div",{children:[$.jsx("strong",{children:E.name}),$.jsx("br",{}),$.jsxs("small",{className:"text-muted",children:[E.areas.length," área(s)"]})]}),$.jsxs("div",{className:"d-flex gap-1",children:[$.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>m(E),title:"Carregar preset",children:$.jsx(xL,{size:14})}),$.jsx("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>_(E),title:"Download JSON",children:$.jsx(KS,{size:14})}),$.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>v(T),title:"Excluir preset",children:$.jsx(PL,{size:14})})]})]},T))]}),$.jsxs("div",{className:"p-3 border rounded",children:[$.jsx("h6",{children:"Importar Preset"}),$.jsx("input",{type:"file",className:"form-control",accept:".json",onChange:E=>{S(E)}})]})]})]}):null};var ev=JE();const lP=gb(ev);function Qn(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var cP=typeof Symbol=="function"&&Symbol.observable||"@@observable",pE=cP,gE=()=>Math.random().toString(36).substring(7).split("").join("."),uP={INIT:`@@redux/INIT${gE()}`,REPLACE:`@@redux/REPLACE${gE()}`},mE=uP;function dP(r){if(typeof r!="object"||r===null)return!1;let t=r;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(r)===t||Object.getPrototypeOf(r)===null}function sw(r,t,e){if(typeof r!="function")throw new Error(Qn(2));if(typeof t=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(Qn(0));if(typeof t=="function"&&typeof e>"u"&&(e=t,t=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(Qn(1));return e(sw)(r,t)}let i=r,a=t,o=new Map,c=o,u=0,h=!1;function f(){c===o&&(c=new Map,o.forEach((T,C)=>{c.set(C,T)}))}function p(){if(h)throw new Error(Qn(3));return a}function m(T){if(typeof T!="function")throw new Error(Qn(4));if(h)throw new Error(Qn(5));let C=!0;f();const N=u++;return c.set(N,T),function(){if(C){if(h)throw new Error(Qn(6));C=!1,f(),c.delete(N),o=null}}}function v(T){if(!dP(T))throw new Error(Qn(7));if(typeof T.type>"u")throw new Error(Qn(8));if(typeof T.type!="string")throw new Error(Qn(17));if(h)throw new Error(Qn(9));try{h=!0,a=i(a,T)}finally{h=!1}return(o=c).forEach(N=>{N()}),T}function _(T){if(typeof T!="function")throw new Error(Qn(10));i=T,v({type:mE.REPLACE})}function S(){const T=m;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Qn(11));function N(){const P=C;P.next&&P.next(p())}return N(),{unsubscribe:T(N)}},[pE](){return this}}}return v({type:mE.INIT}),{dispatch:v,subscribe:m,getState:p,replaceReducer:_,[pE]:S}}function bE(r,t){return function(...e){return t(r.apply(this,e))}}function vE(r,t){if(typeof r=="function")return bE(r,t);if(typeof r!="object"||r===null)throw new Error(Qn(16));const e={};for(const i in r){const a=r[i];typeof a=="function"&&(e[i]=bE(a,t))}return e}function rw(...r){return r.length===0?t=>t:r.length===1?r[0]:r.reduce((t,e)=>(...i)=>t(e(...i)))}function hP(...r){return t=>(e,i)=>{const a=t(e,i);let o=()=>{throw new Error(Qn(15))};const c={getState:a.getState,dispatch:(h,...f)=>o(h,...f)},u=r.map(h=>h(c));return o=rw(...u)(a.dispatch),{...a,dispatch:o}}}var Mm={exports:{}},Lm={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function fP(){if(yE)return Lm;yE=1;var r=Zf();function t(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var e=typeof Object.is=="function"?Object.is:t,i=r.useSyncExternalStore,a=r.useRef,o=r.useEffect,c=r.useMemo,u=r.useDebugValue;return Lm.useSyncExternalStoreWithSelector=function(h,f,p,m,v){var _=a(null);if(_.current===null){var S={hasValue:!1,value:null};_.current=S}else S=_.current;_=c(function(){function T(M){if(!C){if(C=!0,N=M,M=m(M),v!==void 0&&S.hasValue){var I=S.value;if(v(I,M))return L=I}return L=M}if(I=L,e(N,M))return I;var F=m(M);return v!==void 0&&v(I,F)?(N=M,I):(N=M,L=F)}var C=!1,N,L,P=p===void 0?null:p;return[function(){return T(f())},P===null?void 0:function(){return T(P())}]},[f,p,m,v]);var E=i(h,_[0],_[1]);return o(function(){S.hasValue=!0,S.value=E},[E]),u(E),E},Lm}var _E;function pP(){return _E||(_E=1,Mm.exports=fP()),Mm.exports}pP();var gP=V.version.startsWith("19"),mP=Symbol.for(gP?"react.transitional.element":"react.element"),bP=Symbol.for("react.portal"),vP=Symbol.for("react.fragment"),yP=Symbol.for("react.strict_mode"),_P=Symbol.for("react.profiler"),AP=Symbol.for("react.consumer"),EP=Symbol.for("react.context"),aw=Symbol.for("react.forward_ref"),SP=Symbol.for("react.suspense"),wP=Symbol.for("react.suspense_list"),nv=Symbol.for("react.memo"),TP=Symbol.for("react.lazy"),xP=aw,CP=nv;function DP(r){if(typeof r=="object"&&r!==null){const{$$typeof:t}=r;switch(t){case mP:switch(r=r.type,r){case vP:case _P:case yP:case SP:case wP:return r;default:switch(r=r&&r.$$typeof,r){case EP:case aw:case TP:case nv:return r;case AP:return r;default:return t}}case bP:return t}}}function OP(r){return DP(r)===nv}function RP(r,t,e,i,{areStatesEqual:a,areOwnPropsEqual:o,areStatePropsEqual:c}){let u=!1,h,f,p,m,v;function _(N,L){return h=N,f=L,p=r(h,f),m=t(i,f),v=e(p,m,f),u=!0,v}function S(){return p=r(h,f),t.dependsOnOwnProps&&(m=t(i,f)),v=e(p,m,f),v}function E(){return r.dependsOnOwnProps&&(p=r(h,f)),t.dependsOnOwnProps&&(m=t(i,f)),v=e(p,m,f),v}function T(){const N=r(h,f),L=!c(N,p);return p=N,L&&(v=e(p,m,f)),v}function C(N,L){const P=!o(L,f),M=!a(N,h,L,f);return h=N,f=L,P&&M?S():P?E():M?T():v}return function(L,P){return u?C(L,P):_(L,P)}}function NP(r,{initMapStateToProps:t,initMapDispatchToProps:e,initMergeProps:i,...a}){const o=t(r,a),c=e(r,a),u=i(r,a);return RP(o,c,u,r,a)}function MP(r,t){const e={};for(const i in r){const a=r[i];typeof a=="function"&&(e[i]=(...o)=>t(a(...o)))}return e}function ob(r){return function(e){const i=r(e);function a(){return i}return a.dependsOnOwnProps=!1,a}}function AE(r){return r.dependsOnOwnProps?!!r.dependsOnOwnProps:r.length!==1}function ow(r,t){return function(i,{displayName:a}){const o=function(u,h){return o.dependsOnOwnProps?o.mapToProps(u,h):o.mapToProps(u,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(u,h){o.mapToProps=r,o.dependsOnOwnProps=AE(r);let f=o(u,h);return typeof f=="function"&&(o.mapToProps=f,o.dependsOnOwnProps=AE(f),f=o(u,h)),f},o}}function iv(r,t){return(e,i)=>{throw new Error(`Invalid value of type ${typeof r} for ${t} argument when connecting component ${i.wrappedComponentName}.`)}}function LP(r){return r&&typeof r=="object"?ob(t=>MP(r,t)):r?typeof r=="function"?ow(r):iv(r,"mapDispatchToProps"):ob(t=>({dispatch:t}))}function PP(r){return r?typeof r=="function"?ow(r):iv(r,"mapStateToProps"):ob(()=>({}))}function IP(r,t,e){return{...e,...r,...t}}function kP(r){return function(e,{displayName:i,areMergedPropsEqual:a}){let o=!1,c;return function(h,f,p){const m=r(h,f,p);return o?a(m,c)||(c=m):(o=!0,c=m),c}}}function BP(r){return r?typeof r=="function"?kP(r):iv(r,"mergeProps"):()=>IP}function FP(r){r()}function HP(){let r=null,t=null;return{clear(){r=null,t=null},notify(){FP(()=>{let e=r;for(;e;)e.callback(),e=e.next})},get(){const e=[];let i=r;for(;i;)e.push(i),i=i.next;return e},subscribe(e){let i=!0;const a=t={callback:e,next:null,prev:t};return a.prev?a.prev.next=a:r=a,function(){!i||r===null||(i=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:r=a.next)}}}}var EE={notify(){},get:()=>[]};function lw(r,t){let e,i=EE,a=0,o=!1;function c(E){p();const T=i.subscribe(E);let C=!1;return()=>{C||(C=!0,T(),m())}}function u(){i.notify()}function h(){S.onStateChange&&S.onStateChange()}function f(){return o}function p(){a++,e||(e=t?t.addNestedSub(h):r.subscribe(h),i=HP())}function m(){a--,e&&a===0&&(e(),e=void 0,i.clear(),i=EE)}function v(){o||(o=!0,p())}function _(){o&&(o=!1,m())}const S={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:h,isSubscribed:f,trySubscribe:v,tryUnsubscribe:_,getListeners:()=>i};return S}var jP=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zP=jP(),$P=()=>typeof navigator<"u"&&navigator.product==="ReactNative",UP=$P(),GP=()=>zP||UP?V.useLayoutEffect:V.useEffect,$f=GP();function SE(r,t){return r===t?r!==0||t!==0||1/r===1/t:r!==r&&t!==t}function Pm(r,t){if(SE(r,t))return!0;if(typeof r!="object"||r===null||typeof t!="object"||t===null)return!1;const e=Object.keys(r),i=Object.keys(t);if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(!Object.prototype.hasOwnProperty.call(t,e[a])||!SE(r[e[a]],t[e[a]]))return!1;return!0}var VP={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},qP={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},YP={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},cw={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},WP={[xP]:YP,[CP]:cw};function wE(r){return OP(r)?cw:WP[r.$$typeof]||VP}var XP=Object.defineProperty,KP=Object.getOwnPropertyNames,TE=Object.getOwnPropertySymbols,QP=Object.getOwnPropertyDescriptor,ZP=Object.getPrototypeOf,xE=Object.prototype;function lb(r,t){if(typeof t!="string"){if(xE){const o=ZP(t);o&&o!==xE&&lb(r,o)}let e=KP(t);TE&&(e=e.concat(TE(t)));const i=wE(r),a=wE(t);for(let o=0;o<e.length;++o){const c=e[o];if(!qP[c]&&!(a&&a[c])&&!(i&&i[c])){const u=QP(t,c);try{XP(r,c,u)}catch{}}}}return r}var JP=Symbol.for("react-redux-context"),tI=typeof globalThis<"u"?globalThis:{};function eI(){if(!V.createContext)return{};const r=tI[JP]??=new Map;let t=r.get(V.createContext);return t||(t=V.createContext(null),r.set(V.createContext,t)),t}var uw=eI(),nI=[null,null];function iI(r,t,e){$f(()=>r(...t),e)}function sI(r,t,e,i,a,o){r.current=i,e.current=!1,a.current&&(a.current=null,o())}function rI(r,t,e,i,a,o,c,u,h,f,p){if(!r)return()=>{};let m=!1,v=null;const _=()=>{if(m||!u.current)return;const E=t.getState();let T,C;try{T=i(E,a.current)}catch(N){C=N,v=N}C||(v=null),T===o.current?c.current||f():(o.current=T,h.current=T,c.current=!0,p())};return e.onStateChange=_,e.trySubscribe(),_(),()=>{if(m=!0,e.tryUnsubscribe(),e.onStateChange=null,v)throw v}}function aI(r,t){return r===t}function oI(r,t,e,{pure:i,areStatesEqual:a=aI,areOwnPropsEqual:o=Pm,areStatePropsEqual:c=Pm,areMergedPropsEqual:u=Pm,forwardRef:h=!1,context:f=uw}={}){const p=f,m=PP(r),v=LP(t),_=BP(e),S=!!r;return T=>{const C=T.displayName||T.name||"Component",N=`Connect(${C})`,L={shouldHandleStateChanges:S,displayName:N,wrappedComponentName:C,WrappedComponent:T,initMapStateToProps:m,initMapDispatchToProps:v,initMergeProps:_,areStatesEqual:a,areStatePropsEqual:c,areOwnPropsEqual:o,areMergedPropsEqual:u};function P(F){const[q,Z,nt]=V.useMemo(()=>{const{reactReduxForwardedRef:ae,...Zt}=F;return[F.context,ae,Zt]},[F]),tt=V.useMemo(()=>{let ae=p;return q?.Consumer,ae},[q,p]),ht=V.useContext(tt),vt=!!F.store&&!!F.store.getState&&!!F.store.dispatch,Et=!!ht&&!!ht.store,bt=vt?F.store:ht.store,B=Et?ht.getServerState:bt.getState,G=V.useMemo(()=>NP(bt.dispatch,L),[bt]),[pt,xt]=V.useMemo(()=>{if(!S)return nI;const ae=lw(bt,vt?void 0:ht.subscription),Zt=ae.notifyNestedSubs.bind(ae);return[ae,Zt]},[bt,vt,ht]),O=V.useMemo(()=>vt?ht:{...ht,subscription:pt},[vt,ht,pt]),et=V.useRef(void 0),ot=V.useRef(nt),K=V.useRef(void 0),ct=V.useRef(!1),mt=V.useRef(!1),dt=V.useRef(void 0);$f(()=>(mt.current=!0,()=>{mt.current=!1}),[]);const Ct=V.useMemo(()=>()=>K.current&&nt===ot.current?K.current:G(bt.getState(),nt),[bt,nt]),lt=V.useMemo(()=>Zt=>pt?rI(S,bt,pt,G,ot,et,ct,mt,K,xt,Zt):()=>{},[pt]);iI(sI,[ot,et,ct,nt,K,xt]);let Kt;try{Kt=V.useSyncExternalStore(lt,Ct,B?()=>G(B(),nt):Ct)}catch(ae){throw dt.current&&(ae.message+=`
The error may be correlated with this previous error:
${dt.current.stack}

`),ae}$f(()=>{dt.current=void 0,K.current=void 0,et.current=Kt});const Wt=V.useMemo(()=>V.createElement(T,{...Kt,ref:Z}),[Z,T,Kt]);return V.useMemo(()=>S?V.createElement(tt.Provider,{value:O},Wt):Wt,[tt,Wt,O])}const I=V.memo(P);if(I.WrappedComponent=T,I.displayName=P.displayName=N,h){const q=V.forwardRef(function(nt,tt){return V.createElement(I,{...nt,reactReduxForwardedRef:tt})});return q.displayName=N,q.WrappedComponent=T,lb(q,T)}return lb(I,T)}}var dw=oI;function lI(r){const{children:t,context:e,serverState:i,store:a}=r,o=V.useMemo(()=>{const h=lw(a);return{store:a,subscription:h,getServerState:i?()=>i:void 0}},[a,i]),c=V.useMemo(()=>a.getState(),[a]);$f(()=>{const{subscription:h}=o;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),c!==a.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[o,c]);const u=e||uw;return V.createElement(u.Provider,{value:o},t)}var cI=lI,As=function(t){var e=t.top,i=t.right,a=t.bottom,o=t.left,c=i-o,u=a-e,h={top:e,right:i,bottom:a,left:o,width:c,height:u,x:o,y:e,center:{x:(i+o)/2,y:(a+e)/2}};return h},sv=function(t,e){return{top:t.top-e.top,left:t.left-e.left,bottom:t.bottom+e.bottom,right:t.right+e.right}},CE=function(t,e){return{top:t.top+e.top,left:t.left+e.left,bottom:t.bottom-e.bottom,right:t.right-e.right}},uI=function(t,e){return{top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}},Im={top:0,right:0,bottom:0,left:0},rv=function(t){var e=t.borderBox,i=t.margin,a=i===void 0?Im:i,o=t.border,c=o===void 0?Im:o,u=t.padding,h=u===void 0?Im:u,f=As(sv(e,a)),p=As(CE(e,c)),m=As(CE(p,h));return{marginBox:f,borderBox:As(e),paddingBox:p,contentBox:m,margin:a,border:c,padding:h}},Zi=function(t){var e=t.slice(0,-2),i=t.slice(-2);if(i!=="px")return 0;var a=Number(e);return isNaN(a)&&we(!1),a},dI=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Uf=function(t,e){var i=t.borderBox,a=t.border,o=t.margin,c=t.padding,u=uI(i,e);return rv({borderBox:u,border:a,margin:o,padding:c})},Gf=function(t,e){return e===void 0&&(e=dI()),Uf(t,e)},hw=function(t,e){var i={top:Zi(e.marginTop),right:Zi(e.marginRight),bottom:Zi(e.marginBottom),left:Zi(e.marginLeft)},a={top:Zi(e.paddingTop),right:Zi(e.paddingRight),bottom:Zi(e.paddingBottom),left:Zi(e.paddingLeft)},o={top:Zi(e.borderTopWidth),right:Zi(e.borderRightWidth),bottom:Zi(e.borderBottomWidth),left:Zi(e.borderLeftWidth)};return rv({borderBox:t,margin:i,padding:a,border:o})},fw=function(t){var e=t.getBoundingClientRect(),i=window.getComputedStyle(t);return hw(e,i)},id=function(t){var e=[],i=null,a=function(){for(var c=arguments.length,u=new Array(c),h=0;h<c;h++)u[h]=arguments[h];e=u,!i&&(i=requestAnimationFrame(function(){i=null,t.apply(void 0,e)}))};return a.cancel=function(){i&&(cancelAnimationFrame(i),i=null)},a};function Vf(){return Vf=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Vf.apply(null,arguments)}function pw(r,t){}pw.bind(null,"warn");pw.bind(null,"error");function Pa(){}function hI(r,t){return{...r,...t}}function ts(r,t,e){const i=t.map(a=>{const o=hI(e,a.options);return r.addEventListener(a.eventName,a.fn,o),function(){r.removeEventListener(a.eventName,a.fn,o)}});return function(){i.forEach(o=>{o()})}}const fI="Invariant failed";class qf extends Error{}qf.prototype.toString=function(){return this.message};function gt(r,t){throw new qf(fI)}class pI extends je.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Pa,this.onWindowError=e=>{const i=this.getCallbacks();i.isDragging()&&i.tryAbort(),e.error instanceof qf&&e.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=e=>{this.callbacks=e}}componentDidMount(){this.unbind=ts(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof qf){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const gI=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Yf=r=>r+1,mI=r=>`
  You have lifted an item in position ${Yf(r.source.index)}
`,gw=(r,t)=>{const e=r.droppableId===t.droppableId,i=Yf(r.index),a=Yf(t.index);return e?`
      You have moved the item from position ${i}
      to position ${a}
    `:`
    You have moved the item from position ${i}
    in list ${r.droppableId}
    to list ${t.droppableId}
    in position ${a}
  `},mw=(r,t,e)=>t.droppableId===e.droppableId?`
      The item ${r}
      has been combined with ${e.draggableId}`:`
      The item ${r}
      in list ${t.droppableId}
      has been combined with ${e.draggableId}
      in list ${e.droppableId}
    `,bI=r=>{const t=r.destination;if(t)return gw(r.source,t);const e=r.combine;return e?mw(r.draggableId,r.source,e):"You are over an area that cannot be dropped on"},DE=r=>`
  The item has returned to its starting position
  of ${Yf(r.index)}
`,vI=r=>{if(r.reason==="CANCEL")return`
      Movement cancelled.
      ${DE(r.source)}
    `;const t=r.destination,e=r.combine;return t?`
      You have dropped the item.
      ${gw(r.source,t)}
    `:e?`
      You have dropped the item.
      ${mw(r.draggableId,r.source,e)}
    `:`
    The item has been dropped while not over a drop area.
    ${DE(r.source)}
  `},If={dragHandleUsageInstructions:gI,onDragStart:mI,onDragUpdate:bI,onDragEnd:vI};function yI(r,t){return!!(r===t||Number.isNaN(r)&&Number.isNaN(t))}function bw(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;e++)if(!yI(r[e],t[e]))return!1;return!0}function de(r,t){const e=V.useState(()=>({inputs:t,result:r()}))[0],i=V.useRef(!0),a=V.useRef(e),c=i.current||!!(t&&a.current.inputs&&bw(t,a.current.inputs))?a.current:{inputs:t,result:r()};return V.useEffect(()=>{i.current=!1,a.current=c},[c]),c.result}function Rt(r,t){return de(()=>r,t)}const mn={x:0,y:0},wn=(r,t)=>({x:r.x+t.x,y:r.y+t.y}),Ni=(r,t)=>({x:r.x-t.x,y:r.y-t.y}),Ia=(r,t)=>r.x===t.x&&r.y===t.y,rc=r=>({x:r.x!==0?-r.x:0,y:r.y!==0?-r.y:0}),Lo=(r,t,e=0)=>r==="x"?{x:t,y:e}:{x:e,y:t},sd=(r,t)=>Math.sqrt((t.x-r.x)**2+(t.y-r.y)**2),OE=(r,t)=>Math.min(...t.map(e=>sd(r,e))),vw=r=>t=>({x:r(t.x),y:r(t.y)});var _I=(r,t)=>{const e=As({top:Math.max(t.top,r.top),right:Math.min(t.right,r.right),bottom:Math.min(t.bottom,r.bottom),left:Math.max(t.left,r.left)});return e.width<=0||e.height<=0?null:e};const Td=(r,t)=>({top:r.top+t.y,left:r.left+t.x,bottom:r.bottom+t.y,right:r.right+t.x}),RE=r=>[{x:r.left,y:r.top},{x:r.right,y:r.top},{x:r.left,y:r.bottom},{x:r.right,y:r.bottom}],AI={top:0,right:0,bottom:0,left:0},EI=(r,t)=>t?Td(r,t.scroll.diff.displacement):r,SI=(r,t,e)=>e&&e.increasedBy?{...r,[t.end]:r[t.end]+e.increasedBy[t.line]}:r,wI=(r,t)=>t&&t.shouldClipSubject?_I(t.pageMarginBox,r):As(r);var Ql=({page:r,withPlaceholder:t,axis:e,frame:i})=>{const a=EI(r.marginBox,i),o=SI(a,e,t),c=wI(o,i);return{page:r,withPlaceholder:t,active:c}},av=(r,t)=>{r.frame||gt();const e=r.frame,i=Ni(t,e.scroll.initial),a=rc(i),o={...e,scroll:{initial:e.scroll.initial,current:t,diff:{value:i,displacement:a},max:e.scroll.max}},c=Ql({page:r.subject.page,withPlaceholder:r.subject.withPlaceholder,axis:r.axis,frame:o});return{...r,frame:o,subject:c}};function gn(r,t=bw){let e=null;function i(...a){if(e&&e.lastThis===this&&t(a,e.lastArgs))return e.lastResult;const o=r.apply(this,a);return e={lastResult:o,lastArgs:a,lastThis:this},o}return i.clear=function(){e=null},i}const yw=gn(r=>r.reduce((t,e)=>(t[e.descriptor.id]=e,t),{})),_w=gn(r=>r.reduce((t,e)=>(t[e.descriptor.id]=e,t),{})),bp=gn(r=>Object.values(r)),TI=gn(r=>Object.values(r));var ac=gn((r,t)=>TI(t).filter(i=>r===i.descriptor.droppableId).sort((i,a)=>i.descriptor.index-a.descriptor.index));function ov(r){return r.at&&r.at.type==="REORDER"?r.at.destination:null}function vp(r){return r.at&&r.at.type==="COMBINE"?r.at.combine:null}var yp=gn((r,t)=>t.filter(e=>e.descriptor.id!==r.descriptor.id)),xI=({isMovingForward:r,draggable:t,destination:e,insideDestination:i,previousImpact:a})=>{if(!e.isCombineEnabled||!ov(a))return null;function c(_){const S={type:"COMBINE",combine:{draggableId:_,droppableId:e.descriptor.id}};return{...a,at:S}}const u=a.displaced.all,h=u.length?u[0]:null;if(r)return h?c(h):null;const f=yp(t,i);if(!h){if(!f.length)return null;const _=f[f.length-1];return c(_.descriptor.id)}const p=f.findIndex(_=>_.descriptor.id===h);p===-1&&gt();const m=p-1;if(m<0)return null;const v=f[m];return c(v.descriptor.id)},oc=(r,t)=>r.descriptor.droppableId===t.descriptor.id;const Aw={point:mn,value:0},rd={invisible:{},visible:{},all:[]},CI={displaced:rd,displacedBy:Aw,at:null};var ns=(r,t)=>e=>r<=e&&e<=t,Ew=r=>{const t=ns(r.top,r.bottom),e=ns(r.left,r.right);return i=>{if(t(i.top)&&t(i.bottom)&&e(i.left)&&e(i.right))return!0;const o=t(i.top)||t(i.bottom),c=e(i.left)||e(i.right);if(o&&c)return!0;const h=i.top<r.top&&i.bottom>r.bottom,f=i.left<r.left&&i.right>r.right;return h&&f?!0:h&&c||f&&o}},DI=r=>{const t=ns(r.top,r.bottom),e=ns(r.left,r.right);return i=>t(i.top)&&t(i.bottom)&&e(i.left)&&e(i.right)};const lv={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Sw={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var OI=r=>t=>{const e=ns(t.top,t.bottom),i=ns(t.left,t.right);return a=>r===lv?e(a.top)&&e(a.bottom):i(a.left)&&i(a.right)};const RI=(r,t)=>{const e=t.frame?t.frame.scroll.diff.displacement:mn;return Td(r,e)},NI=(r,t,e)=>t.subject.active?e(t.subject.active)(r):!1,MI=(r,t,e)=>e(t)(r),cv=({target:r,destination:t,viewport:e,withDroppableDisplacement:i,isVisibleThroughFrameFn:a})=>{const o=i?RI(r,t):r;return NI(o,t,a)&&MI(o,e,a)},LI=r=>cv({...r,isVisibleThroughFrameFn:Ew}),ww=r=>cv({...r,isVisibleThroughFrameFn:DI}),PI=r=>cv({...r,isVisibleThroughFrameFn:OI(r.destination.axis)}),II=(r,t,e)=>{if(typeof e=="boolean")return e;if(!t)return!0;const{invisible:i,visible:a}=t;if(i[r])return!1;const o=a[r];return o?o.shouldAnimate:!0};function kI(r,t){const e=r.page.marginBox,i={top:t.point.y,right:0,bottom:0,left:t.point.x};return As(sv(e,i))}function ad({afterDragging:r,destination:t,displacedBy:e,viewport:i,forceShouldAnimate:a,last:o}){return r.reduce(function(u,h){const f=kI(h,e),p=h.descriptor.id;if(u.all.push(p),!LI({target:f,destination:t,viewport:i,withDroppableDisplacement:!0}))return u.invisible[h.descriptor.id]=!0,u;const v=II(p,o,a),_={draggableId:p,shouldAnimate:v};return u.visible[p]=_,u},{all:[],visible:{},invisible:{}})}function BI(r,t){if(!r.length)return 0;const e=r[r.length-1].descriptor.index;return t.inHomeList?e:e+1}function NE({insideDestination:r,inHomeList:t,displacedBy:e,destination:i}){const a=BI(r,{inHomeList:t});return{displaced:rd,displacedBy:e,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:a}}}}function Wf({draggable:r,insideDestination:t,destination:e,viewport:i,displacedBy:a,last:o,index:c,forceShouldAnimate:u}){const h=oc(r,e);if(c==null)return NE({insideDestination:t,inHomeList:h,displacedBy:a,destination:e});const f=t.find(S=>S.descriptor.index===c);if(!f)return NE({insideDestination:t,inHomeList:h,displacedBy:a,destination:e});const p=yp(r,t),m=t.indexOf(f),v=p.slice(m);return{displaced:ad({afterDragging:v,destination:e,displacedBy:a,last:o,viewport:i.frame,forceShouldAnimate:u}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:e.descriptor.id,index:c}}}}function ja(r,t){return!!t.effected[r]}var FI=({isMovingForward:r,destination:t,draggables:e,combine:i,afterCritical:a})=>{if(!t.isCombineEnabled)return null;const o=i.draggableId,u=e[o].descriptor.index;return ja(o,a)?r?u:u-1:r?u+1:u},HI=({isMovingForward:r,isInHomeList:t,insideDestination:e,location:i})=>{if(!e.length)return null;const a=i.index,o=r?a+1:a-1,c=e[0].descriptor.index,u=e[e.length-1].descriptor.index,h=t?u:u+1;return o<c||o>h?null:o},jI=({isMovingForward:r,isInHomeList:t,draggable:e,draggables:i,destination:a,insideDestination:o,previousImpact:c,viewport:u,afterCritical:h})=>{const f=c.at;if(f||gt(),f.type==="REORDER"){const m=HI({isMovingForward:r,isInHomeList:t,location:f.destination,insideDestination:o});return m==null?null:Wf({draggable:e,insideDestination:o,destination:a,viewport:u,last:c.displaced,displacedBy:c.displacedBy,index:m})}const p=FI({isMovingForward:r,destination:a,displaced:c.displaced,draggables:i,combine:f.combine,afterCritical:h});return p==null?null:Wf({draggable:e,insideDestination:o,destination:a,viewport:u,last:c.displaced,displacedBy:c.displacedBy,index:p})},zI=({displaced:r,afterCritical:t,combineWith:e,displacedBy:i})=>{const a=!!(r.visible[e]||r.invisible[e]);return ja(e,t)?a?mn:rc(i.point):a?i.point:mn},$I=({afterCritical:r,impact:t,draggables:e})=>{const i=vp(t);i||gt();const a=i.draggableId,o=e[a].page.borderBox.center,c=zI({displaced:t.displaced,afterCritical:r,combineWith:a,displacedBy:t.displacedBy});return wn(o,c)};const Tw=(r,t)=>t.margin[r.start]+t.borderBox[r.size]/2,UI=(r,t)=>t.margin[r.end]+t.borderBox[r.size]/2,uv=(r,t,e)=>t[r.crossAxisStart]+e.margin[r.crossAxisStart]+e.borderBox[r.crossAxisSize]/2,ME=({axis:r,moveRelativeTo:t,isMoving:e})=>Lo(r.line,t.marginBox[r.end]+Tw(r,e),uv(r,t.marginBox,e)),LE=({axis:r,moveRelativeTo:t,isMoving:e})=>Lo(r.line,t.marginBox[r.start]-UI(r,e),uv(r,t.marginBox,e)),GI=({axis:r,moveInto:t,isMoving:e})=>Lo(r.line,t.contentBox[r.start]+Tw(r,e),uv(r,t.contentBox,e));var VI=({impact:r,draggable:t,draggables:e,droppable:i,afterCritical:a})=>{const o=ac(i.descriptor.id,e),c=t.page,u=i.axis;if(!o.length)return GI({axis:u,moveInto:i.page,isMoving:c});const{displaced:h,displacedBy:f}=r,p=h.all[0];if(p){const v=e[p];if(ja(p,a))return LE({axis:u,moveRelativeTo:v.page,isMoving:c});const _=Uf(v.page,f.point);return LE({axis:u,moveRelativeTo:_,isMoving:c})}const m=o[o.length-1];if(m.descriptor.id===t.descriptor.id)return c.borderBox.center;if(ja(m.descriptor.id,a)){const v=Uf(m.page,rc(a.displacedBy.point));return ME({axis:u,moveRelativeTo:v,isMoving:c})}return ME({axis:u,moveRelativeTo:m.page,isMoving:c})},cb=(r,t)=>{const e=r.frame;return e?wn(t,e.scroll.diff.displacement):t};const qI=({impact:r,draggable:t,droppable:e,draggables:i,afterCritical:a})=>{const o=t.page.borderBox.center,c=r.at;return!e||!c?o:c.type==="REORDER"?VI({impact:r,draggable:t,draggables:i,droppable:e,afterCritical:a}):$I({impact:r,draggables:i,afterCritical:a})};var _p=r=>{const t=qI(r),e=r.droppable;return e?cb(e,t):t},xw=(r,t)=>{const e=Ni(t,r.scroll.initial),i=rc(e);return{frame:As({top:t.y,bottom:t.y+r.frame.height,left:t.x,right:t.x+r.frame.width}),scroll:{initial:r.scroll.initial,max:r.scroll.max,current:t,diff:{value:e,displacement:i}}}};function PE(r,t){return r.map(e=>t[e])}function YI(r,t){for(let e=0;e<t.length;e++){const i=t[e].visible[r];if(i)return i}return null}var WI=({impact:r,viewport:t,destination:e,draggables:i,maxScrollChange:a})=>{const o=xw(t,wn(t.scroll.current,a)),c=e.frame?av(e,wn(e.frame.scroll.current,a)):e,u=r.displaced,h=ad({afterDragging:PE(u.all,i),destination:e,displacedBy:r.displacedBy,viewport:o.frame,last:u,forceShouldAnimate:!1}),f=ad({afterDragging:PE(u.all,i),destination:c,displacedBy:r.displacedBy,viewport:t.frame,last:u,forceShouldAnimate:!1}),p={},m={},v=[u,h,f];return u.all.forEach(S=>{const E=YI(S,v);if(E){m[S]=E;return}p[S]=!0}),{...r,displaced:{all:u.all,invisible:p,visible:m}}},XI=(r,t)=>wn(r.scroll.diff.displacement,t),dv=({pageBorderBoxCenter:r,draggable:t,viewport:e})=>{const i=XI(e,r),a=Ni(i,t.page.borderBox.center);return wn(t.client.borderBox.center,a)},Cw=({draggable:r,destination:t,newPageBorderBoxCenter:e,viewport:i,withDroppableDisplacement:a,onlyOnMainAxis:o=!1})=>{const c=Ni(e,r.page.borderBox.center),h={target:Td(r.page.borderBox,c),destination:t,withDroppableDisplacement:a,viewport:i};return o?PI(h):ww(h)},KI=({isMovingForward:r,draggable:t,destination:e,draggables:i,previousImpact:a,viewport:o,previousPageBorderBoxCenter:c,previousClientSelection:u,afterCritical:h})=>{if(!e.isEnabled)return null;const f=ac(e.descriptor.id,i),p=oc(t,e),m=xI({isMovingForward:r,draggable:t,destination:e,insideDestination:f,previousImpact:a})||jI({isMovingForward:r,isInHomeList:p,draggable:t,draggables:i,destination:e,insideDestination:f,previousImpact:a,viewport:o,afterCritical:h});if(!m)return null;const v=_p({impact:m,draggable:t,droppable:e,draggables:i,afterCritical:h});if(Cw({draggable:t,destination:e,newPageBorderBoxCenter:v,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:dv({pageBorderBoxCenter:v,draggable:t,viewport:o}),impact:m,scrollJumpRequest:null};const S=Ni(v,c),E=WI({impact:m,viewport:o,destination:e,draggables:i,maxScrollChange:S});return{clientSelection:u,impact:E,scrollJumpRequest:S}};const Kn=r=>{const t=r.subject.active;return t||gt(),t};var QI=({isMovingForward:r,pageBorderBoxCenter:t,source:e,droppables:i,viewport:a})=>{const o=e.subject.active;if(!o)return null;const c=e.axis,u=ns(o[c.start],o[c.end]),h=bp(i).filter(p=>p!==e).filter(p=>p.isEnabled).filter(p=>!!p.subject.active).filter(p=>Ew(a.frame)(Kn(p))).filter(p=>{const m=Kn(p);return r?o[c.crossAxisEnd]<m[c.crossAxisEnd]:m[c.crossAxisStart]<o[c.crossAxisStart]}).filter(p=>{const m=Kn(p),v=ns(m[c.start],m[c.end]);return u(m[c.start])||u(m[c.end])||v(o[c.start])||v(o[c.end])}).sort((p,m)=>{const v=Kn(p)[c.crossAxisStart],_=Kn(m)[c.crossAxisStart];return r?v-_:_-v}).filter((p,m,v)=>Kn(p)[c.crossAxisStart]===Kn(v[0])[c.crossAxisStart]);if(!h.length)return null;if(h.length===1)return h[0];const f=h.filter(p=>ns(Kn(p)[c.start],Kn(p)[c.end])(t[c.line]));return f.length===1?f[0]:f.length>1?f.sort((p,m)=>Kn(p)[c.start]-Kn(m)[c.start])[0]:h.sort((p,m)=>{const v=OE(t,RE(Kn(p))),_=OE(t,RE(Kn(m)));return v!==_?v-_:Kn(p)[c.start]-Kn(m)[c.start]})[0]};const IE=(r,t)=>{const e=r.page.borderBox.center;return ja(r.descriptor.id,t)?Ni(e,t.displacedBy.point):e},ZI=(r,t)=>{const e=r.page.borderBox;return ja(r.descriptor.id,t)?Td(e,rc(t.displacedBy.point)):e};var JI=({pageBorderBoxCenter:r,viewport:t,destination:e,insideDestination:i,afterCritical:a})=>i.filter(c=>ww({target:ZI(c,a),destination:e,viewport:t.frame,withDroppableDisplacement:!0})).sort((c,u)=>{const h=sd(r,cb(e,IE(c,a))),f=sd(r,cb(e,IE(u,a)));return h<f?-1:f<h?1:c.descriptor.index-u.descriptor.index})[0]||null,xd=gn(function(t,e){const i=e[t.line];return{value:i,point:Lo(t.line,i)}});const t2=(r,t,e)=>{const i=r.axis;if(r.descriptor.mode==="virtual")return Lo(i.line,t[i.line]);const a=r.subject.page.contentBox[i.size],h=ac(r.descriptor.id,e).reduce((f,p)=>f+p.client.marginBox[i.size],0)+t[i.line]-a;return h<=0?null:Lo(i.line,h)},Dw=(r,t)=>({...r,scroll:{...r.scroll,max:t}}),Ow=(r,t,e)=>{const i=r.frame;oc(t,r)&&gt(),r.subject.withPlaceholder&&gt();const a=xd(r.axis,t.displaceBy).point,o=t2(r,a,e),c={placeholderSize:a,increasedBy:o,oldFrameMaxScroll:r.frame?r.frame.scroll.max:null};if(!i){const p=Ql({page:r.subject.page,withPlaceholder:c,axis:r.axis,frame:r.frame});return{...r,subject:p}}const u=o?wn(i.scroll.max,o):i.scroll.max,h=Dw(i,u),f=Ql({page:r.subject.page,withPlaceholder:c,axis:r.axis,frame:h});return{...r,subject:f,frame:h}},e2=r=>{const t=r.subject.withPlaceholder;t||gt();const e=r.frame;if(!e){const c=Ql({page:r.subject.page,axis:r.axis,frame:null,withPlaceholder:null});return{...r,subject:c}}const i=t.oldFrameMaxScroll;i||gt();const a=Dw(e,i),o=Ql({page:r.subject.page,axis:r.axis,frame:a,withPlaceholder:null});return{...r,subject:o,frame:a}};var n2=({previousPageBorderBoxCenter:r,moveRelativeTo:t,insideDestination:e,draggable:i,draggables:a,destination:o,viewport:c,afterCritical:u})=>{if(!t){if(e.length)return null;const m={displaced:rd,displacedBy:Aw,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},v=_p({impact:m,draggable:i,droppable:o,draggables:a,afterCritical:u}),_=oc(i,o)?o:Ow(o,i,a);return Cw({draggable:i,destination:_,newPageBorderBoxCenter:v,viewport:c.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?m:null}const h=r[o.axis.line]<=t.page.borderBox.center[o.axis.line],f=(()=>{const m=t.descriptor.index;return t.descriptor.id===i.descriptor.id||h?m:m+1})(),p=xd(o.axis,i.displaceBy);return Wf({draggable:i,insideDestination:e,destination:o,viewport:c,displacedBy:p,last:rd,index:f})},i2=({isMovingForward:r,previousPageBorderBoxCenter:t,draggable:e,isOver:i,draggables:a,droppables:o,viewport:c,afterCritical:u})=>{const h=QI({isMovingForward:r,pageBorderBoxCenter:t,source:i,droppables:o,viewport:c});if(!h)return null;const f=ac(h.descriptor.id,a),p=JI({pageBorderBoxCenter:t,viewport:c,destination:h,insideDestination:f,afterCritical:u}),m=n2({previousPageBorderBoxCenter:t,destination:h,draggable:e,draggables:a,moveRelativeTo:p,insideDestination:f,viewport:c,afterCritical:u});if(!m)return null;const v=_p({impact:m,draggable:e,droppable:h,draggables:a,afterCritical:u});return{clientSelection:dv({pageBorderBoxCenter:v,draggable:e,viewport:c}),impact:m,scrollJumpRequest:null}},Mi=r=>{const t=r.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const s2=(r,t)=>{const e=Mi(r);return e?t[e]:null};var r2=({state:r,type:t})=>{const e=s2(r.impact,r.dimensions.droppables),i=!!e,a=r.dimensions.droppables[r.critical.droppable.id],o=e||a,c=o.axis.direction,u=c==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||c==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(u&&!i)return null;const h=t==="MOVE_DOWN"||t==="MOVE_RIGHT",f=r.dimensions.draggables[r.critical.draggable.id],p=r.current.page.borderBoxCenter,{draggables:m,droppables:v}=r.dimensions;return u?KI({isMovingForward:h,previousPageBorderBoxCenter:p,draggable:f,destination:o,draggables:m,viewport:r.viewport,previousClientSelection:r.current.client.selection,previousImpact:r.impact,afterCritical:r.afterCritical}):i2({isMovingForward:h,previousPageBorderBoxCenter:p,draggable:f,isOver:o,draggables:m,droppables:v,viewport:r.viewport,afterCritical:r.afterCritical})};function vo(r){return r.phase==="DRAGGING"||r.phase==="COLLECTING"}function Rw(r){const t=ns(r.top,r.bottom),e=ns(r.left,r.right);return function(a){return t(a.y)&&e(a.x)}}function a2(r,t){return r.left<t.right&&r.right>t.left&&r.top<t.bottom&&r.bottom>t.top}function o2({pageBorderBox:r,draggable:t,candidates:e}){const i=t.page.borderBox.center,a=e.map(o=>{const c=o.axis,u=Lo(o.axis.line,r.center[c.line],o.page.borderBox.center[c.crossAxisLine]);return{id:o.descriptor.id,distance:sd(i,u)}}).sort((o,c)=>c.distance-o.distance);return a[0]?a[0].id:null}function l2({pageBorderBox:r,draggable:t,droppables:e}){const i=bp(e).filter(a=>{if(!a.isEnabled)return!1;const o=a.subject.active;if(!o||!a2(r,o))return!1;if(Rw(o)(r.center))return!0;const c=a.axis,u=o.center[c.crossAxisLine],h=r[c.crossAxisStart],f=r[c.crossAxisEnd],p=ns(o[c.crossAxisStart],o[c.crossAxisEnd]),m=p(h),v=p(f);return!m&&!v?!0:m?h<u:f>u});return i.length?i.length===1?i[0].descriptor.id:o2({pageBorderBox:r,draggable:t,candidates:i}):null}const Nw=(r,t)=>As(Td(r,t));var c2=(r,t)=>{const e=r.frame;return e?Nw(t,e.scroll.diff.value):t};function Mw({displaced:r,id:t}){return!!(r.visible[t]||r.invisible[t])}function u2({draggable:r,closest:t,inHomeList:e}){return t?e&&t.descriptor.index>r.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var d2=({pageBorderBoxWithDroppableScroll:r,draggable:t,destination:e,insideDestination:i,last:a,viewport:o,afterCritical:c})=>{const u=e.axis,h=xd(e.axis,t.displaceBy),f=h.value,p=r[u.start],m=r[u.end],_=yp(t,i).find(E=>{const T=E.descriptor.id,C=E.page.borderBox.center[u.line],N=ja(T,c),L=Mw({displaced:a,id:T});return N?L?m<=C:p<C-f:L?m<=C+f:p<C})||null,S=u2({draggable:t,closest:_,inHomeList:oc(t,e)});return Wf({draggable:t,insideDestination:i,destination:e,viewport:o,last:a,displacedBy:h,index:S})};const h2=4;var f2=({draggable:r,pageBorderBoxWithDroppableScroll:t,previousImpact:e,destination:i,insideDestination:a,afterCritical:o})=>{if(!i.isCombineEnabled)return null;const c=i.axis,u=xd(i.axis,r.displaceBy),h=u.value,f=t[c.start],p=t[c.end],v=yp(r,a).find(S=>{const E=S.descriptor.id,T=S.page.borderBox,N=T[c.size]/h2,L=ja(E,o),P=Mw({displaced:e.displaced,id:E});return L?P?p>T[c.start]+N&&p<T[c.end]-N:f>T[c.start]-h+N&&f<T[c.end]-h-N:P?p>T[c.start]+h+N&&p<T[c.end]+h-N:f>T[c.start]+N&&f<T[c.end]-N});return v?{displacedBy:u,displaced:e.displaced,at:{type:"COMBINE",combine:{draggableId:v.descriptor.id,droppableId:i.descriptor.id}}}:null},Lw=({pageOffset:r,draggable:t,draggables:e,droppables:i,previousImpact:a,viewport:o,afterCritical:c})=>{const u=Nw(t.page.borderBox,r),h=l2({pageBorderBox:u,draggable:t,droppables:i});if(!h)return CI;const f=i[h],p=ac(f.descriptor.id,e),m=c2(f,u);return f2({pageBorderBoxWithDroppableScroll:m,draggable:t,previousImpact:a,destination:f,insideDestination:p,afterCritical:c})||d2({pageBorderBoxWithDroppableScroll:m,draggable:t,destination:f,insideDestination:p,last:a.displaced,viewport:o,afterCritical:c})},hv=(r,t)=>({...r,[t.descriptor.id]:t});const p2=({previousImpact:r,impact:t,droppables:e})=>{const i=Mi(r),a=Mi(t);if(!i||i===a)return e;const o=e[i];if(!o.subject.withPlaceholder)return e;const c=e2(o);return hv(e,c)};var g2=({draggable:r,draggables:t,droppables:e,previousImpact:i,impact:a})=>{const o=p2({previousImpact:i,impact:a,droppables:e}),c=Mi(a);if(!c)return o;const u=e[c];if(oc(r,u)||u.subject.withPlaceholder)return o;const h=Ow(u,r,t);return hv(o,h)},Xu=({state:r,clientSelection:t,dimensions:e,viewport:i,impact:a,scrollJumpRequest:o})=>{const c=i||r.viewport,u=e||r.dimensions,h=t||r.current.client.selection,f=Ni(h,r.initial.client.selection),p={offset:f,selection:h,borderBoxCenter:wn(r.initial.client.borderBoxCenter,f)},m={selection:wn(p.selection,c.scroll.current),borderBoxCenter:wn(p.borderBoxCenter,c.scroll.current),offset:wn(p.offset,c.scroll.diff.value)},v={client:p,page:m};if(r.phase==="COLLECTING")return{...r,dimensions:u,viewport:c,current:v};const _=u.draggables[r.critical.draggable.id],S=a||Lw({pageOffset:m.offset,draggable:_,draggables:u.draggables,droppables:u.droppables,previousImpact:r.impact,viewport:c,afterCritical:r.afterCritical}),E=g2({draggable:_,impact:S,previousImpact:r.impact,draggables:u.draggables,droppables:u.droppables});return{...r,current:v,dimensions:{draggables:u.draggables,droppables:E},impact:S,viewport:c,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null}};function m2(r,t){return r.map(e=>t[e])}var Pw=({impact:r,viewport:t,draggables:e,destination:i,forceShouldAnimate:a})=>{const o=r.displaced,c=m2(o.all,e),u=ad({afterDragging:c,destination:i,displacedBy:r.displacedBy,viewport:t.frame,forceShouldAnimate:a,last:o});return{...r,displaced:u}},Iw=({impact:r,draggable:t,droppable:e,draggables:i,viewport:a,afterCritical:o})=>{const c=_p({impact:r,draggable:t,draggables:i,droppable:e,afterCritical:o});return dv({pageBorderBoxCenter:c,draggable:t,viewport:a})},kw=({state:r,dimensions:t,viewport:e})=>{r.movementMode!=="SNAP"&&gt();const i=r.impact,a=e||r.viewport,o=t||r.dimensions,{draggables:c,droppables:u}=o,h=c[r.critical.draggable.id],f=Mi(i);f||gt();const p=u[f],m=Pw({impact:i,viewport:a,destination:p,draggables:c}),v=Iw({impact:m,draggable:h,droppable:p,draggables:c,viewport:a,afterCritical:r.afterCritical});return Xu({impact:m,clientSelection:v,state:r,dimensions:o,viewport:a})},b2=r=>({index:r.index,droppableId:r.droppableId}),Bw=({draggable:r,home:t,draggables:e,viewport:i})=>{const a=xd(t.axis,r.displaceBy),o=ac(t.descriptor.id,e),c=o.indexOf(r);c===-1&&gt();const u=o.slice(c+1),h=u.reduce((v,_)=>(v[_.descriptor.id]=!0,v),{}),f={inVirtualList:t.descriptor.mode==="virtual",displacedBy:a,effected:h};return{impact:{displaced:ad({afterDragging:u,destination:t,displacedBy:a,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:b2(r.descriptor)}},afterCritical:f}},v2=(r,t)=>({draggables:r.draggables,droppables:hv(r.droppables,t)}),y2=({draggable:r,offset:t,initialWindowScroll:e})=>{const i=Uf(r.client,t),a=Gf(i,e);return{...r,placeholder:{...r.placeholder,client:i},client:i,page:a}},_2=r=>{const t=r.frame;return t||gt(),t},A2=({additions:r,updatedDroppables:t,viewport:e})=>{const i=e.scroll.diff.value;return r.map(a=>{const o=a.descriptor.droppableId,c=t[o],h=_2(c).scroll.diff.value,f=wn(i,h);return y2({draggable:a,offset:f,initialWindowScroll:e.scroll.initial})})},E2=({state:r,published:t})=>{const e=t.modified.map(C=>{const N=r.dimensions.droppables[C.droppableId];return av(N,C.scroll)}),i={...r.dimensions.droppables,...yw(e)},a=_w(A2({additions:t.additions,updatedDroppables:i,viewport:r.viewport})),o={...r.dimensions.draggables,...a};t.removals.forEach(C=>{delete o[C]});const c={droppables:i,draggables:o},u=Mi(r.impact),h=u?c.droppables[u]:null,f=c.draggables[r.critical.draggable.id],p=c.droppables[r.critical.droppable.id],{impact:m,afterCritical:v}=Bw({draggable:f,home:p,draggables:o,viewport:r.viewport}),_=h&&h.isCombineEnabled?r.impact:m,S=Lw({pageOffset:r.current.page.offset,draggable:c.draggables[r.critical.draggable.id],draggables:c.draggables,droppables:c.droppables,previousImpact:_,viewport:r.viewport,afterCritical:v}),E={...r,phase:"DRAGGING",impact:S,onLiftImpact:m,dimensions:c,afterCritical:v,forceShouldAnimate:!1};return r.phase==="COLLECTING"?E:{...E,phase:"DROP_PENDING",reason:r.reason,isWaiting:!1}};const ub=r=>r.movementMode==="SNAP",km=(r,t,e)=>{const i=v2(r.dimensions,t);return!ub(r)||e?Xu({state:r,dimensions:i}):kw({state:r,dimensions:i})};function Bm(r){return r.isDragging&&r.movementMode==="SNAP"?{...r,scrollJumpRequest:null}:r}const kE={phase:"IDLE",completed:null,shouldFlush:!1};var S2=(r=kE,t)=>{if(t.type==="FLUSH")return{...kE,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){r.phase!=="IDLE"&&gt();const{critical:e,clientSelection:i,viewport:a,dimensions:o,movementMode:c}=t.payload,u=o.draggables[e.draggable.id],h=o.droppables[e.droppable.id],f={selection:i,borderBoxCenter:u.client.borderBox.center,offset:mn},p={client:f,page:{selection:wn(f.selection,a.scroll.initial),borderBoxCenter:wn(f.selection,a.scroll.initial),offset:wn(f.selection,a.scroll.diff.value)}},m=bp(o.droppables).every(E=>!E.isFixedOnPage),{impact:v,afterCritical:_}=Bw({draggable:u,home:h,draggables:o.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:e,movementMode:c,dimensions:o,initial:p,current:p,isWindowScrollAllowed:m,impact:v,afterCritical:_,onLiftImpact:v,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return r.phase==="COLLECTING"||r.phase==="DROP_PENDING"?r:(r.phase!=="DRAGGING"&&gt(),{...r,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return r.phase==="COLLECTING"||r.phase==="DROP_PENDING"||gt(),E2({state:r,published:t.payload});if(t.type==="MOVE"){if(r.phase==="DROP_PENDING")return r;vo(r)||gt();const{client:e}=t.payload;return Ia(e,r.current.client.selection)?r:Xu({state:r,clientSelection:e,impact:ub(r)?r.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(r.phase==="DROP_PENDING"||r.phase==="COLLECTING")return Bm(r);vo(r)||gt();const{id:e,newScroll:i}=t.payload,a=r.dimensions.droppables[e];if(!a)return r;const o=av(a,i);return km(r,o,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(r.phase==="DROP_PENDING")return r;vo(r)||gt();const{id:e,isEnabled:i}=t.payload,a=r.dimensions.droppables[e];a||gt(),a.isEnabled===i&&gt();const o={...a,isEnabled:i};return km(r,o,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(r.phase==="DROP_PENDING")return r;vo(r)||gt();const{id:e,isCombineEnabled:i}=t.payload,a=r.dimensions.droppables[e];a||gt(),a.isCombineEnabled===i&&gt();const o={...a,isCombineEnabled:i};return km(r,o,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(r.phase==="DROP_PENDING"||r.phase==="DROP_ANIMATING")return r;vo(r)||gt(),r.isWindowScrollAllowed||gt();const e=t.payload.newScroll;if(Ia(r.viewport.scroll.current,e))return Bm(r);const i=xw(r.viewport,e);return ub(r)?kw({state:r,viewport:i}):Xu({state:r,viewport:i})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!vo(r))return r;const e=t.payload.maxScroll;if(Ia(e,r.viewport.scroll.max))return r;const i={...r.viewport,scroll:{...r.viewport.scroll,max:e}};return{...r,viewport:i}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(r.phase==="COLLECTING"||r.phase==="DROP_PENDING")return r;r.phase!=="DRAGGING"&&gt();const e=r2({state:r,type:t.type});return e?Xu({state:r,impact:e.impact,clientSelection:e.clientSelection,scrollJumpRequest:e.scrollJumpRequest}):r}if(t.type==="DROP_PENDING"){const e=t.payload.reason;return r.phase!=="COLLECTING"&&gt(),{...r,phase:"DROP_PENDING",isWaiting:!0,reason:e}}if(t.type==="DROP_ANIMATE"){const{completed:e,dropDuration:i,newHomeClientOffset:a}=t.payload;return r.phase==="DRAGGING"||r.phase==="DROP_PENDING"||gt(),{phase:"DROP_ANIMATING",completed:e,dropDuration:i,newHomeClientOffset:a,dimensions:r.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:e}=t.payload;return{phase:"IDLE",completed:e,shouldFlush:!1}}return r};function me(r,t){return r instanceof Object&&"type"in r&&r.type===t}const w2=r=>({type:"BEFORE_INITIAL_CAPTURE",payload:r}),T2=r=>({type:"LIFT",payload:r}),x2=r=>({type:"INITIAL_PUBLISH",payload:r}),C2=r=>({type:"PUBLISH_WHILE_DRAGGING",payload:r}),D2=()=>({type:"COLLECTION_STARTING",payload:null}),O2=r=>({type:"UPDATE_DROPPABLE_SCROLL",payload:r}),R2=r=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:r}),N2=r=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:r}),Fw=r=>({type:"MOVE",payload:r}),M2=r=>({type:"MOVE_BY_WINDOW_SCROLL",payload:r}),L2=r=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:r}),P2=()=>({type:"MOVE_UP",payload:null}),I2=()=>({type:"MOVE_DOWN",payload:null}),k2=()=>({type:"MOVE_RIGHT",payload:null}),B2=()=>({type:"MOVE_LEFT",payload:null}),fv=()=>({type:"FLUSH",payload:null}),F2=r=>({type:"DROP_ANIMATE",payload:r}),pv=r=>({type:"DROP_COMPLETE",payload:r}),Hw=r=>({type:"DROP",payload:r}),H2=r=>({type:"DROP_PENDING",payload:r}),jw=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var j2=r=>({getState:t,dispatch:e})=>i=>a=>{if(!me(a,"LIFT")){i(a);return}const{id:o,clientSelection:c,movementMode:u}=a.payload,h=t();h.phase==="DROP_ANIMATING"&&e(pv({completed:h.completed})),t().phase!=="IDLE"&&gt(),e(fv()),e(w2({draggableId:o,movementMode:u}));const p={draggableId:o,scrollOptions:{shouldPublishImmediately:u==="SNAP"}},{critical:m,dimensions:v,viewport:_}=r.startPublishing(p);e(x2({critical:m,dimensions:v,clientSelection:c,movementMode:u,viewport:_}))},z2=r=>()=>t=>e=>{me(e,"INITIAL_PUBLISH")&&r.dragging(),me(e,"DROP_ANIMATE")&&r.dropping(e.payload.completed.result.reason),(me(e,"FLUSH")||me(e,"DROP_COMPLETE"))&&r.resting(),t(e)};const gv={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},od={opacity:{drop:0,combining:.7},scale:{drop:.75}},zw={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},bo=`${zw.outOfTheWay}s ${gv.outOfTheWay}`,Ku={fluid:`opacity ${bo}`,snap:`transform ${bo}, opacity ${bo}`,drop:r=>{const t=`${r}s ${gv.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${bo}`,placeholder:`height ${bo}, width ${bo}, margin ${bo}`},BE=r=>Ia(r,mn)?void 0:`translate(${r.x}px, ${r.y}px)`,db={moveTo:BE,drop:(r,t)=>{const e=BE(r);if(e)return t?`${e} scale(${od.scale.drop})`:e}},{minDropTime:hb,maxDropTime:$w}=zw,$2=$w-hb,FE=1500,U2=.6;var G2=({current:r,destination:t,reason:e})=>{const i=sd(r,t);if(i<=0)return hb;if(i>=FE)return $w;const a=i/FE,o=hb+$2*a,c=e==="CANCEL"?o*U2:o;return Number(c.toFixed(2))},V2=({impact:r,draggable:t,dimensions:e,viewport:i,afterCritical:a})=>{const{draggables:o,droppables:c}=e,u=Mi(r),h=u?c[u]:null,f=c[t.descriptor.droppableId],p=Iw({impact:r,draggable:t,draggables:o,afterCritical:a,droppable:h||f,viewport:i});return Ni(p,t.client.borderBox.center)},q2=({draggables:r,reason:t,lastImpact:e,home:i,viewport:a,onLiftImpact:o})=>!e.at||t!=="DROP"?{impact:Pw({draggables:r,impact:o,destination:i,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:e.at.type==="REORDER"?{impact:e,didDropInsideDroppable:!0}:{impact:{...e,displaced:rd},didDropInsideDroppable:!0};const Y2=({getState:r,dispatch:t})=>e=>i=>{if(!me(i,"DROP")){e(i);return}const a=r(),o=i.payload.reason;if(a.phase==="COLLECTING"){t(H2({reason:o}));return}if(a.phase==="IDLE")return;a.phase==="DROP_PENDING"&&a.isWaiting&&gt(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||gt();const u=a.critical,h=a.dimensions,f=h.draggables[a.critical.draggable.id],{impact:p,didDropInsideDroppable:m}=q2({reason:o,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),v=m?ov(p):null,_=m?vp(p):null,S={index:u.draggable.index,droppableId:u.droppable.id},E={draggableId:f.descriptor.id,type:f.descriptor.type,source:S,reason:o,mode:a.movementMode,destination:v,combine:_},T=V2({impact:p,draggable:f,dimensions:h,viewport:a.viewport,afterCritical:a.afterCritical}),C={critical:a.critical,afterCritical:a.afterCritical,result:E,impact:p};if(!(!Ia(a.current.client.offset,T)||!!E.combine)){t(pv({completed:C}));return}const L=G2({current:a.current.client.offset,destination:T,reason:o});t(F2({newHomeClientOffset:T,dropDuration:L,completed:C}))};var Uw=()=>({x:window.pageXOffset,y:window.pageYOffset});function W2(r){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||r()}}}function X2({onWindowScroll:r}){function t(){r(Uw())}const e=id(t),i=W2(e);let a=Pa;function o(){return a!==Pa}function c(){o()&&gt(),a=ts(window,[i])}function u(){o()||gt(),e.cancel(),a(),a=Pa}return{start:c,stop:u,isActive:o}}const K2=r=>me(r,"DROP_COMPLETE")||me(r,"DROP_ANIMATE")||me(r,"FLUSH"),Q2=r=>{const t=X2({onWindowScroll:e=>{r.dispatch(M2({newScroll:e}))}});return e=>i=>{!t.isActive()&&me(i,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&K2(i)&&t.stop(),e(i)}};var Z2=r=>{let t=!1,e=!1;const i=setTimeout(()=>{e=!0}),a=o=>{t||e||(t=!0,r(o),clearTimeout(i))};return a.wasCalled=()=>t,a},J2=()=>{const r=[],t=a=>{const o=r.findIndex(u=>u.timerId===a);o===-1&&gt();const[c]=r.splice(o,1);c.callback()};return{add:a=>{const o=setTimeout(()=>t(o)),c={timerId:o,callback:a};r.push(c)},flush:()=>{if(!r.length)return;const a=[...r];r.length=0,a.forEach(o=>{clearTimeout(o.timerId),o.callback()})}}};const tk=(r,t)=>r==null&&t==null?!0:r==null||t==null?!1:r.droppableId===t.droppableId&&r.index===t.index,ek=(r,t)=>r==null&&t==null?!0:r==null||t==null?!1:r.draggableId===t.draggableId&&r.droppableId===t.droppableId,nk=(r,t)=>{if(r===t)return!0;const e=r.draggable.id===t.draggable.id&&r.draggable.droppableId===t.draggable.droppableId&&r.draggable.type===t.draggable.type&&r.draggable.index===t.draggable.index,i=r.droppable.id===t.droppable.id&&r.droppable.type===t.droppable.type;return e&&i},Hu=(r,t)=>{t()},xf=(r,t)=>({draggableId:r.draggable.id,type:r.droppable.type,source:{droppableId:r.droppable.id,index:r.draggable.index},mode:t});function Fm(r,t,e,i){if(!r){e(i(t));return}const a=Z2(e);r(t,{announce:a}),a.wasCalled()||e(i(t))}var ik=(r,t)=>{const e=J2();let i=null;const a=(m,v)=>{i&&gt(),Hu("onBeforeCapture",()=>{const _=r().onBeforeCapture;_&&_({draggableId:m,mode:v})})},o=(m,v)=>{i&&gt(),Hu("onBeforeDragStart",()=>{const _=r().onBeforeDragStart;_&&_(xf(m,v))})},c=(m,v)=>{i&&gt();const _=xf(m,v);i={mode:v,lastCritical:m,lastLocation:_.source,lastCombine:null},e.add(()=>{Hu("onDragStart",()=>Fm(r().onDragStart,_,t,If.onDragStart))})},u=(m,v)=>{const _=ov(v),S=vp(v);i||gt();const E=!nk(m,i.lastCritical);E&&(i.lastCritical=m);const T=!tk(i.lastLocation,_);T&&(i.lastLocation=_);const C=!ek(i.lastCombine,S);if(C&&(i.lastCombine=S),!E&&!T&&!C)return;const N={...xf(m,i.mode),combine:S,destination:_};e.add(()=>{Hu("onDragUpdate",()=>Fm(r().onDragUpdate,N,t,If.onDragUpdate))})},h=()=>{i||gt(),e.flush()},f=m=>{i||gt(),i=null,Hu("onDragEnd",()=>Fm(r().onDragEnd,m,t,If.onDragEnd))};return{beforeCapture:a,beforeStart:o,start:c,update:u,flush:h,drop:f,abort:()=>{if(!i)return;const m={...xf(i.lastCritical,i.mode),combine:null,destination:null,reason:"CANCEL"};f(m)}}},sk=(r,t)=>{const e=ik(r,t);return i=>a=>o=>{if(me(o,"BEFORE_INITIAL_CAPTURE")){e.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(me(o,"INITIAL_PUBLISH")){const u=o.payload.critical;e.beforeStart(u,o.payload.movementMode),a(o),e.start(u,o.payload.movementMode);return}if(me(o,"DROP_COMPLETE")){const u=o.payload.completed.result;e.flush(),a(o),e.drop(u);return}if(a(o),me(o,"FLUSH")){e.abort();return}const c=i.getState();c.phase==="DRAGGING"&&e.update(c.critical,c.impact)}};const rk=r=>t=>e=>{if(!me(e,"DROP_ANIMATION_FINISHED")){t(e);return}const i=r.getState();i.phase!=="DROP_ANIMATING"&&gt(),r.dispatch(pv({completed:i.completed}))},ak=r=>{let t=null,e=null;function i(){e&&(cancelAnimationFrame(e),e=null),t&&(t(),t=null)}return a=>o=>{if((me(o,"FLUSH")||me(o,"DROP_COMPLETE")||me(o,"DROP_ANIMATION_FINISHED"))&&i(),a(o),!me(o,"DROP_ANIMATE"))return;const c={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){r.getState().phase==="DROP_ANIMATING"&&r.dispatch(jw())}};e=requestAnimationFrame(()=>{e=null,t=ts(window,[c])})}};var ok=r=>()=>t=>e=>{(me(e,"DROP_COMPLETE")||me(e,"FLUSH")||me(e,"DROP_ANIMATE"))&&r.stopPublishing(),t(e)},lk=r=>{let t=!1;return()=>e=>i=>{if(me(i,"INITIAL_PUBLISH")){t=!0,r.tryRecordFocus(i.payload.critical.draggable.id),e(i),r.tryRestoreFocusRecorded();return}if(e(i),!!t){if(me(i,"FLUSH")){t=!1,r.tryRestoreFocusRecorded();return}if(me(i,"DROP_COMPLETE")){t=!1;const a=i.payload.completed.result;a.combine&&r.tryShiftRecord(a.draggableId,a.combine.draggableId),r.tryRestoreFocusRecorded()}}}};const ck=r=>me(r,"DROP_COMPLETE")||me(r,"DROP_ANIMATE")||me(r,"FLUSH");var uk=r=>t=>e=>i=>{if(ck(i)){r.stop(),e(i);return}if(me(i,"INITIAL_PUBLISH")){e(i);const a=t.getState();a.phase!=="DRAGGING"&&gt(),r.start(a);return}e(i),r.scroll(t.getState())};const dk=r=>t=>e=>{if(t(e),!me(e,"PUBLISH_WHILE_DRAGGING"))return;const i=r.getState();i.phase==="DROP_PENDING"&&(i.isWaiting||r.dispatch(Hw({reason:i.reason})))},hk=rw;var fk=({dimensionMarshal:r,focusMarshal:t,styleMarshal:e,getResponders:i,announce:a,autoScroller:o})=>sw(S2,hk(hP(z2(e),ok(r),j2(r),Y2,rk,ak,dk,uk(o),Q2,lk(t),sk(i,a))));const Hm=()=>({additions:{},removals:{},modified:{}});function pk({registry:r,callbacks:t}){let e=Hm(),i=null;const a=()=>{i||(t.collectionStarting(),i=requestAnimationFrame(()=>{i=null;const{additions:h,removals:f,modified:p}=e,m=Object.keys(h).map(S=>r.draggable.getById(S).getDimension(mn)).sort((S,E)=>S.descriptor.index-E.descriptor.index),v=Object.keys(p).map(S=>{const T=r.droppable.getById(S).callbacks.getScrollWhileDragging();return{droppableId:S,scroll:T}}),_={additions:m,removals:Object.keys(f),modified:v};e=Hm(),t.publish(_)}))};return{add:h=>{const f=h.descriptor.id;e.additions[f]=h,e.modified[h.descriptor.droppableId]=!0,e.removals[f]&&delete e.removals[f],a()},remove:h=>{const f=h.descriptor;e.removals[f.id]=!0,e.modified[f.droppableId]=!0,e.additions[f.id]&&delete e.additions[f.id],a()},stop:()=>{i&&(cancelAnimationFrame(i),i=null,e=Hm())}}}var Gw=({scrollHeight:r,scrollWidth:t,height:e,width:i})=>{const a=Ni({x:t,y:r},{x:i,y:e});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},Vw=()=>{const r=document.documentElement;return r||gt(),r},qw=()=>{const r=Vw();return Gw({scrollHeight:r.scrollHeight,scrollWidth:r.scrollWidth,width:r.clientWidth,height:r.clientHeight})},gk=()=>{const r=Uw(),t=qw(),e=r.y,i=r.x,a=Vw(),o=a.clientWidth,c=a.clientHeight,u=i+o,h=e+c;return{frame:As({top:e,left:i,right:u,bottom:h}),scroll:{initial:r,current:r,max:t,diff:{value:mn,displacement:mn}}}},mk=({critical:r,scrollOptions:t,registry:e})=>{const i=gk(),a=i.scroll.current,o=r.droppable,c=e.droppable.getAllByType(o.type).map(p=>p.callbacks.getDimensionAndWatchScroll(a,t)),u=e.draggable.getAllByType(r.draggable.type).map(p=>p.getDimension(a));return{dimensions:{draggables:_w(u),droppables:yw(c)},critical:r,viewport:i}};function HE(r,t,e){return!(e.descriptor.id===t.id||e.descriptor.type!==t.type||r.droppable.getById(e.descriptor.droppableId).descriptor.mode!=="virtual")}var bk=(r,t)=>{let e=null;const i=pk({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:r}),a=(v,_)=>{r.droppable.exists(v)||gt(),e&&t.updateDroppableIsEnabled({id:v,isEnabled:_})},o=(v,_)=>{e&&(r.droppable.exists(v)||gt(),t.updateDroppableIsCombineEnabled({id:v,isCombineEnabled:_}))},c=(v,_)=>{e&&(r.droppable.exists(v)||gt(),t.updateDroppableScroll({id:v,newScroll:_}))},u=(v,_)=>{e&&r.droppable.getById(v).callbacks.scroll(_)},h=()=>{if(!e)return;i.stop();const v=e.critical.droppable;r.droppable.getAllByType(v.type).forEach(_=>_.callbacks.dragStopped()),e.unsubscribe(),e=null},f=v=>{e||gt();const _=e.critical.draggable;v.type==="ADDITION"&&HE(r,_,v.value)&&i.add(v.value),v.type==="REMOVAL"&&HE(r,_,v.value)&&i.remove(v.value)};return{updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:o,scrollDroppable:u,updateDroppableScroll:c,startPublishing:v=>{e&&gt();const _=r.draggable.getById(v.draggableId),S=r.droppable.getById(_.descriptor.droppableId),E={draggable:_.descriptor,droppable:S.descriptor},T=r.subscribe(f);return e={critical:E,unsubscribe:T},mk({critical:E,registry:r,scrollOptions:v.scrollOptions})},stopPublishing:h}},Yw=(r,t)=>r.phase==="IDLE"?!0:r.phase!=="DROP_ANIMATING"||r.completed.result.draggableId===t?!1:r.completed.result.reason==="DROP",vk=r=>{window.scrollBy(r.x,r.y)};const yk=gn(r=>bp(r).filter(t=>!(!t.isEnabled||!t.frame))),_k=(r,t)=>yk(t).find(i=>(i.frame||gt(),Rw(i.frame.pageMarginBox)(r)))||null;var Ak=({center:r,destination:t,droppables:e})=>{if(t){const a=e[t];return a.frame?a:null}return _k(r,e)};const ld={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:r=>r**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Ek=(r,t,e=()=>ld)=>{const i=e(),a=r[t.size]*i.startFromPercentage,o=r[t.size]*i.maxScrollAtPercentage;return{startScrollingFrom:a,maxScrollValueAt:o}},Ww=({startOfRange:r,endOfRange:t,current:e})=>{const i=t-r;return i===0?0:(e-r)/i},mv=1,Sk=(r,t,e=()=>ld)=>{const i=e();if(r>t.startScrollingFrom)return 0;if(r<=t.maxScrollValueAt)return i.maxPixelScroll;if(r===t.startScrollingFrom)return mv;const o=1-Ww({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:r}),c=i.maxPixelScroll*i.ease(o);return Math.ceil(c)},wk=(r,t,e)=>{const i=e(),a=i.durationDampening.accelerateAt,o=i.durationDampening.stopDampeningAt,c=t,u=o,f=Date.now()-c;if(f>=o)return r;if(f<a)return mv;const p=Ww({startOfRange:a,endOfRange:u,current:f}),m=r*i.ease(p);return Math.ceil(m)},jE=({distanceToEdge:r,thresholds:t,dragStartTime:e,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=Sk(r,t,a);return o===0?0:i?Math.max(wk(o,e,a),mv):o},zE=({container:r,distanceToEdges:t,dragStartTime:e,axis:i,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const c=Ek(r,i,o);return t[i.end]<t[i.start]?jE({distanceToEdge:t[i.end],thresholds:c,dragStartTime:e,shouldUseTimeDampening:a,getAutoScrollerOptions:o}):-1*jE({distanceToEdge:t[i.start],thresholds:c,dragStartTime:e,shouldUseTimeDampening:a,getAutoScrollerOptions:o})},Tk=({container:r,subject:t,proposedScroll:e})=>{const i=t.height>r.height,a=t.width>r.width;return!a&&!i?e:a&&i?null:{x:a?0:e.x,y:i?0:e.y}};const xk=vw(r=>r===0?0:r);var Xw=({dragStartTime:r,container:t,subject:e,center:i,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const c={top:i.y-t.top,right:t.right-i.x,bottom:t.bottom-i.y,left:i.x-t.left},u=zE({container:t,distanceToEdges:c,dragStartTime:r,axis:lv,shouldUseTimeDampening:a,getAutoScrollerOptions:o}),h=zE({container:t,distanceToEdges:c,dragStartTime:r,axis:Sw,shouldUseTimeDampening:a,getAutoScrollerOptions:o}),f=xk({x:h,y:u});if(Ia(f,mn))return null;const p=Tk({container:t,subject:e,proposedScroll:f});return p?Ia(p,mn)?null:p:null};const Ck=vw(r=>r===0?0:r>0?1:-1),bv=(()=>{const r=(t,e)=>t<0?t:t>e?t-e:0;return({current:t,max:e,change:i})=>{const a=wn(t,i),o={x:r(a.x,e.x),y:r(a.y,e.y)};return Ia(o,mn)?null:o}})(),Kw=({max:r,current:t,change:e})=>{const i={x:Math.max(t.x,r.x),y:Math.max(t.y,r.y)},a=Ck(e),o=bv({max:i,current:t,change:a});return!o||a.x!==0&&o.x===0||a.y!==0&&o.y===0},vv=(r,t)=>Kw({current:r.scroll.current,max:r.scroll.max,change:t}),Dk=(r,t)=>{if(!vv(r,t))return null;const e=r.scroll.max,i=r.scroll.current;return bv({current:i,max:e,change:t})},yv=(r,t)=>{const e=r.frame;return e?Kw({current:e.scroll.current,max:e.scroll.max,change:t}):!1},Ok=(r,t)=>{const e=r.frame;return!e||!yv(r,t)?null:bv({current:e.scroll.current,max:e.scroll.max,change:t})};var Rk=({viewport:r,subject:t,center:e,dragStartTime:i,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const c=Xw({dragStartTime:i,container:r.frame,subject:t,center:e,shouldUseTimeDampening:a,getAutoScrollerOptions:o});return c&&vv(r,c)?c:null},Nk=({droppable:r,subject:t,center:e,dragStartTime:i,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const c=r.frame;if(!c)return null;const u=Xw({dragStartTime:i,container:c.pageMarginBox,subject:t,center:e,shouldUseTimeDampening:a,getAutoScrollerOptions:o});return u&&yv(r,u)?u:null},$E=({state:r,dragStartTime:t,shouldUseTimeDampening:e,scrollWindow:i,scrollDroppable:a,getAutoScrollerOptions:o})=>{const c=r.current.page.borderBoxCenter,h=r.dimensions.draggables[r.critical.draggable.id].page.marginBox;if(r.isWindowScrollAllowed){const m=r.viewport,v=Rk({dragStartTime:t,viewport:m,subject:h,center:c,shouldUseTimeDampening:e,getAutoScrollerOptions:o});if(v){i(v);return}}const f=Ak({center:c,destination:Mi(r.impact),droppables:r.dimensions.droppables});if(!f)return;const p=Nk({dragStartTime:t,droppable:f,subject:h,center:c,shouldUseTimeDampening:e,getAutoScrollerOptions:o});p&&a(f.descriptor.id,p)},Mk=({scrollWindow:r,scrollDroppable:t,getAutoScrollerOptions:e=()=>ld})=>{const i=id(r),a=id(t);let o=null;const c=f=>{o||gt();const{shouldUseTimeDampening:p,dragStartTime:m}=o;$E({state:f,scrollWindow:i,scrollDroppable:a,dragStartTime:m,shouldUseTimeDampening:p,getAutoScrollerOptions:e})};return{start:f=>{o&&gt();const p=Date.now();let m=!1;const v=()=>{m=!0};$E({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:v,scrollDroppable:v,getAutoScrollerOptions:e}),o={dragStartTime:p,shouldUseTimeDampening:m},m&&c(f)},stop:()=>{o&&(i.cancel(),a.cancel(),o=null)},scroll:c}},Lk=({move:r,scrollDroppable:t,scrollWindow:e})=>{const i=(u,h)=>{const f=wn(u.current.client.selection,h);r({client:f})},a=(u,h)=>{if(!yv(u,h))return h;const f=Ok(u,h);if(!f)return t(u.descriptor.id,h),null;const p=Ni(h,f);return t(u.descriptor.id,p),Ni(h,p)},o=(u,h,f)=>{if(!u||!vv(h,f))return f;const p=Dk(h,f);if(!p)return e(f),null;const m=Ni(f,p);return e(m),Ni(f,m)};return u=>{const h=u.scrollJumpRequest;if(!h)return;const f=Mi(u.impact);f||gt();const p=a(u.dimensions.droppables[f],h);if(!p)return;const m=u.viewport,v=o(u.isWindowScrollAllowed,m,p);v&&i(u,v)}},Pk=({scrollDroppable:r,scrollWindow:t,move:e,getAutoScrollerOptions:i})=>{const a=Mk({scrollWindow:t,scrollDroppable:r,getAutoScrollerOptions:i}),o=Lk({move:e,scrollWindow:t,scrollDroppable:r});return{scroll:h=>{if(!(i().disabled||h.phase!=="DRAGGING")){if(h.movementMode==="FLUID"){a.scroll(h);return}h.scrollJumpRequest&&o(h)}},start:a.start,stop:a.stop}};const Zl="data-rfd",Jl=(()=>{const r=`${Zl}-drag-handle`;return{base:r,draggableId:`${r}-draggable-id`,contextId:`${r}-context-id`}})(),fb=(()=>{const r=`${Zl}-draggable`;return{base:r,contextId:`${r}-context-id`,id:`${r}-id`}})(),Ik=(()=>{const r=`${Zl}-droppable`;return{base:r,contextId:`${r}-context-id`,id:`${r}-id`}})(),UE={contextId:`${Zl}-scroll-container-context-id`},kk=r=>t=>`[${t}="${r}"]`,ju=(r,t)=>r.map(e=>{const i=e.styles[t];return i?`${e.selector} { ${i} }`:""}).join(" "),Bk="pointer-events: none;";var Fk=r=>{const t=kk(r),e=(()=>{const u=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Jl.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:u,dragging:Bk,dropAnimating:u}}})(),i=(()=>{const u=`
      transition: ${Ku.outOfTheWay};
    `;return{selector:t(fb.contextId),styles:{dragging:u,dropAnimating:u,userCancel:u}}})(),a={selector:t(Ik.contextId),styles:{always:"overflow-anchor: none;"}},c=[i,e,a,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:ju(c,"always"),resting:ju(c,"resting"),dragging:ju(c,"dragging"),dropAnimating:ju(c,"dropAnimating"),userCancel:ju(c,"userCancel")}};const Li=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?V.useLayoutEffect:V.useEffect,jm=()=>{const r=document.querySelector("head");return r||gt(),r},GE=r=>{const t=document.createElement("style");return r&&t.setAttribute("nonce",r),t.type="text/css",t};function Hk(r,t){const e=de(()=>Fk(r),[r]),i=V.useRef(null),a=V.useRef(null),o=Rt(gn(m=>{const v=a.current;v||gt(),v.textContent=m}),[]),c=Rt(m=>{const v=i.current;v||gt(),v.textContent=m},[]);Li(()=>{!i.current&&!a.current||gt();const m=GE(t),v=GE(t);return i.current=m,a.current=v,m.setAttribute(`${Zl}-always`,r),v.setAttribute(`${Zl}-dynamic`,r),jm().appendChild(m),jm().appendChild(v),c(e.always),o(e.resting),()=>{const _=S=>{const E=S.current;E||gt(),jm().removeChild(E),S.current=null};_(i),_(a)}},[t,c,o,e.always,e.resting,r]);const u=Rt(()=>o(e.dragging),[o,e.dragging]),h=Rt(m=>{if(m==="DROP"){o(e.dropAnimating);return}o(e.userCancel)},[o,e.dropAnimating,e.userCancel]),f=Rt(()=>{a.current&&o(e.resting)},[o,e.resting]);return de(()=>({dragging:u,dropping:h,resting:f}),[u,h,f])}function Qw(r,t){return Array.from(r.querySelectorAll(t))}var Zw=r=>r&&r.ownerDocument&&r.ownerDocument.defaultView?r.ownerDocument.defaultView:window;function Ap(r){return r instanceof Zw(r).HTMLElement}function jk(r,t){const e=`[${Jl.contextId}="${r}"]`,i=Qw(document,e);if(!i.length)return null;const a=i.find(o=>o.getAttribute(Jl.draggableId)===t);return!a||!Ap(a)?null:a}function zk(r){const t=V.useRef({}),e=V.useRef(null),i=V.useRef(null),a=V.useRef(!1),o=Rt(function(v,_){const S={id:v,focus:_};return t.current[v]=S,function(){const T=t.current;T[v]!==S&&delete T[v]}},[]),c=Rt(function(v){const _=jk(r,v);_&&_!==document.activeElement&&_.focus()},[r]),u=Rt(function(v,_){e.current===v&&(e.current=_)},[]),h=Rt(function(){i.current||a.current&&(i.current=requestAnimationFrame(()=>{i.current=null;const v=e.current;v&&c(v)}))},[c]),f=Rt(function(v){e.current=null;const _=document.activeElement;_&&_.getAttribute(Jl.draggableId)===v&&(e.current=v)},[]);return Li(()=>(a.current=!0,function(){a.current=!1;const v=i.current;v&&cancelAnimationFrame(v)}),[]),de(()=>({register:o,tryRecordFocus:f,tryRestoreFocusRecorded:h,tryShiftRecord:u}),[o,f,h,u])}function $k(){const r={draggables:{},droppables:{}},t=[];function e(m){return t.push(m),function(){const _=t.indexOf(m);_!==-1&&t.splice(_,1)}}function i(m){t.length&&t.forEach(v=>v(m))}function a(m){return r.draggables[m]||null}function o(m){const v=a(m);return v||gt(),v}const c={register:m=>{r.draggables[m.descriptor.id]=m,i({type:"ADDITION",value:m})},update:(m,v)=>{const _=r.draggables[v.descriptor.id];_&&_.uniqueId===m.uniqueId&&(delete r.draggables[v.descriptor.id],r.draggables[m.descriptor.id]=m)},unregister:m=>{const v=m.descriptor.id,_=a(v);_&&m.uniqueId===_.uniqueId&&(delete r.draggables[v],r.droppables[m.descriptor.droppableId]&&i({type:"REMOVAL",value:m}))},getById:o,findById:a,exists:m=>!!a(m),getAllByType:m=>Object.values(r.draggables).filter(v=>v.descriptor.type===m)};function u(m){return r.droppables[m]||null}function h(m){const v=u(m);return v||gt(),v}const f={register:m=>{r.droppables[m.descriptor.id]=m},unregister:m=>{const v=u(m.descriptor.id);v&&m.uniqueId===v.uniqueId&&delete r.droppables[m.descriptor.id]},getById:h,findById:u,exists:m=>!!u(m),getAllByType:m=>Object.values(r.droppables).filter(v=>v.descriptor.type===m)};function p(){r.draggables={},r.droppables={},t.length=0}return{draggable:c,droppable:f,subscribe:e,clean:p}}function Uk(){const r=de($k,[]);return V.useEffect(()=>function(){r.clean()},[r]),r}var _v=je.createContext(null),Xf=()=>{const r=document.body;return r||gt(),r};const Gk={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Vk=r=>`rfd-announcement-${r}`;function qk(r){const t=de(()=>Vk(r),[r]),e=V.useRef(null);return V.useEffect(function(){const o=document.createElement("div");return e.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),Vf(o.style,Gk),Xf().appendChild(o),function(){setTimeout(function(){const h=Xf();h.contains(o)&&h.removeChild(o),o===e.current&&(e.current=null)})}},[t]),Rt(a=>{const o=e.current;if(o){o.textContent=a;return}},[])}const Yk={separator:"::"};function Av(r,t=Yk){const e=je.useId();return de(()=>`${r}${t.separator}${e}`,[t.separator,r,e])}function Wk({contextId:r,uniqueId:t}){return`rfd-hidden-text-${r}-${t}`}function Xk({contextId:r,text:t}){const e=Av("hidden-text",{separator:"-"}),i=de(()=>Wk({contextId:r,uniqueId:e}),[e,r]);return V.useEffect(function(){const o=document.createElement("div");return o.id=i,o.textContent=t,o.style.display="none",Xf().appendChild(o),function(){const u=Xf();u.contains(o)&&u.removeChild(o)}},[i,t]),i}var Ep=je.createContext(null);function Jw(r){const t=V.useRef(r);return V.useEffect(()=>{t.current=r}),t}function Kk(){let r=null;function t(){return!!r}function e(c){return c===r}function i(c){r&&gt();const u={abandon:c};return r=u,u}function a(){r||gt(),r=null}function o(){r&&(r.abandon(),a())}return{isClaimed:t,isActive:e,claim:i,release:a,tryAbandon:o}}function cd(r){return r.phase==="IDLE"||r.phase==="DROP_ANIMATING"?!1:r.isDragging}const Qk=9,Zk=13,Ev=27,tT=32,Jk=33,tB=34,eB=35,nB=36,iB=37,sB=38,rB=39,aB=40,oB={[Zk]:!0,[Qk]:!0};var eT=r=>{oB[r.keyCode]&&r.preventDefault()};const Sp=(()=>{const r="visibilitychange";return typeof document>"u"?r:[r,`ms${r}`,`webkit${r}`,`moz${r}`,`o${r}`].find(i=>`on${i}`in document)||r})(),nT=0,VE=5;function lB(r,t){return Math.abs(t.x-r.x)>=VE||Math.abs(t.y-r.y)>=VE}const qE={type:"IDLE"};function cB({cancel:r,completed:t,getPhase:e,setPhase:i}){return[{eventName:"mousemove",fn:a=>{const{button:o,clientX:c,clientY:u}=a;if(o!==nT)return;const h={x:c,y:u},f=e();if(f.type==="DRAGGING"){a.preventDefault(),f.actions.move(h);return}f.type!=="PENDING"&&gt();const p=f.point;if(!lB(p,h))return;a.preventDefault();const m=f.actions.fluidLift(h);i({type:"DRAGGING",actions:m})}},{eventName:"mouseup",fn:a=>{const o=e();if(o.type!=="DRAGGING"){r();return}a.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:a=>{e().type==="DRAGGING"&&a.preventDefault(),r()}},{eventName:"keydown",fn:a=>{if(e().type==="PENDING"){r();return}if(a.keyCode===Ev){a.preventDefault(),r();return}eT(a)}},{eventName:"resize",fn:r},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{e().type==="PENDING"&&r()}},{eventName:"webkitmouseforcedown",fn:a=>{const o=e();if(o.type==="IDLE"&&gt(),o.actions.shouldRespectForcePress()){r();return}a.preventDefault()}},{eventName:Sp,fn:r}]}function uB(r){const t=V.useRef(qE),e=V.useRef(Pa),i=de(()=>({eventName:"mousedown",fn:function(m){if(m.defaultPrevented||m.button!==nT||m.ctrlKey||m.metaKey||m.shiftKey||m.altKey)return;const v=r.findClosestDraggableId(m);if(!v)return;const _=r.tryGetLock(v,c,{sourceEvent:m});if(!_)return;m.preventDefault();const S={x:m.clientX,y:m.clientY};e.current(),f(_,S)}}),[r]),a=de(()=>({eventName:"webkitmouseforcewillbegin",fn:p=>{if(p.defaultPrevented)return;const m=r.findClosestDraggableId(p);if(!m)return;const v=r.findOptionsForDraggable(m);v&&(v.shouldRespectForcePress||r.canGetLock(m)&&p.preventDefault())}}),[r]),o=Rt(function(){const m={passive:!1,capture:!0};e.current=ts(window,[a,i],m)},[a,i]),c=Rt(()=>{t.current.type!=="IDLE"&&(t.current=qE,e.current(),o())},[o]),u=Rt(()=>{const p=t.current;c(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[c]),h=Rt(function(){const m={capture:!0,passive:!1},v=cB({cancel:u,completed:c,getPhase:()=>t.current,setPhase:_=>{t.current=_}});e.current=ts(window,v,m)},[u,c]),f=Rt(function(m,v){t.current.type!=="IDLE"&&gt(),t.current={type:"PENDING",point:v,actions:m},h()},[h]);Li(function(){return o(),function(){e.current()}},[o])}function dB(){}const hB={[tB]:!0,[Jk]:!0,[nB]:!0,[eB]:!0};function fB(r,t){function e(){t(),r.cancel()}function i(){t(),r.drop()}return[{eventName:"keydown",fn:a=>{if(a.keyCode===Ev){a.preventDefault(),e();return}if(a.keyCode===tT){a.preventDefault(),i();return}if(a.keyCode===aB){a.preventDefault(),r.moveDown();return}if(a.keyCode===sB){a.preventDefault(),r.moveUp();return}if(a.keyCode===rB){a.preventDefault(),r.moveRight();return}if(a.keyCode===iB){a.preventDefault(),r.moveLeft();return}if(hB[a.keyCode]){a.preventDefault();return}eT(a)}},{eventName:"mousedown",fn:e},{eventName:"mouseup",fn:e},{eventName:"click",fn:e},{eventName:"touchstart",fn:e},{eventName:"resize",fn:e},{eventName:"wheel",fn:e,options:{passive:!0}},{eventName:Sp,fn:e}]}function pB(r){const t=V.useRef(dB),e=de(()=>({eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==tT)return;const c=r.findClosestDraggableId(o);if(!c)return;const u=r.tryGetLock(c,p,{sourceEvent:o});if(!u)return;o.preventDefault();let h=!0;const f=u.snapLift();t.current();function p(){h||gt(),h=!1,t.current(),i()}t.current=ts(window,fB(f,p),{capture:!0,passive:!1})}}),[r]),i=Rt(function(){const o={passive:!1,capture:!0};t.current=ts(window,[e],o)},[e]);Li(function(){return i(),function(){t.current()}},[i])}const zm={type:"IDLE"},gB=120,mB=.15;function bB({cancel:r,getPhase:t}){return[{eventName:"orientationchange",fn:r},{eventName:"resize",fn:r},{eventName:"contextmenu",fn:e=>{e.preventDefault()}},{eventName:"keydown",fn:e=>{if(t().type!=="DRAGGING"){r();return}e.keyCode===Ev&&e.preventDefault(),r()}},{eventName:Sp,fn:r}]}function vB({cancel:r,completed:t,getPhase:e}){return[{eventName:"touchmove",options:{capture:!1},fn:i=>{const a=e();if(a.type!=="DRAGGING"){r();return}a.hasMoved=!0;const{clientX:o,clientY:c}=i.touches[0],u={x:o,y:c};i.preventDefault(),a.actions.move(u)}},{eventName:"touchend",fn:i=>{const a=e();if(a.type!=="DRAGGING"){r();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:i=>{if(e().type!=="DRAGGING"){r();return}i.preventDefault(),r()}},{eventName:"touchforcechange",fn:i=>{const a=e();a.type==="IDLE"&&gt();const o=i.touches[0];if(!o||!(o.force>=mB))return;const u=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){u&&r();return}if(u){if(a.hasMoved){i.preventDefault();return}r();return}i.preventDefault()}},{eventName:Sp,fn:r}]}function yB(r){const t=V.useRef(zm),e=V.useRef(Pa),i=Rt(function(){return t.current},[]),a=Rt(function(_){t.current=_},[]),o=de(()=>({eventName:"touchstart",fn:function(_){if(_.defaultPrevented)return;const S=r.findClosestDraggableId(_);if(!S)return;const E=r.tryGetLock(S,u,{sourceEvent:_});if(!E)return;const T=_.touches[0],{clientX:C,clientY:N}=T,L={x:C,y:N};e.current(),m(E,L)}}),[r]),c=Rt(function(){const _={capture:!0,passive:!1};e.current=ts(window,[o],_)},[o]),u=Rt(()=>{const v=t.current;v.type!=="IDLE"&&(v.type==="PENDING"&&clearTimeout(v.longPressTimerId),a(zm),e.current(),c())},[c,a]),h=Rt(()=>{const v=t.current;u(),v.type==="DRAGGING"&&v.actions.cancel({shouldBlockNextClick:!0}),v.type==="PENDING"&&v.actions.abort()},[u]),f=Rt(function(){const _={capture:!0,passive:!1},S={cancel:h,completed:u,getPhase:i},E=ts(window,vB(S),_),T=ts(window,bB(S),_);e.current=function(){E(),T()}},[h,i,u]),p=Rt(function(){const _=i();_.type!=="PENDING"&&gt();const S=_.actions.fluidLift(_.point);a({type:"DRAGGING",actions:S,hasMoved:!1})},[i,a]),m=Rt(function(_,S){i().type!=="IDLE"&&gt();const E=setTimeout(p,gB);a({type:"PENDING",point:S,actions:_,longPressTimerId:E}),f()},[f,i,a,p]);Li(function(){return c(),function(){e.current();const S=i();S.type==="PENDING"&&(clearTimeout(S.longPressTimerId),a(zm))}},[i,c,a]),Li(function(){return ts(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const _B=["input","button","textarea","select","option","optgroup","video","audio"];function iT(r,t){if(t==null)return!1;if(_B.includes(t.tagName.toLowerCase()))return!0;const i=t.getAttribute("contenteditable");return i==="true"||i===""?!0:t===r?!1:iT(r,t.parentElement)}function AB(r,t){const e=t.target;return Ap(e)?iT(r,e):!1}var EB=r=>As(r.getBoundingClientRect()).center;function SB(r){return r instanceof Zw(r).Element}const wB=(()=>{const r="matches";return typeof document>"u"?r:[r,"msMatchesSelector","webkitMatchesSelector"].find(i=>i in Element.prototype)||r})();function sT(r,t){return r==null?null:r[wB](t)?r:sT(r.parentElement,t)}function TB(r,t){return r.closest?r.closest(t):sT(r,t)}function xB(r){return`[${Jl.contextId}="${r}"]`}function CB(r,t){const e=t.target;if(!SB(e))return null;const i=xB(r),a=TB(e,i);return!a||!Ap(a)?null:a}function DB(r,t){const e=CB(r,t);return e?e.getAttribute(Jl.draggableId):null}function OB(r,t){const e=`[${fb.contextId}="${r}"]`,a=Qw(document,e).find(o=>o.getAttribute(fb.id)===t);return!a||!Ap(a)?null:a}function RB(r){r.preventDefault()}function Cf({expected:r,phase:t,isLockActive:e,shouldWarn:i}){return!(!e()||r!==t)}function rT({lockAPI:r,store:t,registry:e,draggableId:i}){if(r.isClaimed())return!1;const a=e.draggable.findById(i);return!(!a||!a.options.isEnabled||!Yw(t.getState(),i))}function NB({lockAPI:r,contextId:t,store:e,registry:i,draggableId:a,forceSensorStop:o,sourceEvent:c}){if(!rT({lockAPI:r,store:e,registry:i,draggableId:a}))return null;const h=i.draggable.getById(a),f=OB(t,h.descriptor.id);if(!f||c&&!h.options.canDragInteractiveElements&&AB(f,c))return null;const p=r.claim(o||Pa);let m="PRE_DRAG";function v(){return h.options.shouldRespectForcePress}function _(){return r.isActive(p)}function S(M,I){Cf({expected:M,phase:m,isLockActive:_,shouldWarn:!0})&&e.dispatch(I())}const E=S.bind(null,"DRAGGING");function T(M){function I(){r.release(),m="COMPLETED"}m!=="PRE_DRAG"&&(I(),gt()),e.dispatch(T2(M.liftActionArgs)),m="DRAGGING";function F(q,Z={shouldBlockNextClick:!1}){if(M.cleanup(),Z.shouldBlockNextClick){const nt=ts(window,[{eventName:"click",fn:RB,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(nt)}I(),e.dispatch(Hw({reason:q}))}return{isActive:()=>Cf({expected:"DRAGGING",phase:m,isLockActive:_,shouldWarn:!1}),shouldRespectForcePress:v,drop:q=>F("DROP",q),cancel:q=>F("CANCEL",q),...M.actions}}function C(M){const I=id(q=>{E(()=>Fw({client:q}))});return{...T({liftActionArgs:{id:a,clientSelection:M,movementMode:"FLUID"},cleanup:()=>I.cancel(),actions:{move:I}}),move:I}}function N(){const M={moveUp:()=>E(P2),moveRight:()=>E(k2),moveDown:()=>E(I2),moveLeft:()=>E(B2)};return T({liftActionArgs:{id:a,clientSelection:EB(f),movementMode:"SNAP"},cleanup:Pa,actions:M})}function L(){Cf({expected:"PRE_DRAG",phase:m,isLockActive:_,shouldWarn:!0})&&r.release()}return{isActive:()=>Cf({expected:"PRE_DRAG",phase:m,isLockActive:_,shouldWarn:!1}),shouldRespectForcePress:v,fluidLift:C,snapLift:N,abort:L}}const MB=[uB,pB,yB];function LB({contextId:r,store:t,registry:e,customSensors:i,enableDefaultSensors:a}){const o=[...a?MB:[],...i||[]],c=V.useState(()=>Kk())[0],u=Rt(function(T,C){cd(T)&&!cd(C)&&c.tryAbandon()},[c]);Li(function(){let T=t.getState();return t.subscribe(()=>{const N=t.getState();u(T,N),T=N})},[c,t,u]),Li(()=>c.tryAbandon,[c.tryAbandon]);const h=Rt(E=>rT({lockAPI:c,registry:e,store:t,draggableId:E}),[c,e,t]),f=Rt((E,T,C)=>NB({lockAPI:c,registry:e,contextId:r,store:t,draggableId:E,forceSensorStop:T||null,sourceEvent:C&&C.sourceEvent?C.sourceEvent:null}),[r,c,e,t]),p=Rt(E=>DB(r,E),[r]),m=Rt(E=>{const T=e.draggable.findById(E);return T?T.options:null},[e.draggable]),v=Rt(function(){c.isClaimed()&&(c.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(fv()))},[c,t]),_=Rt(()=>c.isClaimed(),[c]),S=de(()=>({canGetLock:h,tryGetLock:f,findClosestDraggableId:p,findOptionsForDraggable:m,tryReleaseLock:v,isLockClaimed:_}),[h,f,p,m,v,_]);for(let E=0;E<o.length;E++)o[E](S)}const PB=r=>({onBeforeCapture:t=>{const e=()=>{r.onBeforeCapture&&r.onBeforeCapture(t)};ev.flushSync(e)},onBeforeDragStart:r.onBeforeDragStart,onDragStart:r.onDragStart,onDragEnd:r.onDragEnd,onDragUpdate:r.onDragUpdate}),IB=r=>({...ld,...r.autoScrollerOptions,durationDampening:{...ld.durationDampening,...r.autoScrollerOptions}});function zu(r){return r.current||gt(),r.current}function kB(r){const{contextId:t,setCallbacks:e,sensors:i,nonce:a,dragHandleUsageInstructions:o}=r,c=V.useRef(null),u=Jw(r),h=Rt(()=>PB(u.current),[u]),f=Rt(()=>IB(u.current),[u]),p=qk(t),m=Xk({contextId:t,text:o}),v=Hk(t,a),_=Rt(nt=>{zu(c).dispatch(nt)},[]),S=de(()=>vE({publishWhileDragging:C2,updateDroppableScroll:O2,updateDroppableIsEnabled:R2,updateDroppableIsCombineEnabled:N2,collectionStarting:D2},_),[_]),E=Uk(),T=de(()=>bk(E,S),[E,S]),C=de(()=>Pk({scrollWindow:vk,scrollDroppable:T.scrollDroppable,getAutoScrollerOptions:f,...vE({move:Fw},_)}),[T.scrollDroppable,_,f]),N=zk(t),L=de(()=>fk({announce:p,autoScroller:C,dimensionMarshal:T,focusMarshal:N,getResponders:h,styleMarshal:v}),[p,C,T,N,h,v]);c.current=L;const P=Rt(()=>{const nt=zu(c);nt.getState().phase!=="IDLE"&&nt.dispatch(fv())},[]),M=Rt(()=>{const nt=zu(c).getState();return nt.phase==="DROP_ANIMATING"?!0:nt.phase==="IDLE"?!1:nt.isDragging},[]),I=de(()=>({isDragging:M,tryAbort:P}),[M,P]);e(I);const F=Rt(nt=>Yw(zu(c).getState(),nt),[]),q=Rt(()=>vo(zu(c).getState()),[]),Z=de(()=>({marshal:T,focus:N,contextId:t,canLift:F,isMovementAllowed:q,dragHandleUsageInstructionsId:m,registry:E}),[t,T,m,N,F,q,E]);return LB({contextId:t,store:L,registry:E,customSensors:i||null,enableDefaultSensors:r.enableDefaultSensors!==!1}),V.useEffect(()=>P,[P]),je.createElement(Ep.Provider,{value:Z},je.createElement(cI,{context:_v,store:L},r.children))}function BB(){return je.useId()}function FB(r){const t=BB(),e=r.dragHandleUsageInstructions||If.dragHandleUsageInstructions;return je.createElement(pI,null,i=>je.createElement(kB,{nonce:r.nonce,contextId:t,setCallbacks:i,dragHandleUsageInstructions:e,enableDefaultSensors:r.enableDefaultSensors,sensors:r.sensors,onBeforeCapture:r.onBeforeCapture,onBeforeDragStart:r.onBeforeDragStart,onDragStart:r.onDragStart,onDragUpdate:r.onDragUpdate,onDragEnd:r.onDragEnd,autoScrollerOptions:r.autoScrollerOptions},r.children))}const YE={dragging:5e3,dropAnimating:4500},HB=(r,t)=>t?Ku.drop(t.duration):r?Ku.snap:Ku.fluid,jB=(r,t)=>{if(r)return t?od.opacity.drop:od.opacity.combining},zB=r=>r.forceShouldAnimate!=null?r.forceShouldAnimate:r.mode==="SNAP";function $B(r){const e=r.dimension.client,{offset:i,combineWith:a,dropping:o}=r,c=!!a,u=zB(r),h=!!o,f=h?db.drop(i,c):db.moveTo(i);return{position:"fixed",top:e.marginBox.top,left:e.marginBox.left,boxSizing:"border-box",width:e.borderBox.width,height:e.borderBox.height,transition:HB(u,o),transform:f,opacity:jB(c,h),zIndex:h?YE.dropAnimating:YE.dragging,pointerEvents:"none"}}function UB(r){return{transform:db.moveTo(r.offset),transition:r.shouldAnimateDisplacement?void 0:"none"}}function GB(r){return r.type==="DRAGGING"?$B(r):UB(r)}function VB(r,t,e=mn){const i=window.getComputedStyle(t),a=t.getBoundingClientRect(),o=hw(a,i),c=Gf(o,e),u={client:o,tagName:t.tagName.toLowerCase(),display:i.display},h={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:r,placeholder:u,displaceBy:h,client:o,page:c}}function qB(r){const t=Av("draggable"),{descriptor:e,registry:i,getDraggableRef:a,canDragInteractiveElements:o,shouldRespectForcePress:c,isEnabled:u}=r,h=de(()=>({canDragInteractiveElements:o,shouldRespectForcePress:c,isEnabled:u}),[o,u,c]),f=Rt(_=>{const S=a();return S||gt(),VB(e,S,_)},[e,a]),p=de(()=>({uniqueId:t,descriptor:e,options:h,getDimension:f}),[e,f,h,t]),m=V.useRef(p),v=V.useRef(!0);Li(()=>(i.draggable.register(m.current),()=>i.draggable.unregister(m.current)),[i.draggable]),Li(()=>{if(v.current){v.current=!1;return}const _=m.current;m.current=p,i.draggable.update(p,_)},[p,i.draggable])}var Sv=je.createContext(null);function Kf(r){const t=V.useContext(r);return t||gt(),t}function YB(r){r.preventDefault()}const WB=r=>{const t=V.useRef(null),e=Rt((I=null)=>{t.current=I},[]),i=Rt(()=>t.current,[]),{contextId:a,dragHandleUsageInstructionsId:o,registry:c}=Kf(Ep),{type:u,droppableId:h}=Kf(Sv),f=de(()=>({id:r.draggableId,index:r.index,type:u,droppableId:h}),[r.draggableId,r.index,u,h]),{children:p,draggableId:m,isEnabled:v,shouldRespectForcePress:_,canDragInteractiveElements:S,isClone:E,mapped:T,dropAnimationFinished:C}=r;if(!E){const I=de(()=>({descriptor:f,registry:c,getDraggableRef:i,canDragInteractiveElements:S,shouldRespectForcePress:_,isEnabled:v}),[f,c,i,S,_,v]);qB(I)}const N=de(()=>v?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":m,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:YB}:null,[a,o,m,v]),L=Rt(I=>{T.type==="DRAGGING"&&T.dropping&&I.propertyName==="transform"&&ev.flushSync(C)},[C,T]),P=de(()=>{const I=GB(T),F=T.type==="DRAGGING"&&T.dropping?L:void 0;return{innerRef:e,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":m,style:I,onTransitionEnd:F},dragHandleProps:N}},[a,N,m,T,L,e]),M=de(()=>({draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}),[f.droppableId,f.id,f.index,f.type]);return je.createElement(je.Fragment,null,p(P,T.snapshot,M))};var aT=(r,t)=>r===t,oT=r=>{const{combine:t,destination:e}=r;return e?e.droppableId:t?t.droppableId:null};const XB=r=>r.combine?r.combine.draggableId:null,KB=r=>r.at&&r.at.type==="COMBINE"?r.at.combine.draggableId:null;function QB(){const r=gn((a,o)=>({x:a,y:o})),t=gn((a,o,c=null,u=null,h=null)=>({isDragging:!0,isClone:o,isDropAnimating:!!h,dropAnimation:h,mode:a,draggingOver:c,combineWith:u,combineTargetFor:null})),e=gn((a,o,c,u,h=null,f=null,p=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:h,combineWith:f,mode:o,offset:a,dimension:c,forceShouldAnimate:p,snapshot:t(o,u,h,f,null)}}));return(a,o)=>{if(cd(a)){if(a.critical.draggable.id!==o.draggableId)return null;const c=a.current.client.offset,u=a.dimensions.draggables[o.draggableId],h=Mi(a.impact),f=KB(a.impact),p=a.forceShouldAnimate;return e(r(c.x,c.y),a.movementMode,u,o.isClone,h,f,p)}if(a.phase==="DROP_ANIMATING"){const c=a.completed;if(c.result.draggableId!==o.draggableId)return null;const u=o.isClone,h=a.dimensions.draggables[o.draggableId],f=c.result,p=f.mode,m=oT(f),v=XB(f),S={duration:a.dropDuration,curve:gv.drop,moveTo:a.newHomeClientOffset,opacity:v?od.opacity.drop:null,scale:v?od.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:h,dropping:S,draggingOver:m,combineWith:v,mode:p,forceShouldAnimate:null,snapshot:t(p,u,m,v,S)}}}return null}}function lT(r=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:r,combineWith:null}}const ZB={mapped:{type:"SECONDARY",offset:mn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:lT(null)}};function JB(){const r=gn((c,u)=>({x:c,y:u})),t=gn(lT),e=gn((c,u=null,h)=>({mapped:{type:"SECONDARY",offset:c,combineTargetFor:u,shouldAnimateDisplacement:h,snapshot:t(u)}})),i=c=>c?e(mn,c,!0):null,a=(c,u,h,f)=>{const p=h.displaced.visible[c],m=!!(f.inVirtualList&&f.effected[c]),v=vp(h),_=v&&v.draggableId===c?u:null;if(!p){if(!m)return i(_);if(h.displaced.invisible[c])return null;const T=rc(f.displacedBy.point),C=r(T.x,T.y);return e(C,_,!0)}if(m)return i(_);const S=h.displacedBy.point,E=r(S.x,S.y);return e(E,_,p.shouldAnimate)};return(c,u)=>{if(cd(c))return c.critical.draggable.id===u.draggableId?null:a(u.draggableId,c.critical.draggable.id,c.impact,c.afterCritical);if(c.phase==="DROP_ANIMATING"){const h=c.completed;return h.result.draggableId===u.draggableId?null:a(u.draggableId,h.result.draggableId,h.impact,h.afterCritical)}return null}}const tF=()=>{const r=QB(),t=JB();return(i,a)=>r(i,a)||t(i,a)||ZB},eF={dropAnimationFinished:jw},nF=dw(tF,eF,null,{context:_v,areStatePropsEqual:aT})(WB);function cT(r){return Kf(Sv).isUsingCloneFor===r.draggableId&&!r.isClone?null:je.createElement(nF,r)}function iF(r){const t=typeof r.isDragDisabled=="boolean"?!r.isDragDisabled:!0,e=!!r.disableInteractiveElementBlocking,i=!!r.shouldRespectForcePress;return je.createElement(cT,Vf({},r,{isClone:!1,isEnabled:t,canDragInteractiveElements:e,shouldRespectForcePress:i}))}const uT=r=>t=>r===t,sF=uT("scroll"),rF=uT("auto"),WE=(r,t)=>t(r.overflowX)||t(r.overflowY),aF=r=>{const t=window.getComputedStyle(r),e={overflowX:t.overflowX,overflowY:t.overflowY};return WE(e,sF)||WE(e,rF)},oF=()=>!1,dT=r=>r==null?null:r===document.body?oF()?r:null:r===document.documentElement?null:aF(r)?r:dT(r.parentElement);var pb=r=>({x:r.scrollLeft,y:r.scrollTop});const hT=r=>r?window.getComputedStyle(r).position==="fixed"?!0:hT(r.parentElement):!1;var lF=r=>{const t=dT(r),e=hT(r);return{closestScrollable:t,isFixedOnPage:e}},cF=({descriptor:r,isEnabled:t,isCombineEnabled:e,isFixedOnPage:i,direction:a,client:o,page:c,closest:u})=>{const h=(()=>{if(!u)return null;const{scrollSize:v,client:_}=u,S=Gw({scrollHeight:v.scrollHeight,scrollWidth:v.scrollWidth,height:_.paddingBox.height,width:_.paddingBox.width});return{pageMarginBox:u.page.marginBox,frameClient:_,scrollSize:v,shouldClipSubject:u.shouldClipSubject,scroll:{initial:u.scroll,current:u.scroll,max:S,diff:{value:mn,displacement:mn}}}})(),f=a==="vertical"?lv:Sw,p=Ql({page:c,withPlaceholder:null,axis:f,frame:h});return{descriptor:r,isCombineEnabled:e,isFixedOnPage:i,axis:f,isEnabled:t,client:o,page:c,frame:h,subject:p}};const uF=(r,t)=>{const e=fw(r);if(!t||r!==t)return e;const i=e.paddingBox.top-t.scrollTop,a=e.paddingBox.left-t.scrollLeft,o=i+t.scrollHeight,c=a+t.scrollWidth,h=sv({top:i,right:c,bottom:o,left:a},e.border);return rv({borderBox:h,margin:e.margin,border:e.border,padding:e.padding})};var dF=({ref:r,descriptor:t,env:e,windowScroll:i,direction:a,isDropDisabled:o,isCombineEnabled:c,shouldClipSubject:u})=>{const h=e.closestScrollable,f=uF(r,h),p=Gf(f,i),m=(()=>{if(!h)return null;const _=fw(h),S={scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth};return{client:_,page:Gf(_,i),scroll:pb(h),scrollSize:S,shouldClipSubject:u}})();return cF({descriptor:t,isEnabled:!o,isCombineEnabled:c,isFixedOnPage:e.isFixedOnPage,direction:a,client:f,page:p,closest:m})};const hF={passive:!1},fF={passive:!0};var XE=r=>r.shouldPublishImmediately?hF:fF;const Df=r=>r&&r.env.closestScrollable||null;function pF(r){const t=V.useRef(null),e=Kf(Ep),i=Av("droppable"),{registry:a,marshal:o}=e,c=Jw(r),u=de(()=>({id:r.droppableId,type:r.type,mode:r.mode}),[r.droppableId,r.mode,r.type]),h=V.useRef(u),f=de(()=>gn((P,M)=>{t.current||gt();const I={x:P,y:M};o.updateDroppableScroll(u.id,I)}),[u.id,o]),p=Rt(()=>{const P=t.current;return!P||!P.env.closestScrollable?mn:pb(P.env.closestScrollable)},[]),m=Rt(()=>{const P=p();f(P.x,P.y)},[p,f]),v=de(()=>id(m),[m]),_=Rt(()=>{const P=t.current,M=Df(P);if(P&&M||gt(),P.scrollOptions.shouldPublishImmediately){m();return}v()},[v,m]),S=Rt((P,M)=>{t.current&&gt();const I=c.current,F=I.getDroppableRef();F||gt();const q=lF(F),Z={ref:F,descriptor:u,env:q,scrollOptions:M};t.current=Z;const nt=dF({ref:F,descriptor:u,env:q,windowScroll:P,direction:I.direction,isDropDisabled:I.isDropDisabled,isCombineEnabled:I.isCombineEnabled,shouldClipSubject:!I.ignoreContainerClipping}),tt=q.closestScrollable;return tt&&(tt.setAttribute(UE.contextId,e.contextId),tt.addEventListener("scroll",_,XE(Z.scrollOptions))),nt},[e.contextId,u,_,c]),E=Rt(()=>{const P=t.current,M=Df(P);return P&&M||gt(),pb(M)},[]),T=Rt(()=>{const P=t.current;P||gt();const M=Df(P);t.current=null,M&&(v.cancel(),M.removeAttribute(UE.contextId),M.removeEventListener("scroll",_,XE(P.scrollOptions)))},[_,v]),C=Rt(P=>{const M=t.current;M||gt();const I=Df(M);I||gt(),I.scrollTop+=P.y,I.scrollLeft+=P.x},[]),N=de(()=>({getDimensionAndWatchScroll:S,getScrollWhileDragging:E,dragStopped:T,scroll:C}),[T,S,E,C]),L=de(()=>({uniqueId:i,descriptor:u,callbacks:N}),[N,u,i]);Li(()=>(h.current=L.descriptor,a.droppable.register(L),()=>{t.current&&T(),a.droppable.unregister(L)}),[N,u,T,L,o,a.droppable]),Li(()=>{t.current&&o.updateDroppableIsEnabled(h.current.id,!r.isDropDisabled)},[r.isDropDisabled,o]),Li(()=>{t.current&&o.updateDroppableIsCombineEnabled(h.current.id,r.isCombineEnabled)},[r.isCombineEnabled,o])}function $m(){}const KE={width:0,height:0,margin:AI},gF=({isAnimatingOpenOnMount:r,placeholder:t,animate:e})=>r||e==="close"?KE:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},mF=({isAnimatingOpenOnMount:r,placeholder:t,animate:e})=>{const i=gF({isAnimatingOpenOnMount:r,placeholder:t,animate:e});return{display:t.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:e!=="none"?Ku.placeholder:null}},bF=r=>{const t=V.useRef(null),e=Rt(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:i,onTransitionEnd:a,onClose:o,contextId:c}=r,[u,h]=V.useState(r.animate==="open");V.useEffect(()=>u?i!=="open"?(e(),h(!1),$m):t.current?$m:(t.current=setTimeout(()=>{t.current=null,h(!1)}),e):$m,[i,u,e]);const f=Rt(m=>{m.propertyName==="height"&&(a(),i==="close"&&o())},[i,o,a]),p=mF({isAnimatingOpenOnMount:u,animate:r.animate,placeholder:r.placeholder});return je.createElement(r.placeholder.tagName,{style:p,"data-rfd-placeholder-context-id":c,onTransitionEnd:f,ref:r.innerRef})};var vF=je.memo(bF);class yF extends je.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,e){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:e.isVisible?{isVisible:!0,data:e.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const _F=r=>{const t=V.useContext(Ep);t||gt();const{contextId:e,isMovementAllowed:i}=t,a=V.useRef(null),o=V.useRef(null),{children:c,droppableId:u,type:h,mode:f,direction:p,ignoreContainerClipping:m,isDropDisabled:v,isCombineEnabled:_,snapshot:S,useClone:E,updateViewportMaxScroll:T,getContainerForClone:C}=r,N=Rt(()=>a.current,[]),L=Rt((tt=null)=>{a.current=tt},[]);Rt(()=>o.current,[]);const P=Rt((tt=null)=>{o.current=tt},[]),M=Rt(()=>{i()&&T({maxScroll:qw()})},[i,T]);pF({droppableId:u,type:h,mode:f,direction:p,isDropDisabled:v,isCombineEnabled:_,ignoreContainerClipping:m,getDroppableRef:N});const I=de(()=>je.createElement(yF,{on:r.placeholder,shouldAnimate:r.shouldAnimatePlaceholder},({onClose:tt,data:ht,animate:vt})=>je.createElement(vF,{placeholder:ht,onClose:tt,innerRef:P,animate:vt,contextId:e,onTransitionEnd:M})),[e,M,r.placeholder,r.shouldAnimatePlaceholder,P]),F=de(()=>({innerRef:L,placeholder:I,droppableProps:{"data-rfd-droppable-id":u,"data-rfd-droppable-context-id":e}}),[e,u,I,L]),q=E?E.dragging.draggableId:null,Z=de(()=>({droppableId:u,type:h,isUsingCloneFor:q}),[u,q,h]);function nt(){if(!E)return null;const{dragging:tt,render:ht}=E,vt=je.createElement(cT,{draggableId:tt.draggableId,index:tt.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Et,bt)=>ht(Et,bt,tt));return lP.createPortal(vt,C())}return je.createElement(Sv.Provider,{value:Z},c(F,S),nt())};function AF(){return document.body||gt(),document.body}const QE={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:AF},fT=r=>{let t={...r},e;for(e in QE)r[e]===void 0&&(t={...t,[e]:QE[e]});return t},Um=(r,t)=>r===t.droppable.type,ZE=(r,t)=>t.draggables[r.draggable.id],EF=()=>{const r={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...r,shouldAnimatePlaceholder:!1},e=gn(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),i=gn((o,c,u,h,f,p)=>{const m=f.descriptor.id;if(f.descriptor.droppableId===o){const S=p?{render:p,dragging:e(f.descriptor)}:null,E={isDraggingOver:u,draggingOverWith:u?m:null,draggingFromThisWith:m,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:E,useClone:S}}if(!c)return t;if(!h)return r;const _={isDraggingOver:u,draggingOverWith:m,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:_,useClone:null}});return(o,c)=>{const u=fT(c),h=u.droppableId,f=u.type,p=!u.isDropDisabled,m=u.renderClone;if(cd(o)){const v=o.critical;if(!Um(f,v))return t;const _=ZE(v,o.dimensions),S=Mi(o.impact)===h;return i(h,p,S,S,_,m)}if(o.phase==="DROP_ANIMATING"){const v=o.completed;if(!Um(f,v.critical))return t;const _=ZE(v.critical,o.dimensions);return i(h,p,oT(v.result)===h,Mi(v.impact)===h,_,m)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const v=o.completed;if(!Um(f,v.critical))return t;const _=Mi(v.impact)===h,S=!!(v.impact.at&&v.impact.at.type==="COMBINE"),E=v.critical.droppable.id===h;return _?S?r:t:E?r:t}return t}},SF={updateViewportMaxScroll:L2},wF=dw(EF,SF,(r,t,e)=>({...fT(e),...r,...t}),{context:_v,areStatePropsEqual:aT})(_F),TF=({showOnLoad:r,onToggleShowOnLoad:t})=>$.jsx($.Fragment,{children:$.jsx("div",{className:"modal-dialog modal-dialog-centered",children:$.jsxs("div",{className:"modal-content",children:[$.jsxs("div",{className:"modal-header",children:[$.jsx("img",{src:"js_logo_simbolo.png",alt:"JS Geologia Aplicada",style:{maxWidth:"50px"}}),$.jsx("h5",{className:"modal-title flex-grow-1 text-center",children:"Extrator de dados de PDFs"}),$.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),$.jsx("div",{className:"modal-body",children:$.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi sollicitudin sollicitudin purus. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Morbi laoreet, leo eget imperdiet suscipit, massa urna volutpat velit, ut aliquam neque turpis non felis. Aenean viverra augue sem, vitae dignissim mauris vulputate at. Mauris feugiat accumsan viverra. Nullam ac malesuada neque, ac commodo urna. Maecenas vulputate ullamcorper dui, in aliquet arcu porttitor a."})}),$.jsxs("div",{className:"modal-footer d-flex justify-content-between",children:[$.jsxs("div",{className:"form-check form-switch",children:[$.jsx("input",{className:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault",checked:r,onChange:e=>{t(e.target.checked)}}),$.jsx("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault",children:"Mostrar ao abrir"})]}),$.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Fechar"})]})]})})});function xF({onFileSelect:r,extractedTexts:t,onStartAreaSelection:e,onDeleteArea:i,onRenameArea:a,onClearArea:o,onAddNewArea:c,onLoadPreset:u,onDragEnd:h,areas:f,hasFile:p}){const[m,v]=V.useState(!1),_=()=>{v(!0)},[S,E]=V.useState(()=>localStorage.getItem("showHelpOnLoad")!=="false");V.useEffect(()=>{const C=()=>{new Oo("#helpModal").show()};if(S)if(document.readyState==="complete")C();else return window.addEventListener("load",C),()=>window.removeEventListener("load",C)},[]);const T=C=>{E(C),localStorage.setItem("showHelpOnLoad",C.toString())};return $.jsxs($.Fragment,{children:[$.jsx(aP,{onFileSelect:r}),$.jsx("div",{className:"modal fade",id:"helpModal",tabIndex:-1,children:$.jsx(TF,{showOnLoad:S,onToggleShowOnLoad:T})}),$.jsxs("div",{className:"d-flex justify-content-end gap-2 my-3",children:[$.jsx("button",{title:"Ajuda",className:"menu-btn","data-bs-toggle":"modal","data-bs-target":"#helpModal",children:$.jsx(yL,{size:24})}),$.jsx("button",{title:"Presets",className:"menu-btn",onClick:_,children:$.jsx(wL,{size:24})}),$.jsx("button",{title:"Adicionar área",className:"menu-btn",onClick:c,children:$.jsx(DL,{size:24})}),$.jsx("button",{title:"Extrair texto",className:"menu-btn menu-btn-cta",disabled:!0,children:$.jsx(KS,{size:24})})]}),f.length===0&&$.jsx("p",{className:"text-muted",children:'Clique em "Adicionar Área" para começar!'}),$.jsx(FB,{onDragEnd:h,children:$.jsx(wF,{droppableId:"areas",children:C=>$.jsxs("div",{className:"areas-container",...C.droppableProps,ref:C.innerRef,children:[f.map((N,L)=>$.jsx(iF,{draggableId:N.id,index:L,children:P=>$.jsx("div",{ref:P.innerRef,...P.draggableProps,...P.dragHandleProps,children:$.jsx(UL,{id:N.id,name:N.name,order:N.order,color:N.color,coordinates:N.coordinates,hasFile:p,onStartSelection:e,onClearArea:o,onDeleteArea:i,onRenameArea:a},N.id)})},N.id)),C.placeholder]})})}),t.length>0&&$.jsx(rP,{extractedTexts:t}),$.jsx(oP,{isOpen:m,onClose:()=>v(!1),currentAreas:f,onLoadPreset:u})]})}const CF=r=>{const e={id:`area-${Date.now()}`,name:`Área ${r.length+1}`,order:r.length+1,color:LF(r),coordinates:null};return[...r,e]},DF=(r,t)=>r.filter(e=>e.id!==t),OF=(r,t,e)=>r.map(i=>i.id===t?{...i,name:e}:i),RF=(r,t)=>r.map(e=>e.id===t?{...e,coordinates:null}:e),NF=(r,t,e)=>r.map(i=>i.id===t?{...i,coordinates:e}:i),MF=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899","#06B6D4","#F97316","#84CC16","#6B7280"],LF=r=>{const t=r.map(e=>e.color);return MF.find(e=>!t.includes(e))??"#000000"},PF=({children:r})=>$.jsxs("div",{className:"card mt-5",children:[$.jsx("div",{className:"card-header",children:$.jsx("img",{src:"js_logo_horizontal.png",alt:"JS Geologia Aplicada",style:{maxWidth:"200px"}})}),$.jsxs("div",{className:"card-body",children:[$.jsx("h4",{className:"card-title",children:"Extrator de dados de PDF"}),$.jsx("p",{className:"card-text",children:"Selecione áreas, extraia dados"}),r]})]});function IF(){const r=V.useRef(null),[t,e]=V.useState(null),[i,a]=V.useState([]),[o,c]=V.useState([]),[u,h]=V.useState(!1),[f,p]=V.useState(null),m=()=>{if(o.length>=10){alert("Limite de 10 áreas atingido");return}c(I=>CF(I))},v=I=>{c(F=>DF(F,I))},_=(I,F)=>{c(q=>OF(q,I,F))},S=I=>{c(F=>RF(F,I))},E=I=>{p(I),h(!0)},T=I=>{f&&c(F=>NF(F,f,I)),h(!1),p(null)},C=I=>{a(I)},N=()=>{r.current?.extractTexts()},L=I=>{c(I)},P=()=>{h(!1),p(null)};V.useEffect(()=>{const I=q=>{q.key==="Escape"&&u&&P()},F=q=>{const Z=document.querySelector(".pdf-container");u&&!Z?.contains(q.target)&&P()};return document.addEventListener("keydown",I),document.addEventListener("mousedown",F),()=>{document.removeEventListener("keydown",I),document.removeEventListener("mousedown",F)}},[u]);const M=I=>{if(!I.destination)return;const F=I.source.index,q=I.destination.index;if(F===q)return;const Z=Array.from(o),[nt]=Z.splice(F,1);Z.splice(q,0,nt);const tt=Z.map((ht,vt)=>({...ht,order:vt+1}));c(tt)};return $.jsxs($.Fragment,{children:[u&&$.jsx("div",{className:"selection-mode-overlay"}),$.jsx("div",{className:"container text-center",children:$.jsxs("div",{className:"row justify-content-center",children:[$.jsx("div",{className:"col-12 col-lg-4 col-xl-5 col-xxl-auto",style:{maxWidth:"450px",minWidth:"300px"},children:$.jsx(PF,{children:$.jsx(xF,{onFileSelect:e,extractedTexts:i,onExtractTexts:N,onStartAreaSelection:E,onClearArea:S,onDeleteArea:v,onRenameArea:_,onAddNewArea:m,onLoadPreset:L,onDragEnd:M,areas:o,hasFile:!!t})})}),$.jsx("div",{className:"col-12 col-lg-8 col-xl-7 col-xxl",children:$.jsx($L,{ref:r,file:t,onTextsExtracted:C,isSelectingActive:u,activeAreaId:f,onFinishSelection:T,areas:o})})]})})]})}function kF(){return $.jsx("div",{children:$.jsx(IF,{})})}Dx.createRoot(document.getElementById("root")).render($.jsx(V.StrictMode,{children:$.jsx(kF,{})}));
